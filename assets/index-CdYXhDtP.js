var Wg=Object.defineProperty;var Hg=(t,e,n)=>e in t?Wg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var R=(t,e,n)=>Hg(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();var YS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var nf={exports:{}},Ho={},sf={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var or=Symbol.for("react.element"),Ug=Symbol.for("react.portal"),Gg=Symbol.for("react.fragment"),Yg=Symbol.for("react.strict_mode"),Xg=Symbol.for("react.profiler"),Kg=Symbol.for("react.provider"),Qg=Symbol.for("react.context"),Zg=Symbol.for("react.forward_ref"),qg=Symbol.for("react.suspense"),Jg=Symbol.for("react.memo"),ex=Symbol.for("react.lazy"),Sd=Symbol.iterator;function tx(t){return t===null||typeof t!="object"?null:(t=Sd&&t[Sd]||t["@@iterator"],typeof t=="function"?t:null)}var rf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},of=Object.assign,af={};function Gi(t,e,n){this.props=t,this.context=e,this.refs=af,this.updater=n||rf}Gi.prototype.isReactComponent={};Gi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Gi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function lf(){}lf.prototype=Gi.prototype;function sc(t,e,n){this.props=t,this.context=e,this.refs=af,this.updater=n||rf}var rc=sc.prototype=new lf;rc.constructor=sc;of(rc,Gi.prototype);rc.isPureReactComponent=!0;var _d=Array.isArray,cf=Object.prototype.hasOwnProperty,oc={current:null},df={key:!0,ref:!0,__self:!0,__source:!0};function uf(t,e,n){var i,s={},r=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(r=""+e.key),e)cf.call(e,i)&&!df.hasOwnProperty(i)&&(s[i]=e[i]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)s[i]===void 0&&(s[i]=a[i]);return{$$typeof:or,type:t,key:r,ref:o,props:s,_owner:oc.current}}function nx(t,e){return{$$typeof:or,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ac(t){return typeof t=="object"&&t!==null&&t.$$typeof===or}function ix(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var kd=/\/+/g;function fa(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ix(""+t.key):e.toString(36)}function Yr(t,e,n,i,s){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case or:case Ug:o=!0}}if(o)return o=t,s=s(o),t=i===""?"."+fa(o,0):i,_d(s)?(n="",t!=null&&(n=t.replace(kd,"$&/")+"/"),Yr(s,e,n,"",function(c){return c})):s!=null&&(ac(s)&&(s=nx(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(kd,"$&/")+"/")+t)),e.push(s)),1;if(o=0,i=i===""?".":i+":",_d(t))for(var a=0;a<t.length;a++){r=t[a];var l=i+fa(r,a);o+=Yr(r,e,n,l,s)}else if(l=tx(t),typeof l=="function")for(t=l.call(t),a=0;!(r=t.next()).done;)r=r.value,l=i+fa(r,a++),o+=Yr(r,e,n,l,s);else if(r==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function xr(t,e,n){if(t==null)return t;var i=[],s=0;return Yr(t,i,"","",function(r){return e.call(n,r,s++)}),i}function sx(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var He={current:null},Xr={transition:null},rx={ReactCurrentDispatcher:He,ReactCurrentBatchConfig:Xr,ReactCurrentOwner:oc};function hf(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:xr,forEach:function(t,e,n){xr(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return xr(t,function(){e++}),e},toArray:function(t){return xr(t,function(e){return e})||[]},only:function(t){if(!ac(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Z.Component=Gi;Z.Fragment=Gg;Z.Profiler=Xg;Z.PureComponent=sc;Z.StrictMode=Yg;Z.Suspense=qg;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rx;Z.act=hf;Z.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=of({},t.props),s=t.key,r=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,o=oc.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)cf.call(e,l)&&!df.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:or,type:t.type,key:s,ref:r,props:i,_owner:o}};Z.createContext=function(t){return t={$$typeof:Qg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Kg,_context:t},t.Consumer=t};Z.createElement=uf;Z.createFactory=function(t){var e=uf.bind(null,t);return e.type=t,e};Z.createRef=function(){return{current:null}};Z.forwardRef=function(t){return{$$typeof:Zg,render:t}};Z.isValidElement=ac;Z.lazy=function(t){return{$$typeof:ex,_payload:{_status:-1,_result:t},_init:sx}};Z.memo=function(t,e){return{$$typeof:Jg,type:t,compare:e===void 0?null:e}};Z.startTransition=function(t){var e=Xr.transition;Xr.transition={};try{t()}finally{Xr.transition=e}};Z.unstable_act=hf;Z.useCallback=function(t,e){return He.current.useCallback(t,e)};Z.useContext=function(t){return He.current.useContext(t)};Z.useDebugValue=function(){};Z.useDeferredValue=function(t){return He.current.useDeferredValue(t)};Z.useEffect=function(t,e){return He.current.useEffect(t,e)};Z.useId=function(){return He.current.useId()};Z.useImperativeHandle=function(t,e,n){return He.current.useImperativeHandle(t,e,n)};Z.useInsertionEffect=function(t,e){return He.current.useInsertionEffect(t,e)};Z.useLayoutEffect=function(t,e){return He.current.useLayoutEffect(t,e)};Z.useMemo=function(t,e){return He.current.useMemo(t,e)};Z.useReducer=function(t,e,n){return He.current.useReducer(t,e,n)};Z.useRef=function(t){return He.current.useRef(t)};Z.useState=function(t){return He.current.useState(t)};Z.useSyncExternalStore=function(t,e,n){return He.current.useSyncExternalStore(t,e,n)};Z.useTransition=function(){return He.current.useTransition()};Z.version="18.3.1";sf.exports=Z;var B=sf.exports;const ff=Vg(B);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ox=B,ax=Symbol.for("react.element"),lx=Symbol.for("react.fragment"),cx=Object.prototype.hasOwnProperty,dx=ox.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ux={key:!0,ref:!0,__self:!0,__source:!0};function mf(t,e,n){var i,s={},r=null,o=null;n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)cx.call(e,i)&&!ux.hasOwnProperty(i)&&(s[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)s[i]===void 0&&(s[i]=e[i]);return{$$typeof:ax,type:t,key:r,ref:o,props:s,_owner:dx.current}}Ho.Fragment=lx;Ho.jsx=mf;Ho.jsxs=mf;nf.exports=Ho;var d=nf.exports,el={},pf={exports:{}},rt={},gf={exports:{}},xf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,C){var M=k.length;k.push(C);e:for(;0<M;){var E=M-1>>>1,I=k[E];if(0<s(I,C))k[E]=C,k[M]=I,M=E;else break e}}function n(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var C=k[0],M=k.pop();if(M!==C){k[0]=M;e:for(var E=0,I=k.length,H=I>>>1;E<H;){var Y=2*(E+1)-1,fe=k[Y],te=Y+1,Ue=k[te];if(0>s(fe,M))te<I&&0>s(Ue,fe)?(k[E]=Ue,k[te]=M,E=te):(k[E]=fe,k[Y]=M,E=Y);else if(te<I&&0>s(Ue,M))k[E]=Ue,k[te]=M,E=te;else break e}}return C}function s(k,C){var M=k.sortIndex-C.sortIndex;return M!==0?M:k.id-C.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,f=3,m=!1,g=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(k){for(var C=n(c);C!==null;){if(C.callback===null)i(c);else if(C.startTime<=k)i(c),C.sortIndex=C.expirationTime,e(l,C);else break;C=n(c)}}function _(k){if(x=!1,b(k),!g)if(n(l)!==null)g=!0,G(S);else{var C=n(c);C!==null&&K(_,C.startTime-k)}}function S(k,C){g=!1,x&&(x=!1,p(N),N=-1),m=!0;var M=f;try{for(b(C),h=n(l);h!==null&&(!(h.expirationTime>C)||k&&!P());){var E=h.callback;if(typeof E=="function"){h.callback=null,f=h.priorityLevel;var I=E(h.expirationTime<=C);C=t.unstable_now(),typeof I=="function"?h.callback=I:h===n(l)&&i(l),b(C)}else i(l);h=n(l)}if(h!==null)var H=!0;else{var Y=n(c);Y!==null&&K(_,Y.startTime-C),H=!1}return H}finally{h=null,f=M,m=!1}}var w=!1,j=null,N=-1,A=5,D=-1;function P(){return!(t.unstable_now()-D<A)}function T(){if(j!==null){var k=t.unstable_now();D=k;var C=!0;try{C=j(!0,k)}finally{C?O():(w=!1,j=null)}}else w=!1}var O;if(typeof y=="function")O=function(){y(T)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,z=W.port2;W.port1.onmessage=T,O=function(){z.postMessage(null)}}else O=function(){v(T,0)};function G(k){j=k,w||(w=!0,O())}function K(k,C){N=v(function(){k(t.unstable_now())},C)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,G(S))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(k){switch(f){case 1:case 2:case 3:var C=3;break;default:C=f}var M=f;f=C;try{return k()}finally{f=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,C){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var M=f;f=k;try{return C()}finally{f=M}},t.unstable_scheduleCallback=function(k,C,M){var E=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?E+M:E):M=E,k){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=M+I,k={id:u++,callback:C,priorityLevel:k,startTime:M,expirationTime:I,sortIndex:-1},M>E?(k.sortIndex=M,e(c,k),n(l)===null&&k===n(c)&&(x?(p(N),N=-1):x=!0,K(_,M-E))):(k.sortIndex=I,e(l,k),g||m||(g=!0,G(S))),k},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(k){var C=f;return function(){var M=f;f=C;try{return k.apply(this,arguments)}finally{f=M}}}})(xf);gf.exports=xf;var hx=gf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fx=B,st=hx;function F(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yf=new Set,Ls={};function ii(t,e){Fi(t,e),Fi(t+"Capture",e)}function Fi(t,e){for(Ls[t]=e,t=0;t<e.length;t++)yf.add(e[t])}var Ut=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tl=Object.prototype.hasOwnProperty,mx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Nd={},jd={};function px(t){return tl.call(jd,t)?!0:tl.call(Nd,t)?!1:mx.test(t)?jd[t]=!0:(Nd[t]=!0,!1)}function gx(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function xx(t,e,n,i){if(e===null||typeof e>"u"||gx(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ve(t,e,n,i,s,r,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=o}var Te={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Te[t]=new Ve(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Te[e]=new Ve(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Te[t]=new Ve(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Te[t]=new Ve(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Te[t]=new Ve(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Te[t]=new Ve(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Te[t]=new Ve(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Te[t]=new Ve(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Te[t]=new Ve(t,5,!1,t.toLowerCase(),null,!1,!1)});var lc=/[\-:]([a-z])/g;function cc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(lc,cc);Te[e]=new Ve(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(lc,cc);Te[e]=new Ve(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(lc,cc);Te[e]=new Ve(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Te[t]=new Ve(t,1,!1,t.toLowerCase(),null,!1,!1)});Te.xlinkHref=new Ve("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Te[t]=new Ve(t,1,!1,t.toLowerCase(),null,!0,!0)});function dc(t,e,n,i){var s=Te.hasOwnProperty(e)?Te[e]:null;(s!==null?s.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(xx(e,n,s,i)&&(n=null),i||s===null?px(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,i=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var Kt=fx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yr=Symbol.for("react.element"),di=Symbol.for("react.portal"),ui=Symbol.for("react.fragment"),uc=Symbol.for("react.strict_mode"),nl=Symbol.for("react.profiler"),vf=Symbol.for("react.provider"),bf=Symbol.for("react.context"),hc=Symbol.for("react.forward_ref"),il=Symbol.for("react.suspense"),sl=Symbol.for("react.suspense_list"),fc=Symbol.for("react.memo"),tn=Symbol.for("react.lazy"),wf=Symbol.for("react.offscreen"),Cd=Symbol.iterator;function Qi(t){return t===null||typeof t!="object"?null:(t=Cd&&t[Cd]||t["@@iterator"],typeof t=="function"?t:null)}var ge=Object.assign,ma;function cs(t){if(ma===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ma=e&&e[1]||""}return`
`+ma+t}var pa=!1;function ga(t,e){if(!t||pa)return"";pa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),r=i.stack.split(`
`),o=s.length-1,a=r.length-1;1<=o&&0<=a&&s[o]!==r[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==r[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==r[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{pa=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?cs(t):""}function yx(t){switch(t.tag){case 5:return cs(t.type);case 16:return cs("Lazy");case 13:return cs("Suspense");case 19:return cs("SuspenseList");case 0:case 2:case 15:return t=ga(t.type,!1),t;case 11:return t=ga(t.type.render,!1),t;case 1:return t=ga(t.type,!0),t;default:return""}}function rl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ui:return"Fragment";case di:return"Portal";case nl:return"Profiler";case uc:return"StrictMode";case il:return"Suspense";case sl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case bf:return(t.displayName||"Context")+".Consumer";case vf:return(t._context.displayName||"Context")+".Provider";case hc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case fc:return e=t.displayName||null,e!==null?e:rl(t.type)||"Memo";case tn:e=t._payload,t=t._init;try{return rl(t(e))}catch{}}return null}function vx(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rl(e);case 8:return e===uc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Sn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Sf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function bx(t){var e=Sf(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){i=""+o,r.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vr(t){t._valueTracker||(t._valueTracker=bx(t))}function _f(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=Sf(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function lo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ol(t,e){var n=e.checked;return ge({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Pd(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Sn(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function kf(t,e){e=e.checked,e!=null&&dc(t,"checked",e,!1)}function al(t,e){kf(t,e);var n=Sn(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ll(t,e.type,n):e.hasOwnProperty("defaultValue")&&ll(t,e.type,Sn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Md(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ll(t,e,n){(e!=="number"||lo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ds=Array.isArray;function _i(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Sn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function cl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(F(91));return ge({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Dd(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(F(92));if(ds(n)){if(1<n.length)throw Error(F(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Sn(n)}}function Nf(t,e){var n=Sn(e.value),i=Sn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function Ad(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function jf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?jf(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var br,Cf=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(br=br||document.createElement("div"),br.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=br.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Es(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var xs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wx=["Webkit","ms","Moz","O"];Object.keys(xs).forEach(function(t){wx.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),xs[e]=xs[t]})});function Pf(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||xs.hasOwnProperty(t)&&xs[t]?(""+e).trim():e+"px"}function Mf(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,s=Pf(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,s):t[n]=s}}var Sx=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ul(t,e){if(e){if(Sx[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(F(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(F(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(F(61))}if(e.style!=null&&typeof e.style!="object")throw Error(F(62))}}function hl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fl=null;function mc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ml=null,ki=null,Ni=null;function Td(t){if(t=cr(t)){if(typeof ml!="function")throw Error(F(280));var e=t.stateNode;e&&(e=Xo(e),ml(t.stateNode,t.type,e))}}function Df(t){ki?Ni?Ni.push(t):Ni=[t]:ki=t}function Af(){if(ki){var t=ki,e=Ni;if(Ni=ki=null,Td(t),e)for(t=0;t<e.length;t++)Td(e[t])}}function Tf(t,e){return t(e)}function Lf(){}var xa=!1;function Ef(t,e,n){if(xa)return t(e,n);xa=!0;try{return Tf(t,e,n)}finally{xa=!1,(ki!==null||Ni!==null)&&(Lf(),Af())}}function Fs(t,e){var n=t.stateNode;if(n===null)return null;var i=Xo(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(F(231,e,typeof n));return n}var pl=!1;if(Ut)try{var Zi={};Object.defineProperty(Zi,"passive",{get:function(){pl=!0}}),window.addEventListener("test",Zi,Zi),window.removeEventListener("test",Zi,Zi)}catch{pl=!1}function _x(t,e,n,i,s,r,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var ys=!1,co=null,uo=!1,gl=null,kx={onError:function(t){ys=!0,co=t}};function Nx(t,e,n,i,s,r,o,a,l){ys=!1,co=null,_x.apply(kx,arguments)}function jx(t,e,n,i,s,r,o,a,l){if(Nx.apply(this,arguments),ys){if(ys){var c=co;ys=!1,co=null}else throw Error(F(198));uo||(uo=!0,gl=c)}}function si(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ff(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ld(t){if(si(t)!==t)throw Error(F(188))}function Cx(t){var e=t.alternate;if(!e){if(e=si(t),e===null)throw Error(F(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return Ld(s),t;if(r===i)return Ld(s),e;r=r.sibling}throw Error(F(188))}if(n.return!==i.return)n=s,i=r;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o){for(a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o)throw Error(F(189))}}if(n.alternate!==i)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?t:e}function Rf(t){return t=Cx(t),t!==null?If(t):null}function If(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=If(t);if(e!==null)return e;t=t.sibling}return null}var Of=st.unstable_scheduleCallback,Ed=st.unstable_cancelCallback,Px=st.unstable_shouldYield,Mx=st.unstable_requestPaint,ve=st.unstable_now,Dx=st.unstable_getCurrentPriorityLevel,pc=st.unstable_ImmediatePriority,zf=st.unstable_UserBlockingPriority,ho=st.unstable_NormalPriority,Ax=st.unstable_LowPriority,Bf=st.unstable_IdlePriority,Vo=null,At=null;function Tx(t){if(At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(Vo,t,void 0,(t.current.flags&128)===128)}catch{}}var St=Math.clz32?Math.clz32:Fx,Lx=Math.log,Ex=Math.LN2;function Fx(t){return t>>>=0,t===0?32:31-(Lx(t)/Ex|0)|0}var wr=64,Sr=4194304;function us(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fo(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,s=t.suspendedLanes,r=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?i=us(a):(r&=o,r!==0&&(i=us(r)))}else o=n&~s,o!==0?i=us(o):r!==0&&(i=us(r));if(i===0)return 0;if(e!==0&&e!==i&&!(e&s)&&(s=i&-i,r=e&-e,s>=r||s===16&&(r&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-St(e),s=1<<n,i|=t[n],e&=~s;return i}function Rx(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ix(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,r=t.pendingLanes;0<r;){var o=31-St(r),a=1<<o,l=s[o];l===-1?(!(a&n)||a&i)&&(s[o]=Rx(a,e)):l<=e&&(t.expiredLanes|=a),r&=~a}}function xl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $f(){var t=wr;return wr<<=1,!(wr&4194240)&&(wr=64),t}function ya(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ar(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-St(e),t[e]=n}function Ox(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-St(n),r=1<<s;e[s]=0,i[s]=-1,t[s]=-1,n&=~r}}function gc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-St(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}var ie=0;function Wf(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Hf,xc,Vf,Uf,Gf,yl=!1,_r=[],fn=null,mn=null,pn=null,Rs=new Map,Is=new Map,sn=[],zx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fd(t,e){switch(t){case"focusin":case"focusout":fn=null;break;case"dragenter":case"dragleave":mn=null;break;case"mouseover":case"mouseout":pn=null;break;case"pointerover":case"pointerout":Rs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Is.delete(e.pointerId)}}function qi(t,e,n,i,s,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},e!==null&&(e=cr(e),e!==null&&xc(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Bx(t,e,n,i,s){switch(e){case"focusin":return fn=qi(fn,t,e,n,i,s),!0;case"dragenter":return mn=qi(mn,t,e,n,i,s),!0;case"mouseover":return pn=qi(pn,t,e,n,i,s),!0;case"pointerover":var r=s.pointerId;return Rs.set(r,qi(Rs.get(r)||null,t,e,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,Is.set(r,qi(Is.get(r)||null,t,e,n,i,s)),!0}return!1}function Yf(t){var e=$n(t.target);if(e!==null){var n=si(e);if(n!==null){if(e=n.tag,e===13){if(e=Ff(n),e!==null){t.blockedOn=e,Gf(t.priority,function(){Vf(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Kr(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=vl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);fl=i,n.target.dispatchEvent(i),fl=null}else return e=cr(n),e!==null&&xc(e),t.blockedOn=n,!1;e.shift()}return!0}function Rd(t,e,n){Kr(t)&&n.delete(e)}function $x(){yl=!1,fn!==null&&Kr(fn)&&(fn=null),mn!==null&&Kr(mn)&&(mn=null),pn!==null&&Kr(pn)&&(pn=null),Rs.forEach(Rd),Is.forEach(Rd)}function Ji(t,e){t.blockedOn===e&&(t.blockedOn=null,yl||(yl=!0,st.unstable_scheduleCallback(st.unstable_NormalPriority,$x)))}function Os(t){function e(s){return Ji(s,t)}if(0<_r.length){Ji(_r[0],t);for(var n=1;n<_r.length;n++){var i=_r[n];i.blockedOn===t&&(i.blockedOn=null)}}for(fn!==null&&Ji(fn,t),mn!==null&&Ji(mn,t),pn!==null&&Ji(pn,t),Rs.forEach(e),Is.forEach(e),n=0;n<sn.length;n++)i=sn[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<sn.length&&(n=sn[0],n.blockedOn===null);)Yf(n),n.blockedOn===null&&sn.shift()}var ji=Kt.ReactCurrentBatchConfig,mo=!0;function Wx(t,e,n,i){var s=ie,r=ji.transition;ji.transition=null;try{ie=1,yc(t,e,n,i)}finally{ie=s,ji.transition=r}}function Hx(t,e,n,i){var s=ie,r=ji.transition;ji.transition=null;try{ie=4,yc(t,e,n,i)}finally{ie=s,ji.transition=r}}function yc(t,e,n,i){if(mo){var s=vl(t,e,n,i);if(s===null)Pa(t,e,i,po,n),Fd(t,i);else if(Bx(s,t,e,n,i))i.stopPropagation();else if(Fd(t,i),e&4&&-1<zx.indexOf(t)){for(;s!==null;){var r=cr(s);if(r!==null&&Hf(r),r=vl(t,e,n,i),r===null&&Pa(t,e,i,po,n),r===s)break;s=r}s!==null&&i.stopPropagation()}else Pa(t,e,i,null,n)}}var po=null;function vl(t,e,n,i){if(po=null,t=mc(i),t=$n(t),t!==null)if(e=si(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ff(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return po=t,null}function Xf(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dx()){case pc:return 1;case zf:return 4;case ho:case Ax:return 16;case Bf:return 536870912;default:return 16}default:return 16}}var on=null,vc=null,Qr=null;function Kf(){if(Qr)return Qr;var t,e=vc,n=e.length,i,s="value"in on?on.value:on.textContent,r=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===s[r-i];i++);return Qr=s.slice(t,1<i?1-i:void 0)}function Zr(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function kr(){return!0}function Id(){return!1}function ot(t){function e(n,i,s,r,o){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(r):r[a]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?kr:Id,this.isPropagationStopped=Id,this}return ge(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=kr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=kr)},persist:function(){},isPersistent:kr}),e}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bc=ot(Yi),lr=ge({},Yi,{view:0,detail:0}),Vx=ot(lr),va,ba,es,Uo=ge({},lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==es&&(es&&t.type==="mousemove"?(va=t.screenX-es.screenX,ba=t.screenY-es.screenY):ba=va=0,es=t),va)},movementY:function(t){return"movementY"in t?t.movementY:ba}}),Od=ot(Uo),Ux=ge({},Uo,{dataTransfer:0}),Gx=ot(Ux),Yx=ge({},lr,{relatedTarget:0}),wa=ot(Yx),Xx=ge({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),Kx=ot(Xx),Qx=ge({},Yi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Zx=ot(Qx),qx=ge({},Yi,{data:0}),zd=ot(qx),Jx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},e0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},t0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function n0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=t0[t])?!!e[t]:!1}function wc(){return n0}var i0=ge({},lr,{key:function(t){if(t.key){var e=Jx[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Zr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?e0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wc,charCode:function(t){return t.type==="keypress"?Zr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),s0=ot(i0),r0=ge({},Uo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bd=ot(r0),o0=ge({},lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wc}),a0=ot(o0),l0=ge({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),c0=ot(l0),d0=ge({},Uo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),u0=ot(d0),h0=[9,13,27,32],Sc=Ut&&"CompositionEvent"in window,vs=null;Ut&&"documentMode"in document&&(vs=document.documentMode);var f0=Ut&&"TextEvent"in window&&!vs,Qf=Ut&&(!Sc||vs&&8<vs&&11>=vs),$d=" ",Wd=!1;function Zf(t,e){switch(t){case"keyup":return h0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var hi=!1;function m0(t,e){switch(t){case"compositionend":return qf(e);case"keypress":return e.which!==32?null:(Wd=!0,$d);case"textInput":return t=e.data,t===$d&&Wd?null:t;default:return null}}function p0(t,e){if(hi)return t==="compositionend"||!Sc&&Zf(t,e)?(t=Kf(),Qr=vc=on=null,hi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Qf&&e.locale!=="ko"?null:e.data;default:return null}}var g0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!g0[t.type]:e==="textarea"}function Jf(t,e,n,i){Df(i),e=go(e,"onChange"),0<e.length&&(n=new bc("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var bs=null,zs=null;function x0(t){dm(t,0)}function Go(t){var e=pi(t);if(_f(e))return t}function y0(t,e){if(t==="change")return e}var em=!1;if(Ut){var Sa;if(Ut){var _a="oninput"in document;if(!_a){var Vd=document.createElement("div");Vd.setAttribute("oninput","return;"),_a=typeof Vd.oninput=="function"}Sa=_a}else Sa=!1;em=Sa&&(!document.documentMode||9<document.documentMode)}function Ud(){bs&&(bs.detachEvent("onpropertychange",tm),zs=bs=null)}function tm(t){if(t.propertyName==="value"&&Go(zs)){var e=[];Jf(e,zs,t,mc(t)),Ef(x0,e)}}function v0(t,e,n){t==="focusin"?(Ud(),bs=e,zs=n,bs.attachEvent("onpropertychange",tm)):t==="focusout"&&Ud()}function b0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Go(zs)}function w0(t,e){if(t==="click")return Go(e)}function S0(t,e){if(t==="input"||t==="change")return Go(e)}function _0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var kt=typeof Object.is=="function"?Object.is:_0;function Bs(t,e){if(kt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!tl.call(e,s)||!kt(t[s],e[s]))return!1}return!0}function Gd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yd(t,e){var n=Gd(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Gd(n)}}function nm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?nm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function im(){for(var t=window,e=lo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=lo(t.document)}return e}function _c(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function k0(t){var e=im(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&nm(n.ownerDocument.documentElement,n)){if(i!==null&&_c(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,r=Math.min(i.start,s);i=i.end===void 0?r:Math.min(i.end,s),!t.extend&&r>i&&(s=i,i=r,r=s),s=Yd(n,r);var o=Yd(n,i);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),r>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var N0=Ut&&"documentMode"in document&&11>=document.documentMode,fi=null,bl=null,ws=null,wl=!1;function Xd(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wl||fi==null||fi!==lo(i)||(i=fi,"selectionStart"in i&&_c(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ws&&Bs(ws,i)||(ws=i,i=go(bl,"onSelect"),0<i.length&&(e=new bc("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=fi)))}function Nr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var mi={animationend:Nr("Animation","AnimationEnd"),animationiteration:Nr("Animation","AnimationIteration"),animationstart:Nr("Animation","AnimationStart"),transitionend:Nr("Transition","TransitionEnd")},ka={},sm={};Ut&&(sm=document.createElement("div").style,"AnimationEvent"in window||(delete mi.animationend.animation,delete mi.animationiteration.animation,delete mi.animationstart.animation),"TransitionEvent"in window||delete mi.transitionend.transition);function Yo(t){if(ka[t])return ka[t];if(!mi[t])return t;var e=mi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in sm)return ka[t]=e[n];return t}var rm=Yo("animationend"),om=Yo("animationiteration"),am=Yo("animationstart"),lm=Yo("transitionend"),cm=new Map,Kd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jn(t,e){cm.set(t,e),ii(e,[t])}for(var Na=0;Na<Kd.length;Na++){var ja=Kd[Na],j0=ja.toLowerCase(),C0=ja[0].toUpperCase()+ja.slice(1);jn(j0,"on"+C0)}jn(rm,"onAnimationEnd");jn(om,"onAnimationIteration");jn(am,"onAnimationStart");jn("dblclick","onDoubleClick");jn("focusin","onFocus");jn("focusout","onBlur");jn(lm,"onTransitionEnd");Fi("onMouseEnter",["mouseout","mouseover"]);Fi("onMouseLeave",["mouseout","mouseover"]);Fi("onPointerEnter",["pointerout","pointerover"]);Fi("onPointerLeave",["pointerout","pointerover"]);ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ii("onBeforeInput",["compositionend","keypress","textInput","paste"]);ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),P0=new Set("cancel close invalid load scroll toggle".split(" ").concat(hs));function Qd(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,jx(i,e,void 0,t),t.currentTarget=null}function dm(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;e:{var r=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==r&&s.isPropagationStopped())break e;Qd(s,a,c),r=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==r&&s.isPropagationStopped())break e;Qd(s,a,c),r=l}}}if(uo)throw t=gl,uo=!1,gl=null,t}function ae(t,e){var n=e[jl];n===void 0&&(n=e[jl]=new Set);var i=t+"__bubble";n.has(i)||(um(e,t,2,!1),n.add(i))}function Ca(t,e,n){var i=0;e&&(i|=4),um(n,t,i,e)}var jr="_reactListening"+Math.random().toString(36).slice(2);function $s(t){if(!t[jr]){t[jr]=!0,yf.forEach(function(n){n!=="selectionchange"&&(P0.has(n)||Ca(n,!1,t),Ca(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[jr]||(e[jr]=!0,Ca("selectionchange",!1,e))}}function um(t,e,n,i){switch(Xf(e)){case 1:var s=Wx;break;case 4:s=Hx;break;default:s=yc}n=s.bind(null,e,n,t),s=void 0,!pl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Pa(t,e,n,i,s){var r=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=$n(a),o===null)return;if(l=o.tag,l===5||l===6){i=r=o;continue e}a=a.parentNode}}i=i.return}Ef(function(){var c=r,u=mc(n),h=[];e:{var f=cm.get(t);if(f!==void 0){var m=bc,g=t;switch(t){case"keypress":if(Zr(n)===0)break e;case"keydown":case"keyup":m=s0;break;case"focusin":g="focus",m=wa;break;case"focusout":g="blur",m=wa;break;case"beforeblur":case"afterblur":m=wa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Od;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Gx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=a0;break;case rm:case om:case am:m=Kx;break;case lm:m=c0;break;case"scroll":m=Vx;break;case"wheel":m=u0;break;case"copy":case"cut":case"paste":m=Zx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Bd}var x=(e&4)!==0,v=!x&&t==="scroll",p=x?f!==null?f+"Capture":null:f;x=[];for(var y=c,b;y!==null;){b=y;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,p!==null&&(_=Fs(y,p),_!=null&&x.push(Ws(y,_,b)))),v)break;y=y.return}0<x.length&&(f=new m(f,g,null,n,u),h.push({event:f,listeners:x}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==fl&&(g=n.relatedTarget||n.fromElement)&&($n(g)||g[Gt]))break e;if((m||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=c,g=g?$n(g):null,g!==null&&(v=si(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=c),m!==g)){if(x=Od,_="onMouseLeave",p="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(x=Bd,_="onPointerLeave",p="onPointerEnter",y="pointer"),v=m==null?f:pi(m),b=g==null?f:pi(g),f=new x(_,y+"leave",m,n,u),f.target=v,f.relatedTarget=b,_=null,$n(u)===c&&(x=new x(p,y+"enter",g,n,u),x.target=b,x.relatedTarget=v,_=x),v=_,m&&g)t:{for(x=m,p=g,y=0,b=x;b;b=ai(b))y++;for(b=0,_=p;_;_=ai(_))b++;for(;0<y-b;)x=ai(x),y--;for(;0<b-y;)p=ai(p),b--;for(;y--;){if(x===p||p!==null&&x===p.alternate)break t;x=ai(x),p=ai(p)}x=null}else x=null;m!==null&&Zd(h,f,m,x,!1),g!==null&&v!==null&&Zd(h,v,g,x,!0)}}e:{if(f=c?pi(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var S=y0;else if(Hd(f))if(em)S=S0;else{S=b0;var w=v0}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=w0);if(S&&(S=S(t,c))){Jf(h,S,n,u);break e}w&&w(t,f,c),t==="focusout"&&(w=f._wrapperState)&&w.controlled&&f.type==="number"&&ll(f,"number",f.value)}switch(w=c?pi(c):window,t){case"focusin":(Hd(w)||w.contentEditable==="true")&&(fi=w,bl=c,ws=null);break;case"focusout":ws=bl=fi=null;break;case"mousedown":wl=!0;break;case"contextmenu":case"mouseup":case"dragend":wl=!1,Xd(h,n,u);break;case"selectionchange":if(N0)break;case"keydown":case"keyup":Xd(h,n,u)}var j;if(Sc)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else hi?Zf(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(Qf&&n.locale!=="ko"&&(hi||N!=="onCompositionStart"?N==="onCompositionEnd"&&hi&&(j=Kf()):(on=u,vc="value"in on?on.value:on.textContent,hi=!0)),w=go(c,N),0<w.length&&(N=new zd(N,t,null,n,u),h.push({event:N,listeners:w}),j?N.data=j:(j=qf(n),j!==null&&(N.data=j)))),(j=f0?m0(t,n):p0(t,n))&&(c=go(c,"onBeforeInput"),0<c.length&&(u=new zd("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=j))}dm(h,e)})}function Ws(t,e,n){return{instance:t,listener:e,currentTarget:n}}function go(t,e){for(var n=e+"Capture",i=[];t!==null;){var s=t,r=s.stateNode;s.tag===5&&r!==null&&(s=r,r=Fs(t,n),r!=null&&i.unshift(Ws(t,r,s)),r=Fs(t,e),r!=null&&i.push(Ws(t,r,s))),t=t.return}return i}function ai(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Zd(t,e,n,i,s){for(var r=e._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,s?(l=Fs(n,r),l!=null&&o.unshift(Ws(n,l,a))):s||(l=Fs(n,r),l!=null&&o.push(Ws(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var M0=/\r\n?/g,D0=/\u0000|\uFFFD/g;function qd(t){return(typeof t=="string"?t:""+t).replace(M0,`
`).replace(D0,"")}function Cr(t,e,n){if(e=qd(e),qd(t)!==e&&n)throw Error(F(425))}function xo(){}var Sl=null,_l=null;function kl(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Nl=typeof setTimeout=="function"?setTimeout:void 0,A0=typeof clearTimeout=="function"?clearTimeout:void 0,Jd=typeof Promise=="function"?Promise:void 0,T0=typeof queueMicrotask=="function"?queueMicrotask:typeof Jd<"u"?function(t){return Jd.resolve(null).then(t).catch(L0)}:Nl;function L0(t){setTimeout(function(){throw t})}function Ma(t,e){var n=e,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(i===0){t.removeChild(s),Os(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=s}while(n);Os(e)}function gn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function eu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Xi=Math.random().toString(36).slice(2),Mt="__reactFiber$"+Xi,Hs="__reactProps$"+Xi,Gt="__reactContainer$"+Xi,jl="__reactEvents$"+Xi,E0="__reactListeners$"+Xi,F0="__reactHandles$"+Xi;function $n(t){var e=t[Mt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Gt]||n[Mt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=eu(t);t!==null;){if(n=t[Mt])return n;t=eu(t)}return e}t=n,n=t.parentNode}return null}function cr(t){return t=t[Mt]||t[Gt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function pi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(F(33))}function Xo(t){return t[Hs]||null}var Cl=[],gi=-1;function Cn(t){return{current:t}}function le(t){0>gi||(t.current=Cl[gi],Cl[gi]=null,gi--)}function re(t,e){gi++,Cl[gi]=t.current,t.current=e}var _n={},Oe=Cn(_n),Qe=Cn(!1),Qn=_n;function Ri(t,e){var n=t.type.contextTypes;if(!n)return _n;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var s={},r;for(r in n)s[r]=e[r];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ze(t){return t=t.childContextTypes,t!=null}function yo(){le(Qe),le(Oe)}function tu(t,e,n){if(Oe.current!==_n)throw Error(F(168));re(Oe,e),re(Qe,n)}function hm(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var s in i)if(!(s in e))throw Error(F(108,vx(t)||"Unknown",s));return ge({},n,i)}function vo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||_n,Qn=Oe.current,re(Oe,t),re(Qe,Qe.current),!0}function nu(t,e,n){var i=t.stateNode;if(!i)throw Error(F(169));n?(t=hm(t,e,Qn),i.__reactInternalMemoizedMergedChildContext=t,le(Qe),le(Oe),re(Oe,t)):le(Qe),re(Qe,n)}var It=null,Ko=!1,Da=!1;function fm(t){It===null?It=[t]:It.push(t)}function R0(t){Ko=!0,fm(t)}function Pn(){if(!Da&&It!==null){Da=!0;var t=0,e=ie;try{var n=It;for(ie=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}It=null,Ko=!1}catch(s){throw It!==null&&(It=It.slice(t+1)),Of(pc,Pn),s}finally{ie=e,Da=!1}}return null}var xi=[],yi=0,bo=null,wo=0,lt=[],ct=0,Zn=null,zt=1,Bt="";function In(t,e){xi[yi++]=wo,xi[yi++]=bo,bo=t,wo=e}function mm(t,e,n){lt[ct++]=zt,lt[ct++]=Bt,lt[ct++]=Zn,Zn=t;var i=zt;t=Bt;var s=32-St(i)-1;i&=~(1<<s),n+=1;var r=32-St(e)+s;if(30<r){var o=s-s%5;r=(i&(1<<o)-1).toString(32),i>>=o,s-=o,zt=1<<32-St(e)+s|n<<s|i,Bt=r+t}else zt=1<<r|n<<s|i,Bt=t}function kc(t){t.return!==null&&(In(t,1),mm(t,1,0))}function Nc(t){for(;t===bo;)bo=xi[--yi],xi[yi]=null,wo=xi[--yi],xi[yi]=null;for(;t===Zn;)Zn=lt[--ct],lt[ct]=null,Bt=lt[--ct],lt[ct]=null,zt=lt[--ct],lt[ct]=null}var it=null,nt=null,ue=!1,bt=null;function pm(t,e){var n=dt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function iu(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,it=t,nt=gn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,it=t,nt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Zn!==null?{id:zt,overflow:Bt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=dt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,it=t,nt=null,!0):!1;default:return!1}}function Pl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ml(t){if(ue){var e=nt;if(e){var n=e;if(!iu(t,e)){if(Pl(t))throw Error(F(418));e=gn(n.nextSibling);var i=it;e&&iu(t,e)?pm(i,n):(t.flags=t.flags&-4097|2,ue=!1,it=t)}}else{if(Pl(t))throw Error(F(418));t.flags=t.flags&-4097|2,ue=!1,it=t}}}function su(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;it=t}function Pr(t){if(t!==it)return!1;if(!ue)return su(t),ue=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!kl(t.type,t.memoizedProps)),e&&(e=nt)){if(Pl(t))throw gm(),Error(F(418));for(;e;)pm(t,e),e=gn(e.nextSibling)}if(su(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(F(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){nt=gn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}nt=null}}else nt=it?gn(t.stateNode.nextSibling):null;return!0}function gm(){for(var t=nt;t;)t=gn(t.nextSibling)}function Ii(){nt=it=null,ue=!1}function jc(t){bt===null?bt=[t]:bt.push(t)}var I0=Kt.ReactCurrentBatchConfig;function ts(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var i=n.stateNode}if(!i)throw Error(F(147,t));var s=i,r=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(o){var a=s.refs;o===null?delete a[r]:a[r]=o},e._stringRef=r,e)}if(typeof t!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,t))}return t}function Mr(t,e){throw t=Object.prototype.toString.call(e),Error(F(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ru(t){var e=t._init;return e(t._payload)}function xm(t){function e(p,y){if(t){var b=p.deletions;b===null?(p.deletions=[y],p.flags|=16):b.push(y)}}function n(p,y){if(!t)return null;for(;y!==null;)e(p,y),y=y.sibling;return null}function i(p,y){for(p=new Map;y!==null;)y.key!==null?p.set(y.key,y):p.set(y.index,y),y=y.sibling;return p}function s(p,y){return p=bn(p,y),p.index=0,p.sibling=null,p}function r(p,y,b){return p.index=b,t?(b=p.alternate,b!==null?(b=b.index,b<y?(p.flags|=2,y):b):(p.flags|=2,y)):(p.flags|=1048576,y)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,y,b,_){return y===null||y.tag!==6?(y=Ia(b,p.mode,_),y.return=p,y):(y=s(y,b),y.return=p,y)}function l(p,y,b,_){var S=b.type;return S===ui?u(p,y,b.props.children,_,b.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===tn&&ru(S)===y.type)?(_=s(y,b.props),_.ref=ts(p,y,b),_.return=p,_):(_=so(b.type,b.key,b.props,null,p.mode,_),_.ref=ts(p,y,b),_.return=p,_)}function c(p,y,b,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Oa(b,p.mode,_),y.return=p,y):(y=s(y,b.children||[]),y.return=p,y)}function u(p,y,b,_,S){return y===null||y.tag!==7?(y=Yn(b,p.mode,_,S),y.return=p,y):(y=s(y,b),y.return=p,y)}function h(p,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Ia(""+y,p.mode,b),y.return=p,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case yr:return b=so(y.type,y.key,y.props,null,p.mode,b),b.ref=ts(p,null,y),b.return=p,b;case di:return y=Oa(y,p.mode,b),y.return=p,y;case tn:var _=y._init;return h(p,_(y._payload),b)}if(ds(y)||Qi(y))return y=Yn(y,p.mode,b,null),y.return=p,y;Mr(p,y)}return null}function f(p,y,b,_){var S=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:a(p,y,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case yr:return b.key===S?l(p,y,b,_):null;case di:return b.key===S?c(p,y,b,_):null;case tn:return S=b._init,f(p,y,S(b._payload),_)}if(ds(b)||Qi(b))return S!==null?null:u(p,y,b,_,null);Mr(p,b)}return null}function m(p,y,b,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return p=p.get(b)||null,a(y,p,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case yr:return p=p.get(_.key===null?b:_.key)||null,l(y,p,_,S);case di:return p=p.get(_.key===null?b:_.key)||null,c(y,p,_,S);case tn:var w=_._init;return m(p,y,b,w(_._payload),S)}if(ds(_)||Qi(_))return p=p.get(b)||null,u(y,p,_,S,null);Mr(y,_)}return null}function g(p,y,b,_){for(var S=null,w=null,j=y,N=y=0,A=null;j!==null&&N<b.length;N++){j.index>N?(A=j,j=null):A=j.sibling;var D=f(p,j,b[N],_);if(D===null){j===null&&(j=A);break}t&&j&&D.alternate===null&&e(p,j),y=r(D,y,N),w===null?S=D:w.sibling=D,w=D,j=A}if(N===b.length)return n(p,j),ue&&In(p,N),S;if(j===null){for(;N<b.length;N++)j=h(p,b[N],_),j!==null&&(y=r(j,y,N),w===null?S=j:w.sibling=j,w=j);return ue&&In(p,N),S}for(j=i(p,j);N<b.length;N++)A=m(j,p,N,b[N],_),A!==null&&(t&&A.alternate!==null&&j.delete(A.key===null?N:A.key),y=r(A,y,N),w===null?S=A:w.sibling=A,w=A);return t&&j.forEach(function(P){return e(p,P)}),ue&&In(p,N),S}function x(p,y,b,_){var S=Qi(b);if(typeof S!="function")throw Error(F(150));if(b=S.call(b),b==null)throw Error(F(151));for(var w=S=null,j=y,N=y=0,A=null,D=b.next();j!==null&&!D.done;N++,D=b.next()){j.index>N?(A=j,j=null):A=j.sibling;var P=f(p,j,D.value,_);if(P===null){j===null&&(j=A);break}t&&j&&P.alternate===null&&e(p,j),y=r(P,y,N),w===null?S=P:w.sibling=P,w=P,j=A}if(D.done)return n(p,j),ue&&In(p,N),S;if(j===null){for(;!D.done;N++,D=b.next())D=h(p,D.value,_),D!==null&&(y=r(D,y,N),w===null?S=D:w.sibling=D,w=D);return ue&&In(p,N),S}for(j=i(p,j);!D.done;N++,D=b.next())D=m(j,p,N,D.value,_),D!==null&&(t&&D.alternate!==null&&j.delete(D.key===null?N:D.key),y=r(D,y,N),w===null?S=D:w.sibling=D,w=D);return t&&j.forEach(function(T){return e(p,T)}),ue&&In(p,N),S}function v(p,y,b,_){if(typeof b=="object"&&b!==null&&b.type===ui&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case yr:e:{for(var S=b.key,w=y;w!==null;){if(w.key===S){if(S=b.type,S===ui){if(w.tag===7){n(p,w.sibling),y=s(w,b.props.children),y.return=p,p=y;break e}}else if(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===tn&&ru(S)===w.type){n(p,w.sibling),y=s(w,b.props),y.ref=ts(p,w,b),y.return=p,p=y;break e}n(p,w);break}else e(p,w);w=w.sibling}b.type===ui?(y=Yn(b.props.children,p.mode,_,b.key),y.return=p,p=y):(_=so(b.type,b.key,b.props,null,p.mode,_),_.ref=ts(p,y,b),_.return=p,p=_)}return o(p);case di:e:{for(w=b.key;y!==null;){if(y.key===w)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(p,y.sibling),y=s(y,b.children||[]),y.return=p,p=y;break e}else{n(p,y);break}else e(p,y);y=y.sibling}y=Oa(b,p.mode,_),y.return=p,p=y}return o(p);case tn:return w=b._init,v(p,y,w(b._payload),_)}if(ds(b))return g(p,y,b,_);if(Qi(b))return x(p,y,b,_);Mr(p,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(p,y.sibling),y=s(y,b),y.return=p,p=y):(n(p,y),y=Ia(b,p.mode,_),y.return=p,p=y),o(p)):n(p,y)}return v}var Oi=xm(!0),ym=xm(!1),So=Cn(null),_o=null,vi=null,Cc=null;function Pc(){Cc=vi=_o=null}function Mc(t){var e=So.current;le(So),t._currentValue=e}function Dl(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Ci(t,e){_o=t,Cc=vi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ke=!0),t.firstContext=null)}function ft(t){var e=t._currentValue;if(Cc!==t)if(t={context:t,memoizedValue:e,next:null},vi===null){if(_o===null)throw Error(F(308));vi=t,_o.dependencies={lanes:0,firstContext:t}}else vi=vi.next=t;return e}var Wn=null;function Dc(t){Wn===null?Wn=[t]:Wn.push(t)}function vm(t,e,n,i){var s=e.interleaved;return s===null?(n.next=n,Dc(e)):(n.next=s.next,s.next=n),e.interleaved=n,Yt(t,i)}function Yt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var nn=!1;function Ac(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Vt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function xn(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,J&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,Yt(t,n)}return s=i.interleaved,s===null?(e.next=e,Dc(i)):(e.next=s.next,s.next=e),i.interleaved=e,Yt(t,n)}function qr(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,gc(t,n)}}function ou(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};r===null?s=r=o:r=r.next=o,n=n.next}while(n!==null);r===null?s=r=e:r=r.next=e}else s=r=e;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ko(t,e,n,i){var s=t.updateQueue;nn=!1;var r=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?r=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(r!==null){var h=s.baseState;o=0,u=c=l=null,a=r;do{var f=a.lane,m=a.eventTime;if((i&f)===f){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,x=a;switch(f=e,m=n,x.tag){case 1:if(g=x.payload,typeof g=="function"){h=g.call(m,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,f=typeof g=="function"?g.call(m,h,f):g,f==null)break e;h=ge({},h,f);break e;case 2:nn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=h):u=u.next=m,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else r===null&&(s.shared.lanes=0);Jn|=o,t.lanes=o,t.memoizedState=h}}function au(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],s=i.callback;if(s!==null){if(i.callback=null,i=n,typeof s!="function")throw Error(F(191,s));s.call(i)}}}var dr={},Tt=Cn(dr),Vs=Cn(dr),Us=Cn(dr);function Hn(t){if(t===dr)throw Error(F(174));return t}function Tc(t,e){switch(re(Us,e),re(Vs,t),re(Tt,dr),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:dl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=dl(e,t)}le(Tt),re(Tt,e)}function zi(){le(Tt),le(Vs),le(Us)}function wm(t){Hn(Us.current);var e=Hn(Tt.current),n=dl(e,t.type);e!==n&&(re(Vs,t),re(Tt,n))}function Lc(t){Vs.current===t&&(le(Tt),le(Vs))}var me=Cn(0);function No(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Aa=[];function Ec(){for(var t=0;t<Aa.length;t++)Aa[t]._workInProgressVersionPrimary=null;Aa.length=0}var Jr=Kt.ReactCurrentDispatcher,Ta=Kt.ReactCurrentBatchConfig,qn=0,pe=null,Se=null,je=null,jo=!1,Ss=!1,Gs=0,O0=0;function Le(){throw Error(F(321))}function Fc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!kt(t[n],e[n]))return!1;return!0}function Rc(t,e,n,i,s,r){if(qn=r,pe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Jr.current=t===null||t.memoizedState===null?W0:H0,t=n(i,s),Ss){r=0;do{if(Ss=!1,Gs=0,25<=r)throw Error(F(301));r+=1,je=Se=null,e.updateQueue=null,Jr.current=V0,t=n(i,s)}while(Ss)}if(Jr.current=Co,e=Se!==null&&Se.next!==null,qn=0,je=Se=pe=null,jo=!1,e)throw Error(F(300));return t}function Ic(){var t=Gs!==0;return Gs=0,t}function Ct(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?pe.memoizedState=je=t:je=je.next=t,je}function mt(){if(Se===null){var t=pe.alternate;t=t!==null?t.memoizedState:null}else t=Se.next;var e=je===null?pe.memoizedState:je.next;if(e!==null)je=e,Se=t;else{if(t===null)throw Error(F(310));Se=t,t={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},je===null?pe.memoizedState=je=t:je=je.next=t}return je}function Ys(t,e){return typeof e=="function"?e(t):e}function La(t){var e=mt(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var i=Se,s=i.baseQueue,r=n.pending;if(r!==null){if(s!==null){var o=s.next;s.next=r.next,r.next=o}i.baseQueue=s=r,n.pending=null}if(s!==null){r=s.next,i=i.baseState;var a=o=null,l=null,c=r;do{var u=c.lane;if((qn&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=i):l=l.next=h,pe.lanes|=u,Jn|=u}c=c.next}while(c!==null&&c!==r);l===null?o=i:l.next=a,kt(i,e.memoizedState)||(Ke=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){s=t;do r=s.lane,pe.lanes|=r,Jn|=r,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ea(t){var e=mt(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,r=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do r=t(r,o.action),o=o.next;while(o!==s);kt(r,e.memoizedState)||(Ke=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,i]}function Sm(){}function _m(t,e){var n=pe,i=mt(),s=e(),r=!kt(i.memoizedState,s);if(r&&(i.memoizedState=s,Ke=!0),i=i.queue,Oc(jm.bind(null,n,i,t),[t]),i.getSnapshot!==e||r||je!==null&&je.memoizedState.tag&1){if(n.flags|=2048,Xs(9,Nm.bind(null,n,i,s,e),void 0,null),Pe===null)throw Error(F(349));qn&30||km(n,e,s)}return s}function km(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=pe.updateQueue,e===null?(e={lastEffect:null,stores:null},pe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Nm(t,e,n,i){e.value=n,e.getSnapshot=i,Cm(e)&&Pm(t)}function jm(t,e,n){return n(function(){Cm(e)&&Pm(t)})}function Cm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!kt(t,n)}catch{return!0}}function Pm(t){var e=Yt(t,1);e!==null&&_t(e,t,1,-1)}function lu(t){var e=Ct();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:t},e.queue=t,t=t.dispatch=$0.bind(null,pe,t),[e.memoizedState,t]}function Xs(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=pe.updateQueue,e===null?(e={lastEffect:null,stores:null},pe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function Mm(){return mt().memoizedState}function eo(t,e,n,i){var s=Ct();pe.flags|=t,s.memoizedState=Xs(1|e,n,void 0,i===void 0?null:i)}function Qo(t,e,n,i){var s=mt();i=i===void 0?null:i;var r=void 0;if(Se!==null){var o=Se.memoizedState;if(r=o.destroy,i!==null&&Fc(i,o.deps)){s.memoizedState=Xs(e,n,r,i);return}}pe.flags|=t,s.memoizedState=Xs(1|e,n,r,i)}function cu(t,e){return eo(8390656,8,t,e)}function Oc(t,e){return Qo(2048,8,t,e)}function Dm(t,e){return Qo(4,2,t,e)}function Am(t,e){return Qo(4,4,t,e)}function Tm(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Lm(t,e,n){return n=n!=null?n.concat([t]):null,Qo(4,4,Tm.bind(null,e,t),n)}function zc(){}function Em(t,e){var n=mt();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Fc(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Fm(t,e){var n=mt();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Fc(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function Rm(t,e,n){return qn&21?(kt(n,e)||(n=$f(),pe.lanes|=n,Jn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ke=!0),t.memoizedState=n)}function z0(t,e){var n=ie;ie=n!==0&&4>n?n:4,t(!0);var i=Ta.transition;Ta.transition={};try{t(!1),e()}finally{ie=n,Ta.transition=i}}function Im(){return mt().memoizedState}function B0(t,e,n){var i=vn(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Om(t))zm(e,n);else if(n=vm(t,e,n,i),n!==null){var s=We();_t(n,t,i,s),Bm(n,e,i)}}function $0(t,e,n){var i=vn(t),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Om(t))zm(e,s);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var o=e.lastRenderedState,a=r(o,n);if(s.hasEagerState=!0,s.eagerState=a,kt(a,o)){var l=e.interleaved;l===null?(s.next=s,Dc(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=vm(t,e,s,i),n!==null&&(s=We(),_t(n,t,i,s),Bm(n,e,i))}}function Om(t){var e=t.alternate;return t===pe||e!==null&&e===pe}function zm(t,e){Ss=jo=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Bm(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,gc(t,n)}}var Co={readContext:ft,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useInsertionEffect:Le,useLayoutEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useMutableSource:Le,useSyncExternalStore:Le,useId:Le,unstable_isNewReconciler:!1},W0={readContext:ft,useCallback:function(t,e){return Ct().memoizedState=[t,e===void 0?null:e],t},useContext:ft,useEffect:cu,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,eo(4194308,4,Tm.bind(null,e,t),n)},useLayoutEffect:function(t,e){return eo(4194308,4,t,e)},useInsertionEffect:function(t,e){return eo(4,2,t,e)},useMemo:function(t,e){var n=Ct();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Ct();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=B0.bind(null,pe,t),[i.memoizedState,t]},useRef:function(t){var e=Ct();return t={current:t},e.memoizedState=t},useState:lu,useDebugValue:zc,useDeferredValue:function(t){return Ct().memoizedState=t},useTransition:function(){var t=lu(!1),e=t[0];return t=z0.bind(null,t[1]),Ct().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=pe,s=Ct();if(ue){if(n===void 0)throw Error(F(407));n=n()}else{if(n=e(),Pe===null)throw Error(F(349));qn&30||km(i,e,n)}s.memoizedState=n;var r={value:n,getSnapshot:e};return s.queue=r,cu(jm.bind(null,i,r,t),[t]),i.flags|=2048,Xs(9,Nm.bind(null,i,r,n,e),void 0,null),n},useId:function(){var t=Ct(),e=Pe.identifierPrefix;if(ue){var n=Bt,i=zt;n=(i&~(1<<32-St(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Gs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=O0++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},H0={readContext:ft,useCallback:Em,useContext:ft,useEffect:Oc,useImperativeHandle:Lm,useInsertionEffect:Dm,useLayoutEffect:Am,useMemo:Fm,useReducer:La,useRef:Mm,useState:function(){return La(Ys)},useDebugValue:zc,useDeferredValue:function(t){var e=mt();return Rm(e,Se.memoizedState,t)},useTransition:function(){var t=La(Ys)[0],e=mt().memoizedState;return[t,e]},useMutableSource:Sm,useSyncExternalStore:_m,useId:Im,unstable_isNewReconciler:!1},V0={readContext:ft,useCallback:Em,useContext:ft,useEffect:Oc,useImperativeHandle:Lm,useInsertionEffect:Dm,useLayoutEffect:Am,useMemo:Fm,useReducer:Ea,useRef:Mm,useState:function(){return Ea(Ys)},useDebugValue:zc,useDeferredValue:function(t){var e=mt();return Se===null?e.memoizedState=t:Rm(e,Se.memoizedState,t)},useTransition:function(){var t=Ea(Ys)[0],e=mt().memoizedState;return[t,e]},useMutableSource:Sm,useSyncExternalStore:_m,useId:Im,unstable_isNewReconciler:!1};function xt(t,e){if(t&&t.defaultProps){e=ge({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Al(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:ge({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Zo={isMounted:function(t){return(t=t._reactInternals)?si(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=We(),s=vn(t),r=Vt(i,s);r.payload=e,n!=null&&(r.callback=n),e=xn(t,r,s),e!==null&&(_t(e,t,s,i),qr(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=We(),s=vn(t),r=Vt(i,s);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=xn(t,r,s),e!==null&&(_t(e,t,s,i),qr(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=We(),i=vn(t),s=Vt(n,i);s.tag=2,e!=null&&(s.callback=e),e=xn(t,s,i),e!==null&&(_t(e,t,i,n),qr(e,t,i))}};function du(t,e,n,i,s,r,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,r,o):e.prototype&&e.prototype.isPureReactComponent?!Bs(n,i)||!Bs(s,r):!0}function $m(t,e,n){var i=!1,s=_n,r=e.contextType;return typeof r=="object"&&r!==null?r=ft(r):(s=Ze(e)?Qn:Oe.current,i=e.contextTypes,r=(i=i!=null)?Ri(t,s):_n),e=new e(n,r),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Zo,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=r),e}function uu(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Zo.enqueueReplaceState(e,e.state,null)}function Tl(t,e,n,i){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Ac(t);var r=e.contextType;typeof r=="object"&&r!==null?s.context=ft(r):(r=Ze(e)?Qn:Oe.current,s.context=Ri(t,r)),s.state=t.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(Al(t,e,r,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Zo.enqueueReplaceState(s,s.state,null),ko(t,n,s,i),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Bi(t,e){try{var n="",i=e;do n+=yx(i),i=i.return;while(i);var s=n}catch(r){s=`
Error generating stack: `+r.message+`
`+r.stack}return{value:t,source:e,stack:s,digest:null}}function Fa(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ll(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var U0=typeof WeakMap=="function"?WeakMap:Map;function Wm(t,e,n){n=Vt(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Mo||(Mo=!0,Hl=i),Ll(t,e)},n}function Hm(t,e,n){n=Vt(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var s=e.value;n.payload=function(){return i(s)},n.callback=function(){Ll(t,e)}}var r=t.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(n.callback=function(){Ll(t,e),typeof i!="function"&&(yn===null?yn=new Set([this]):yn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function hu(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new U0;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(n)||(s.add(n),t=ry.bind(null,t,e,n),e.then(t,t))}function fu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function mu(t,e,n,i,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Vt(-1,1),e.tag=2,xn(n,e,1))),n.lanes|=1),t)}var G0=Kt.ReactCurrentOwner,Ke=!1;function $e(t,e,n,i){e.child=t===null?ym(e,null,n,i):Oi(e,t.child,n,i)}function pu(t,e,n,i,s){n=n.render;var r=e.ref;return Ci(e,s),i=Rc(t,e,n,i,r,s),n=Ic(),t!==null&&!Ke?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Xt(t,e,s)):(ue&&n&&kc(e),e.flags|=1,$e(t,e,i,s),e.child)}function gu(t,e,n,i,s){if(t===null){var r=n.type;return typeof r=="function"&&!Yc(r)&&r.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=r,Vm(t,e,r,i,s)):(t=so(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!(t.lanes&s)){var o=r.memoizedProps;if(n=n.compare,n=n!==null?n:Bs,n(o,i)&&t.ref===e.ref)return Xt(t,e,s)}return e.flags|=1,t=bn(r,i),t.ref=e.ref,t.return=e,e.child=t}function Vm(t,e,n,i,s){if(t!==null){var r=t.memoizedProps;if(Bs(r,i)&&t.ref===e.ref)if(Ke=!1,e.pendingProps=i=r,(t.lanes&s)!==0)t.flags&131072&&(Ke=!0);else return e.lanes=t.lanes,Xt(t,e,s)}return El(t,e,n,i,s)}function Um(t,e,n){var i=e.pendingProps,s=i.children,r=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},re(wi,tt),tt|=n;else{if(!(n&1073741824))return t=r!==null?r.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,re(wi,tt),tt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=r!==null?r.baseLanes:n,re(wi,tt),tt|=i}else r!==null?(i=r.baseLanes|n,e.memoizedState=null):i=n,re(wi,tt),tt|=i;return $e(t,e,s,n),e.child}function Gm(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function El(t,e,n,i,s){var r=Ze(n)?Qn:Oe.current;return r=Ri(e,r),Ci(e,s),n=Rc(t,e,n,i,r,s),i=Ic(),t!==null&&!Ke?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Xt(t,e,s)):(ue&&i&&kc(e),e.flags|=1,$e(t,e,n,s),e.child)}function xu(t,e,n,i,s){if(Ze(n)){var r=!0;vo(e)}else r=!1;if(Ci(e,s),e.stateNode===null)to(t,e),$m(e,n,i),Tl(e,n,i,s),i=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=ft(c):(c=Ze(n)?Qn:Oe.current,c=Ri(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&uu(e,o,i,c),nn=!1;var f=e.memoizedState;o.state=f,ko(e,i,o,s),l=e.memoizedState,a!==i||f!==l||Qe.current||nn?(typeof u=="function"&&(Al(e,n,u,i),l=e.memoizedState),(a=nn||du(e,n,a,i,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,bm(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:xt(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ft(l):(l=Ze(n)?Qn:Oe.current,l=Ri(e,l));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&uu(e,o,i,l),nn=!1,f=e.memoizedState,o.state=f,ko(e,i,o,s);var g=e.memoizedState;a!==h||f!==g||Qe.current||nn?(typeof m=="function"&&(Al(e,n,m,i),g=e.memoizedState),(c=nn||du(e,n,c,i,f,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=g),o.props=i,o.state=g,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),i=!1)}return Fl(t,e,n,i,r,s)}function Fl(t,e,n,i,s,r){Gm(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return s&&nu(e,n,!1),Xt(t,e,r);i=e.stateNode,G0.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=Oi(e,t.child,null,r),e.child=Oi(e,null,a,r)):$e(t,e,a,r),e.memoizedState=i.state,s&&nu(e,n,!0),e.child}function Ym(t){var e=t.stateNode;e.pendingContext?tu(t,e.pendingContext,e.pendingContext!==e.context):e.context&&tu(t,e.context,!1),Tc(t,e.containerInfo)}function yu(t,e,n,i,s){return Ii(),jc(s),e.flags|=256,$e(t,e,n,i),e.child}var Rl={dehydrated:null,treeContext:null,retryLane:0};function Il(t){return{baseLanes:t,cachePool:null,transitions:null}}function Xm(t,e,n){var i=e.pendingProps,s=me.current,r=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(r=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),re(me,s&1),t===null)return Ml(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,r?(i=e.mode,r=e.child,o={mode:"hidden",children:o},!(i&1)&&r!==null?(r.childLanes=0,r.pendingProps=o):r=ea(o,i,0,null),t=Yn(t,i,n,null),r.return=e,t.return=e,r.sibling=t,e.child=r,e.child.memoizedState=Il(n),e.memoizedState=Rl,t):Bc(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Y0(t,e,o,i,a,s,n);if(r){r=i.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==s?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=bn(s,l),i.subtreeFlags=s.subtreeFlags&14680064),a!==null?r=bn(a,r):(r=Yn(r,o,n,null),r.flags|=2),r.return=e,i.return=e,i.sibling=r,e.child=i,i=r,r=e.child,o=t.child.memoizedState,o=o===null?Il(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=t.childLanes&~n,e.memoizedState=Rl,i}return r=t.child,t=r.sibling,i=bn(r,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Bc(t,e){return e=ea({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Dr(t,e,n,i){return i!==null&&jc(i),Oi(e,t.child,null,n),t=Bc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Y0(t,e,n,i,s,r,o){if(n)return e.flags&256?(e.flags&=-257,i=Fa(Error(F(422))),Dr(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(r=i.fallback,s=e.mode,i=ea({mode:"visible",children:i.children},s,0,null),r=Yn(r,s,o,null),r.flags|=2,i.return=e,r.return=e,i.sibling=r,e.child=i,e.mode&1&&Oi(e,t.child,null,o),e.child.memoizedState=Il(o),e.memoizedState=Rl,r);if(!(e.mode&1))return Dr(t,e,o,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var a=i.dgst;return i=a,r=Error(F(419)),i=Fa(r,i,void 0),Dr(t,e,o,i)}if(a=(o&t.childLanes)!==0,Ke||a){if(i=Pe,i!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|o)?0:s,s!==0&&s!==r.retryLane&&(r.retryLane=s,Yt(t,s),_t(i,t,s,-1))}return Gc(),i=Fa(Error(F(421))),Dr(t,e,o,i)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=oy.bind(null,t),s._reactRetry=e,null):(t=r.treeContext,nt=gn(s.nextSibling),it=e,ue=!0,bt=null,t!==null&&(lt[ct++]=zt,lt[ct++]=Bt,lt[ct++]=Zn,zt=t.id,Bt=t.overflow,Zn=e),e=Bc(e,i.children),e.flags|=4096,e)}function vu(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Dl(t.return,e,n)}function Ra(t,e,n,i,s){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=s)}function Km(t,e,n){var i=e.pendingProps,s=i.revealOrder,r=i.tail;if($e(t,e,i.children,n),i=me.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vu(t,n,e);else if(t.tag===19)vu(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(re(me,i),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&No(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Ra(e,!1,s,n,r);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&No(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Ra(e,!0,n,null,r);break;case"together":Ra(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function to(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Xt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Jn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(F(153));if(e.child!==null){for(t=e.child,n=bn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=bn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function X0(t,e,n){switch(e.tag){case 3:Ym(e),Ii();break;case 5:wm(e);break;case 1:Ze(e.type)&&vo(e);break;case 4:Tc(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,s=e.memoizedProps.value;re(So,i._currentValue),i._currentValue=s;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(re(me,me.current&1),e.flags|=128,null):n&e.child.childLanes?Xm(t,e,n):(re(me,me.current&1),t=Xt(t,e,n),t!==null?t.sibling:null);re(me,me.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return Km(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),re(me,me.current),i)break;return null;case 22:case 23:return e.lanes=0,Um(t,e,n)}return Xt(t,e,n)}var Qm,Ol,Zm,qm;Qm=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ol=function(){};Zm=function(t,e,n,i){var s=t.memoizedProps;if(s!==i){t=e.stateNode,Hn(Tt.current);var r=null;switch(n){case"input":s=ol(t,s),i=ol(t,i),r=[];break;case"select":s=ge({},s,{value:void 0}),i=ge({},i,{value:void 0}),r=[];break;case"textarea":s=cl(t,s),i=cl(t,i),r=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=xo)}ul(n,i);var o;n=null;for(c in s)if(!i.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ls.hasOwnProperty(c)?r||(r=[]):(r=r||[]).push(c,null));for(c in i){var l=i[c];if(a=s!=null?s[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(r||(r=[]),r.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(r=r||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(r=r||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ls.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ae("scroll",t),r||a===l||(r=[])):(r=r||[]).push(c,l))}n&&(r=r||[]).push("style",n);var c=r;(e.updateQueue=c)&&(e.flags|=4)}};qm=function(t,e,n,i){n!==i&&(e.flags|=4)};function ns(t,e){if(!ue)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Ee(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function K0(t,e,n){var i=e.pendingProps;switch(Nc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ee(e),null;case 1:return Ze(e.type)&&yo(),Ee(e),null;case 3:return i=e.stateNode,zi(),le(Qe),le(Oe),Ec(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Pr(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,bt!==null&&(Gl(bt),bt=null))),Ol(t,e),Ee(e),null;case 5:Lc(e);var s=Hn(Us.current);if(n=e.type,t!==null&&e.stateNode!=null)Zm(t,e,n,i,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(F(166));return Ee(e),null}if(t=Hn(Tt.current),Pr(e)){i=e.stateNode,n=e.type;var r=e.memoizedProps;switch(i[Mt]=e,i[Hs]=r,t=(e.mode&1)!==0,n){case"dialog":ae("cancel",i),ae("close",i);break;case"iframe":case"object":case"embed":ae("load",i);break;case"video":case"audio":for(s=0;s<hs.length;s++)ae(hs[s],i);break;case"source":ae("error",i);break;case"img":case"image":case"link":ae("error",i),ae("load",i);break;case"details":ae("toggle",i);break;case"input":Pd(i,r),ae("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!r.multiple},ae("invalid",i);break;case"textarea":Dd(i,r),ae("invalid",i)}ul(n,r),s=null;for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];o==="children"?typeof a=="string"?i.textContent!==a&&(r.suppressHydrationWarning!==!0&&Cr(i.textContent,a,t),s=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(r.suppressHydrationWarning!==!0&&Cr(i.textContent,a,t),s=["children",""+a]):Ls.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ae("scroll",i)}switch(n){case"input":vr(i),Md(i,r,!0);break;case"textarea":vr(i),Ad(i);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(i.onclick=xo)}i=s,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=jf(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[Mt]=e,t[Hs]=i,Qm(t,e,!1,!1),e.stateNode=t;e:{switch(o=hl(n,i),n){case"dialog":ae("cancel",t),ae("close",t),s=i;break;case"iframe":case"object":case"embed":ae("load",t),s=i;break;case"video":case"audio":for(s=0;s<hs.length;s++)ae(hs[s],t);s=i;break;case"source":ae("error",t),s=i;break;case"img":case"image":case"link":ae("error",t),ae("load",t),s=i;break;case"details":ae("toggle",t),s=i;break;case"input":Pd(t,i),s=ol(t,i),ae("invalid",t);break;case"option":s=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},s=ge({},i,{value:void 0}),ae("invalid",t);break;case"textarea":Dd(t,i),s=cl(t,i),ae("invalid",t);break;default:s=i}ul(n,s),a=s;for(r in a)if(a.hasOwnProperty(r)){var l=a[r];r==="style"?Mf(t,l):r==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Cf(t,l)):r==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Es(t,l):typeof l=="number"&&Es(t,""+l):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(Ls.hasOwnProperty(r)?l!=null&&r==="onScroll"&&ae("scroll",t):l!=null&&dc(t,r,l,o))}switch(n){case"input":vr(t),Md(t,i,!1);break;case"textarea":vr(t),Ad(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Sn(i.value));break;case"select":t.multiple=!!i.multiple,r=i.value,r!=null?_i(t,!!i.multiple,r,!1):i.defaultValue!=null&&_i(t,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=xo)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ee(e),null;case 6:if(t&&e.stateNode!=null)qm(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(F(166));if(n=Hn(Us.current),Hn(Tt.current),Pr(e)){if(i=e.stateNode,n=e.memoizedProps,i[Mt]=e,(r=i.nodeValue!==n)&&(t=it,t!==null))switch(t.tag){case 3:Cr(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Cr(i.nodeValue,n,(t.mode&1)!==0)}r&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Mt]=e,e.stateNode=i}return Ee(e),null;case 13:if(le(me),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ue&&nt!==null&&e.mode&1&&!(e.flags&128))gm(),Ii(),e.flags|=98560,r=!1;else if(r=Pr(e),i!==null&&i.dehydrated!==null){if(t===null){if(!r)throw Error(F(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(F(317));r[Mt]=e}else Ii(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ee(e),r=!1}else bt!==null&&(Gl(bt),bt=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||me.current&1?ke===0&&(ke=3):Gc())),e.updateQueue!==null&&(e.flags|=4),Ee(e),null);case 4:return zi(),Ol(t,e),t===null&&$s(e.stateNode.containerInfo),Ee(e),null;case 10:return Mc(e.type._context),Ee(e),null;case 17:return Ze(e.type)&&yo(),Ee(e),null;case 19:if(le(me),r=e.memoizedState,r===null)return Ee(e),null;if(i=(e.flags&128)!==0,o=r.rendering,o===null)if(i)ns(r,!1);else{if(ke!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=No(t),o!==null){for(e.flags|=128,ns(r,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)r=n,t=i,r.flags&=14680066,o=r.alternate,o===null?(r.childLanes=0,r.lanes=t,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,t=o.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return re(me,me.current&1|2),e.child}t=t.sibling}r.tail!==null&&ve()>$i&&(e.flags|=128,i=!0,ns(r,!1),e.lanes=4194304)}else{if(!i)if(t=No(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ns(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!ue)return Ee(e),null}else 2*ve()-r.renderingStartTime>$i&&n!==1073741824&&(e.flags|=128,i=!0,ns(r,!1),e.lanes=4194304);r.isBackwards?(o.sibling=e.child,e.child=o):(n=r.last,n!==null?n.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=ve(),e.sibling=null,n=me.current,re(me,i?n&1|2:n&1),e):(Ee(e),null);case 22:case 23:return Uc(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?tt&1073741824&&(Ee(e),e.subtreeFlags&6&&(e.flags|=8192)):Ee(e),null;case 24:return null;case 25:return null}throw Error(F(156,e.tag))}function Q0(t,e){switch(Nc(e),e.tag){case 1:return Ze(e.type)&&yo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return zi(),le(Qe),le(Oe),Ec(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Lc(e),null;case 13:if(le(me),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(F(340));Ii()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return le(me),null;case 4:return zi(),null;case 10:return Mc(e.type._context),null;case 22:case 23:return Uc(),null;case 24:return null;default:return null}}var Ar=!1,Ie=!1,Z0=typeof WeakSet=="function"?WeakSet:Set,$=null;function bi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){xe(t,e,i)}else n.current=null}function zl(t,e,n){try{n()}catch(i){xe(t,e,i)}}var bu=!1;function q0(t,e){if(Sl=mo,t=im(),_c(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,f=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==r||i!==0&&h.nodeType!==3||(l=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++c===s&&(a=o),f===r&&++u===i&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(_l={focusedElem:t,selectionRange:n},mo=!1,$=e;$!==null;)if(e=$,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,$=t;else for(;$!==null;){e=$;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,v=g.memoizedState,p=e.stateNode,y=p.getSnapshotBeforeUpdate(e.elementType===e.type?x:xt(e.type,x),v);p.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(_){xe(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,$=t;break}$=e.return}return g=bu,bu=!1,g}function _s(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&t)===t){var r=s.destroy;s.destroy=void 0,r!==void 0&&zl(e,n,r)}s=s.next}while(s!==i)}}function qo(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Bl(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Jm(t){var e=t.alternate;e!==null&&(t.alternate=null,Jm(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Mt],delete e[Hs],delete e[jl],delete e[E0],delete e[F0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ep(t){return t.tag===5||t.tag===3||t.tag===4}function wu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ep(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $l(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=xo));else if(i!==4&&(t=t.child,t!==null))for($l(t,e,n),t=t.sibling;t!==null;)$l(t,e,n),t=t.sibling}function Wl(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Wl(t,e,n),t=t.sibling;t!==null;)Wl(t,e,n),t=t.sibling}var Me=null,vt=!1;function Jt(t,e,n){for(n=n.child;n!==null;)tp(t,e,n),n=n.sibling}function tp(t,e,n){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(Vo,n)}catch{}switch(n.tag){case 5:Ie||bi(n,e);case 6:var i=Me,s=vt;Me=null,Jt(t,e,n),Me=i,vt=s,Me!==null&&(vt?(t=Me,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Me.removeChild(n.stateNode));break;case 18:Me!==null&&(vt?(t=Me,n=n.stateNode,t.nodeType===8?Ma(t.parentNode,n):t.nodeType===1&&Ma(t,n),Os(t)):Ma(Me,n.stateNode));break;case 4:i=Me,s=vt,Me=n.stateNode.containerInfo,vt=!0,Jt(t,e,n),Me=i,vt=s;break;case 0:case 11:case 14:case 15:if(!Ie&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var r=s,o=r.destroy;r=r.tag,o!==void 0&&(r&2||r&4)&&zl(n,e,o),s=s.next}while(s!==i)}Jt(t,e,n);break;case 1:if(!Ie&&(bi(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){xe(n,e,a)}Jt(t,e,n);break;case 21:Jt(t,e,n);break;case 22:n.mode&1?(Ie=(i=Ie)||n.memoizedState!==null,Jt(t,e,n),Ie=i):Jt(t,e,n);break;default:Jt(t,e,n)}}function Su(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Z0),e.forEach(function(i){var s=ay.bind(null,t,i);n.has(i)||(n.add(i),i.then(s,s))})}}function gt(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];try{var r=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Me=a.stateNode,vt=!1;break e;case 3:Me=a.stateNode.containerInfo,vt=!0;break e;case 4:Me=a.stateNode.containerInfo,vt=!0;break e}a=a.return}if(Me===null)throw Error(F(160));tp(r,o,s),Me=null,vt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){xe(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)np(e,t),e=e.sibling}function np(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gt(e,t),Nt(t),i&4){try{_s(3,t,t.return),qo(3,t)}catch(x){xe(t,t.return,x)}try{_s(5,t,t.return)}catch(x){xe(t,t.return,x)}}break;case 1:gt(e,t),Nt(t),i&512&&n!==null&&bi(n,n.return);break;case 5:if(gt(e,t),Nt(t),i&512&&n!==null&&bi(n,n.return),t.flags&32){var s=t.stateNode;try{Es(s,"")}catch(x){xe(t,t.return,x)}}if(i&4&&(s=t.stateNode,s!=null)){var r=t.memoizedProps,o=n!==null?n.memoizedProps:r,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&r.type==="radio"&&r.name!=null&&kf(s,r),hl(a,o);var c=hl(a,r);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?Mf(s,h):u==="dangerouslySetInnerHTML"?Cf(s,h):u==="children"?Es(s,h):dc(s,u,h,c)}switch(a){case"input":al(s,r);break;case"textarea":Nf(s,r);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!r.multiple;var m=r.value;m!=null?_i(s,!!r.multiple,m,!1):f!==!!r.multiple&&(r.defaultValue!=null?_i(s,!!r.multiple,r.defaultValue,!0):_i(s,!!r.multiple,r.multiple?[]:"",!1))}s[Hs]=r}catch(x){xe(t,t.return,x)}}break;case 6:if(gt(e,t),Nt(t),i&4){if(t.stateNode===null)throw Error(F(162));s=t.stateNode,r=t.memoizedProps;try{s.nodeValue=r}catch(x){xe(t,t.return,x)}}break;case 3:if(gt(e,t),Nt(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Os(e.containerInfo)}catch(x){xe(t,t.return,x)}break;case 4:gt(e,t),Nt(t);break;case 13:gt(e,t),Nt(t),s=t.child,s.flags&8192&&(r=s.memoizedState!==null,s.stateNode.isHidden=r,!r||s.alternate!==null&&s.alternate.memoizedState!==null||(Hc=ve())),i&4&&Su(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Ie=(c=Ie)||u,gt(e,t),Ie=c):gt(e,t),Nt(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for($=t,u=t.child;u!==null;){for(h=$=u;$!==null;){switch(f=$,m=f.child,f.tag){case 0:case 11:case 14:case 15:_s(4,f,f.return);break;case 1:bi(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){i=f,n=f.return;try{e=i,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(x){xe(i,n,x)}}break;case 5:bi(f,f.return);break;case 22:if(f.memoizedState!==null){ku(h);continue}}m!==null?(m.return=f,$=m):ku(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,c?(r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Pf("display",o))}catch(x){xe(t,t.return,x)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(x){xe(t,t.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gt(e,t),Nt(t),i&4&&Su(t);break;case 21:break;default:gt(e,t),Nt(t)}}function Nt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ep(n)){var i=n;break e}n=n.return}throw Error(F(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(Es(s,""),i.flags&=-33);var r=wu(t);Wl(t,r,s);break;case 3:case 4:var o=i.stateNode.containerInfo,a=wu(t);$l(t,a,o);break;default:throw Error(F(161))}}catch(l){xe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function J0(t,e,n){$=t,ip(t)}function ip(t,e,n){for(var i=(t.mode&1)!==0;$!==null;){var s=$,r=s.child;if(s.tag===22&&i){var o=s.memoizedState!==null||Ar;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ie;a=Ar;var c=Ie;if(Ar=o,(Ie=l)&&!c)for($=s;$!==null;)o=$,l=o.child,o.tag===22&&o.memoizedState!==null?Nu(s):l!==null?(l.return=o,$=l):Nu(s);for(;r!==null;)$=r,ip(r),r=r.sibling;$=s,Ar=a,Ie=c}_u(t)}else s.subtreeFlags&8772&&r!==null?(r.return=s,$=r):_u(t)}}function _u(t){for(;$!==null;){var e=$;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ie||qo(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Ie)if(n===null)i.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:xt(e.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&au(e,r,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}au(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Os(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Ie||e.flags&512&&Bl(e)}catch(f){xe(e,e.return,f)}}if(e===t){$=null;break}if(n=e.sibling,n!==null){n.return=e.return,$=n;break}$=e.return}}function ku(t){for(;$!==null;){var e=$;if(e===t){$=null;break}var n=e.sibling;if(n!==null){n.return=e.return,$=n;break}$=e.return}}function Nu(t){for(;$!==null;){var e=$;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{qo(4,e)}catch(l){xe(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var s=e.return;try{i.componentDidMount()}catch(l){xe(e,s,l)}}var r=e.return;try{Bl(e)}catch(l){xe(e,r,l)}break;case 5:var o=e.return;try{Bl(e)}catch(l){xe(e,o,l)}}}catch(l){xe(e,e.return,l)}if(e===t){$=null;break}var a=e.sibling;if(a!==null){a.return=e.return,$=a;break}$=e.return}}var ey=Math.ceil,Po=Kt.ReactCurrentDispatcher,$c=Kt.ReactCurrentOwner,ut=Kt.ReactCurrentBatchConfig,J=0,Pe=null,we=null,Ae=0,tt=0,wi=Cn(0),ke=0,Ks=null,Jn=0,Jo=0,Wc=0,ks=null,Ye=null,Hc=0,$i=1/0,Rt=null,Mo=!1,Hl=null,yn=null,Tr=!1,an=null,Do=0,Ns=0,Vl=null,no=-1,io=0;function We(){return J&6?ve():no!==-1?no:no=ve()}function vn(t){return t.mode&1?J&2&&Ae!==0?Ae&-Ae:I0.transition!==null?(io===0&&(io=$f()),io):(t=ie,t!==0||(t=window.event,t=t===void 0?16:Xf(t.type)),t):1}function _t(t,e,n,i){if(50<Ns)throw Ns=0,Vl=null,Error(F(185));ar(t,n,i),(!(J&2)||t!==Pe)&&(t===Pe&&(!(J&2)&&(Jo|=n),ke===4&&rn(t,Ae)),qe(t,i),n===1&&J===0&&!(e.mode&1)&&($i=ve()+500,Ko&&Pn()))}function qe(t,e){var n=t.callbackNode;Ix(t,e);var i=fo(t,t===Pe?Ae:0);if(i===0)n!==null&&Ed(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&Ed(n),e===1)t.tag===0?R0(ju.bind(null,t)):fm(ju.bind(null,t)),T0(function(){!(J&6)&&Pn()}),n=null;else{switch(Wf(i)){case 1:n=pc;break;case 4:n=zf;break;case 16:n=ho;break;case 536870912:n=Bf;break;default:n=ho}n=up(n,sp.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function sp(t,e){if(no=-1,io=0,J&6)throw Error(F(327));var n=t.callbackNode;if(Pi()&&t.callbackNode!==n)return null;var i=fo(t,t===Pe?Ae:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=Ao(t,i);else{e=i;var s=J;J|=2;var r=op();(Pe!==t||Ae!==e)&&(Rt=null,$i=ve()+500,Gn(t,e));do try{iy();break}catch(a){rp(t,a)}while(!0);Pc(),Po.current=r,J=s,we!==null?e=0:(Pe=null,Ae=0,e=ke)}if(e!==0){if(e===2&&(s=xl(t),s!==0&&(i=s,e=Ul(t,s))),e===1)throw n=Ks,Gn(t,0),rn(t,i),qe(t,ve()),n;if(e===6)rn(t,i);else{if(s=t.current.alternate,!(i&30)&&!ty(s)&&(e=Ao(t,i),e===2&&(r=xl(t),r!==0&&(i=r,e=Ul(t,r))),e===1))throw n=Ks,Gn(t,0),rn(t,i),qe(t,ve()),n;switch(t.finishedWork=s,t.finishedLanes=i,e){case 0:case 1:throw Error(F(345));case 2:On(t,Ye,Rt);break;case 3:if(rn(t,i),(i&130023424)===i&&(e=Hc+500-ve(),10<e)){if(fo(t,0)!==0)break;if(s=t.suspendedLanes,(s&i)!==i){We(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Nl(On.bind(null,t,Ye,Rt),e);break}On(t,Ye,Rt);break;case 4:if(rn(t,i),(i&4194240)===i)break;for(e=t.eventTimes,s=-1;0<i;){var o=31-St(i);r=1<<o,o=e[o],o>s&&(s=o),i&=~r}if(i=s,i=ve()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*ey(i/1960))-i,10<i){t.timeoutHandle=Nl(On.bind(null,t,Ye,Rt),i);break}On(t,Ye,Rt);break;case 5:On(t,Ye,Rt);break;default:throw Error(F(329))}}}return qe(t,ve()),t.callbackNode===n?sp.bind(null,t):null}function Ul(t,e){var n=ks;return t.current.memoizedState.isDehydrated&&(Gn(t,e).flags|=256),t=Ao(t,e),t!==2&&(e=Ye,Ye=n,e!==null&&Gl(e)),t}function Gl(t){Ye===null?Ye=t:Ye.push.apply(Ye,t)}function ty(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!kt(r(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function rn(t,e){for(e&=~Wc,e&=~Jo,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-St(e),i=1<<n;t[n]=-1,e&=~i}}function ju(t){if(J&6)throw Error(F(327));Pi();var e=fo(t,0);if(!(e&1))return qe(t,ve()),null;var n=Ao(t,e);if(t.tag!==0&&n===2){var i=xl(t);i!==0&&(e=i,n=Ul(t,i))}if(n===1)throw n=Ks,Gn(t,0),rn(t,e),qe(t,ve()),n;if(n===6)throw Error(F(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,On(t,Ye,Rt),qe(t,ve()),null}function Vc(t,e){var n=J;J|=1;try{return t(e)}finally{J=n,J===0&&($i=ve()+500,Ko&&Pn())}}function ei(t){an!==null&&an.tag===0&&!(J&6)&&Pi();var e=J;J|=1;var n=ut.transition,i=ie;try{if(ut.transition=null,ie=1,t)return t()}finally{ie=i,ut.transition=n,J=e,!(J&6)&&Pn()}}function Uc(){tt=wi.current,le(wi)}function Gn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,A0(n)),we!==null)for(n=we.return;n!==null;){var i=n;switch(Nc(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&yo();break;case 3:zi(),le(Qe),le(Oe),Ec();break;case 5:Lc(i);break;case 4:zi();break;case 13:le(me);break;case 19:le(me);break;case 10:Mc(i.type._context);break;case 22:case 23:Uc()}n=n.return}if(Pe=t,we=t=bn(t.current,null),Ae=tt=e,ke=0,Ks=null,Wc=Jo=Jn=0,Ye=ks=null,Wn!==null){for(e=0;e<Wn.length;e++)if(n=Wn[e],i=n.interleaved,i!==null){n.interleaved=null;var s=i.next,r=n.pending;if(r!==null){var o=r.next;r.next=s,i.next=o}n.pending=i}Wn=null}return t}function rp(t,e){do{var n=we;try{if(Pc(),Jr.current=Co,jo){for(var i=pe.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}jo=!1}if(qn=0,je=Se=pe=null,Ss=!1,Gs=0,$c.current=null,n===null||n.return===null){ke=1,Ks=e,we=null;break}e:{var r=t,o=n.return,a=n,l=e;if(e=Ae,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=fu(o);if(m!==null){m.flags&=-257,mu(m,o,a,r,e),m.mode&1&&hu(r,c,e),e=m,l=c;var g=e.updateQueue;if(g===null){var x=new Set;x.add(l),e.updateQueue=x}else g.add(l);break e}else{if(!(e&1)){hu(r,c,e),Gc();break e}l=Error(F(426))}}else if(ue&&a.mode&1){var v=fu(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),mu(v,o,a,r,e),jc(Bi(l,a));break e}}r=l=Bi(l,a),ke!==4&&(ke=2),ks===null?ks=[r]:ks.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var p=Wm(r,l,e);ou(r,p);break e;case 1:a=l;var y=r.type,b=r.stateNode;if(!(r.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(yn===null||!yn.has(b)))){r.flags|=65536,e&=-e,r.lanes|=e;var _=Hm(r,a,e);ou(r,_);break e}}r=r.return}while(r!==null)}lp(n)}catch(S){e=S,we===n&&n!==null&&(we=n=n.return);continue}break}while(!0)}function op(){var t=Po.current;return Po.current=Co,t===null?Co:t}function Gc(){(ke===0||ke===3||ke===2)&&(ke=4),Pe===null||!(Jn&268435455)&&!(Jo&268435455)||rn(Pe,Ae)}function Ao(t,e){var n=J;J|=2;var i=op();(Pe!==t||Ae!==e)&&(Rt=null,Gn(t,e));do try{ny();break}catch(s){rp(t,s)}while(!0);if(Pc(),J=n,Po.current=i,we!==null)throw Error(F(261));return Pe=null,Ae=0,ke}function ny(){for(;we!==null;)ap(we)}function iy(){for(;we!==null&&!Px();)ap(we)}function ap(t){var e=dp(t.alternate,t,tt);t.memoizedProps=t.pendingProps,e===null?lp(t):we=e,$c.current=null}function lp(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Q0(n,e),n!==null){n.flags&=32767,we=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ke=6,we=null;return}}else if(n=K0(n,e,tt),n!==null){we=n;return}if(e=e.sibling,e!==null){we=e;return}we=e=t}while(e!==null);ke===0&&(ke=5)}function On(t,e,n){var i=ie,s=ut.transition;try{ut.transition=null,ie=1,sy(t,e,n,i)}finally{ut.transition=s,ie=i}return null}function sy(t,e,n,i){do Pi();while(an!==null);if(J&6)throw Error(F(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(F(177));t.callbackNode=null,t.callbackPriority=0;var r=n.lanes|n.childLanes;if(Ox(t,r),t===Pe&&(we=Pe=null,Ae=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Tr||(Tr=!0,up(ho,function(){return Pi(),null})),r=(n.flags&15990)!==0,n.subtreeFlags&15990||r){r=ut.transition,ut.transition=null;var o=ie;ie=1;var a=J;J|=4,$c.current=null,q0(t,n),np(n,t),k0(_l),mo=!!Sl,_l=Sl=null,t.current=n,J0(n),Mx(),J=a,ie=o,ut.transition=r}else t.current=n;if(Tr&&(Tr=!1,an=t,Do=s),r=t.pendingLanes,r===0&&(yn=null),Tx(n.stateNode),qe(t,ve()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(Mo)throw Mo=!1,t=Hl,Hl=null,t;return Do&1&&t.tag!==0&&Pi(),r=t.pendingLanes,r&1?t===Vl?Ns++:(Ns=0,Vl=t):Ns=0,Pn(),null}function Pi(){if(an!==null){var t=Wf(Do),e=ut.transition,n=ie;try{if(ut.transition=null,ie=16>t?16:t,an===null)var i=!1;else{if(t=an,an=null,Do=0,J&6)throw Error(F(331));var s=J;for(J|=4,$=t.current;$!==null;){var r=$,o=r.child;if($.flags&16){var a=r.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for($=c;$!==null;){var u=$;switch(u.tag){case 0:case 11:case 15:_s(8,u,r)}var h=u.child;if(h!==null)h.return=u,$=h;else for(;$!==null;){u=$;var f=u.sibling,m=u.return;if(Jm(u),u===c){$=null;break}if(f!==null){f.return=m,$=f;break}$=m}}}var g=r.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var v=x.sibling;x.sibling=null,x=v}while(x!==null)}}$=r}}if(r.subtreeFlags&2064&&o!==null)o.return=r,$=o;else e:for(;$!==null;){if(r=$,r.flags&2048)switch(r.tag){case 0:case 11:case 15:_s(9,r,r.return)}var p=r.sibling;if(p!==null){p.return=r.return,$=p;break e}$=r.return}}var y=t.current;for($=y;$!==null;){o=$;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,$=b;else e:for(o=y;$!==null;){if(a=$,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:qo(9,a)}}catch(S){xe(a,a.return,S)}if(a===o){$=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,$=_;break e}$=a.return}}if(J=s,Pn(),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(Vo,t)}catch{}i=!0}return i}finally{ie=n,ut.transition=e}}return!1}function Cu(t,e,n){e=Bi(n,e),e=Wm(t,e,1),t=xn(t,e,1),e=We(),t!==null&&(ar(t,1,e),qe(t,e))}function xe(t,e,n){if(t.tag===3)Cu(t,t,n);else for(;e!==null;){if(e.tag===3){Cu(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(yn===null||!yn.has(i))){t=Bi(n,t),t=Hm(e,t,1),e=xn(e,t,1),t=We(),e!==null&&(ar(e,1,t),qe(e,t));break}}e=e.return}}function ry(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=We(),t.pingedLanes|=t.suspendedLanes&n,Pe===t&&(Ae&n)===n&&(ke===4||ke===3&&(Ae&130023424)===Ae&&500>ve()-Hc?Gn(t,0):Wc|=n),qe(t,e)}function cp(t,e){e===0&&(t.mode&1?(e=Sr,Sr<<=1,!(Sr&130023424)&&(Sr=4194304)):e=1);var n=We();t=Yt(t,e),t!==null&&(ar(t,e,n),qe(t,n))}function oy(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),cp(t,n)}function ay(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(F(314))}i!==null&&i.delete(e),cp(t,n)}var dp;dp=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Qe.current)Ke=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ke=!1,X0(t,e,n);Ke=!!(t.flags&131072)}else Ke=!1,ue&&e.flags&1048576&&mm(e,wo,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;to(t,e),t=e.pendingProps;var s=Ri(e,Oe.current);Ci(e,n),s=Rc(null,e,i,t,s,n);var r=Ic();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ze(i)?(r=!0,vo(e)):r=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ac(e),s.updater=Zo,e.stateNode=s,s._reactInternals=e,Tl(e,i,t,n),e=Fl(null,e,i,!0,r,n)):(e.tag=0,ue&&r&&kc(e),$e(null,e,s,n),e=e.child),e;case 16:i=e.elementType;e:{switch(to(t,e),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=cy(i),t=xt(i,t),s){case 0:e=El(null,e,i,t,n);break e;case 1:e=xu(null,e,i,t,n);break e;case 11:e=pu(null,e,i,t,n);break e;case 14:e=gu(null,e,i,xt(i.type,t),n);break e}throw Error(F(306,i,""))}return e;case 0:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:xt(i,s),El(t,e,i,s,n);case 1:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:xt(i,s),xu(t,e,i,s,n);case 3:e:{if(Ym(e),t===null)throw Error(F(387));i=e.pendingProps,r=e.memoizedState,s=r.element,bm(t,e),ko(e,i,null,n);var o=e.memoizedState;if(i=o.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){s=Bi(Error(F(423)),e),e=yu(t,e,i,n,s);break e}else if(i!==s){s=Bi(Error(F(424)),e),e=yu(t,e,i,n,s);break e}else for(nt=gn(e.stateNode.containerInfo.firstChild),it=e,ue=!0,bt=null,n=ym(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ii(),i===s){e=Xt(t,e,n);break e}$e(t,e,i,n)}e=e.child}return e;case 5:return wm(e),t===null&&Ml(e),i=e.type,s=e.pendingProps,r=t!==null?t.memoizedProps:null,o=s.children,kl(i,s)?o=null:r!==null&&kl(i,r)&&(e.flags|=32),Gm(t,e),$e(t,e,o,n),e.child;case 6:return t===null&&Ml(e),null;case 13:return Xm(t,e,n);case 4:return Tc(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Oi(e,null,i,n):$e(t,e,i,n),e.child;case 11:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:xt(i,s),pu(t,e,i,s,n);case 7:return $e(t,e,e.pendingProps,n),e.child;case 8:return $e(t,e,e.pendingProps.children,n),e.child;case 12:return $e(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,s=e.pendingProps,r=e.memoizedProps,o=s.value,re(So,i._currentValue),i._currentValue=o,r!==null)if(kt(r.value,o)){if(r.children===s.children&&!Qe.current){e=Xt(t,e,n);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var a=r.dependencies;if(a!==null){o=r.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(r.tag===1){l=Vt(-1,n&-n),l.tag=2;var c=r.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}r.lanes|=n,l=r.alternate,l!==null&&(l.lanes|=n),Dl(r.return,n,e),a.lanes|=n;break}l=l.next}}else if(r.tag===10)o=r.type===e.type?null:r.child;else if(r.tag===18){if(o=r.return,o===null)throw Error(F(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Dl(o,n,e),o=r.sibling}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===e){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}$e(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,i=e.pendingProps.children,Ci(e,n),s=ft(s),i=i(s),e.flags|=1,$e(t,e,i,n),e.child;case 14:return i=e.type,s=xt(i,e.pendingProps),s=xt(i.type,s),gu(t,e,i,s,n);case 15:return Vm(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:xt(i,s),to(t,e),e.tag=1,Ze(i)?(t=!0,vo(e)):t=!1,Ci(e,n),$m(e,i,s),Tl(e,i,s,n),Fl(null,e,i,!0,t,n);case 19:return Km(t,e,n);case 22:return Um(t,e,n)}throw Error(F(156,e.tag))};function up(t,e){return Of(t,e)}function ly(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dt(t,e,n,i){return new ly(t,e,n,i)}function Yc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cy(t){if(typeof t=="function")return Yc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===hc)return 11;if(t===fc)return 14}return 2}function bn(t,e){var n=t.alternate;return n===null?(n=dt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function so(t,e,n,i,s,r){var o=2;if(i=t,typeof t=="function")Yc(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ui:return Yn(n.children,s,r,e);case uc:o=8,s|=8;break;case nl:return t=dt(12,n,e,s|2),t.elementType=nl,t.lanes=r,t;case il:return t=dt(13,n,e,s),t.elementType=il,t.lanes=r,t;case sl:return t=dt(19,n,e,s),t.elementType=sl,t.lanes=r,t;case wf:return ea(n,s,r,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case vf:o=10;break e;case bf:o=9;break e;case hc:o=11;break e;case fc:o=14;break e;case tn:o=16,i=null;break e}throw Error(F(130,t==null?t:typeof t,""))}return e=dt(o,n,e,s),e.elementType=t,e.type=i,e.lanes=r,e}function Yn(t,e,n,i){return t=dt(7,t,i,e),t.lanes=n,t}function ea(t,e,n,i){return t=dt(22,t,i,e),t.elementType=wf,t.lanes=n,t.stateNode={isHidden:!1},t}function Ia(t,e,n){return t=dt(6,t,null,e),t.lanes=n,t}function Oa(t,e,n){return e=dt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function dy(t,e,n,i,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ya(0),this.expirationTimes=ya(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ya(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Xc(t,e,n,i,s,r,o,a,l){return t=new dy(t,e,n,a,l),e===1?(e=1,r===!0&&(e|=8)):e=0,r=dt(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ac(r),t}function uy(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:di,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function hp(t){if(!t)return _n;t=t._reactInternals;e:{if(si(t)!==t||t.tag!==1)throw Error(F(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ze(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(F(171))}if(t.tag===1){var n=t.type;if(Ze(n))return hm(t,n,e)}return e}function fp(t,e,n,i,s,r,o,a,l){return t=Xc(n,i,!0,t,s,r,o,a,l),t.context=hp(null),n=t.current,i=We(),s=vn(n),r=Vt(i,s),r.callback=e??null,xn(n,r,s),t.current.lanes=s,ar(t,s,i),qe(t,i),t}function ta(t,e,n,i){var s=e.current,r=We(),o=vn(s);return n=hp(n),e.context===null?e.context=n:e.pendingContext=n,e=Vt(r,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=xn(s,e,o),t!==null&&(_t(t,s,o,r),qr(t,s,o)),o}function To(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Pu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Kc(t,e){Pu(t,e),(t=t.alternate)&&Pu(t,e)}function hy(){return null}var mp=typeof reportError=="function"?reportError:function(t){console.error(t)};function Qc(t){this._internalRoot=t}na.prototype.render=Qc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(F(409));ta(t,e,null,null)};na.prototype.unmount=Qc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ei(function(){ta(null,t,null,null)}),e[Gt]=null}};function na(t){this._internalRoot=t}na.prototype.unstable_scheduleHydration=function(t){if(t){var e=Uf();t={blockedOn:null,target:t,priority:e};for(var n=0;n<sn.length&&e!==0&&e<sn[n].priority;n++);sn.splice(n,0,t),n===0&&Yf(t)}};function Zc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ia(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Mu(){}function fy(t,e,n,i,s){if(s){if(typeof i=="function"){var r=i;i=function(){var c=To(o);r.call(c)}}var o=fp(e,i,t,0,null,!1,!1,"",Mu);return t._reactRootContainer=o,t[Gt]=o.current,$s(t.nodeType===8?t.parentNode:t),ei(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof i=="function"){var a=i;i=function(){var c=To(l);a.call(c)}}var l=Xc(t,0,!1,null,null,!1,!1,"",Mu);return t._reactRootContainer=l,t[Gt]=l.current,$s(t.nodeType===8?t.parentNode:t),ei(function(){ta(e,l,n,i)}),l}function sa(t,e,n,i,s){var r=n._reactRootContainer;if(r){var o=r;if(typeof s=="function"){var a=s;s=function(){var l=To(o);a.call(l)}}ta(e,o,t,s)}else o=fy(n,e,t,s,i);return To(o)}Hf=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=us(e.pendingLanes);n!==0&&(gc(e,n|1),qe(e,ve()),!(J&6)&&($i=ve()+500,Pn()))}break;case 13:ei(function(){var i=Yt(t,1);if(i!==null){var s=We();_t(i,t,1,s)}}),Kc(t,1)}};xc=function(t){if(t.tag===13){var e=Yt(t,134217728);if(e!==null){var n=We();_t(e,t,134217728,n)}Kc(t,134217728)}};Vf=function(t){if(t.tag===13){var e=vn(t),n=Yt(t,e);if(n!==null){var i=We();_t(n,t,e,i)}Kc(t,e)}};Uf=function(){return ie};Gf=function(t,e){var n=ie;try{return ie=t,e()}finally{ie=n}};ml=function(t,e,n){switch(e){case"input":if(al(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=Xo(i);if(!s)throw Error(F(90));_f(i),al(i,s)}}}break;case"textarea":Nf(t,n);break;case"select":e=n.value,e!=null&&_i(t,!!n.multiple,e,!1)}};Tf=Vc;Lf=ei;var my={usingClientEntryPoint:!1,Events:[cr,pi,Xo,Df,Af,Vc]},is={findFiberByHostInstance:$n,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},py={bundleType:is.bundleType,version:is.version,rendererPackageName:is.rendererPackageName,rendererConfig:is.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Rf(t),t===null?null:t.stateNode},findFiberByHostInstance:is.findFiberByHostInstance||hy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lr.isDisabled&&Lr.supportsFiber)try{Vo=Lr.inject(py),At=Lr}catch{}}rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=my;rt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zc(e))throw Error(F(200));return uy(t,e,null,n)};rt.createRoot=function(t,e){if(!Zc(t))throw Error(F(299));var n=!1,i="",s=mp;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Xc(t,1,!1,null,null,n,!1,i,s),t[Gt]=e.current,$s(t.nodeType===8?t.parentNode:t),new Qc(e)};rt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(F(188)):(t=Object.keys(t).join(","),Error(F(268,t)));return t=Rf(e),t=t===null?null:t.stateNode,t};rt.flushSync=function(t){return ei(t)};rt.hydrate=function(t,e,n){if(!ia(e))throw Error(F(200));return sa(null,t,e,!0,n)};rt.hydrateRoot=function(t,e,n){if(!Zc(t))throw Error(F(405));var i=n!=null&&n.hydratedSources||null,s=!1,r="",o=mp;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=fp(e,null,t,1,n??null,s,!1,r,o),t[Gt]=e.current,$s(t),i)for(t=0;t<i.length;t++)n=i[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new na(e)};rt.render=function(t,e,n){if(!ia(e))throw Error(F(200));return sa(null,t,e,!1,n)};rt.unmountComponentAtNode=function(t){if(!ia(t))throw Error(F(40));return t._reactRootContainer?(ei(function(){sa(null,null,t,!1,function(){t._reactRootContainer=null,t[Gt]=null})}),!0):!1};rt.unstable_batchedUpdates=Vc;rt.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!ia(n))throw Error(F(200));if(t==null||t._reactInternals===void 0)throw Error(F(38));return sa(t,e,n,!1,i)};rt.version="18.3.1-next-f1338f8080-20240426";function pp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pp)}catch(t){console.error(t)}}pp(),pf.exports=rt;var gy=pf.exports,Du=gy;el.createRoot=Du.createRoot,el.hydrateRoot=Du.hydrateRoot;const xy="modulepreload",yy=function(t,e){return new URL(t,e).href},Au={},ra=function(e,n,i){let s=Promise.resolve();if(n&&n.length>0){const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=yy(c,i),c in Au)return;Au[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(!!i)for(let g=o.length-1;g>=0;g--){const x=o[g];if(x.href===c&&(!u||x.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${h}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":xy,u||(m.as="script"),m.crossOrigin="",m.href=c,l&&m.setAttribute("nonce",l),document.head.appendChild(m),u)return new Promise((g,x)=>{m.addEventListener("load",g),m.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${c}`)))})}))}function r(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&r(a.reason);return e().catch(r)})},za="imageAnalyses",_e={saveAnalysis:t=>{const e=_e.getAllAnalyses(),n=e.findIndex(i=>i.id===t.id);n>=0?e[n]=t:e.push(t),localStorage.setItem(za,JSON.stringify(e))},getAnalysis:t=>_e.getAllAnalyses().find(n=>n.id===t)||null,getAllAnalyses:()=>{try{const t=localStorage.getItem(za);return t?JSON.parse(t):[]}catch{return[]}},deleteAnalysis:t=>{const n=_e.getAllAnalyses().filter(i=>i.id!==t);localStorage.setItem(za,JSON.stringify(n))},generateId:()=>Date.now().toString(36)+Math.random().toString(36).substr(2)},vy={fa:{appTitle:"Concrete Image Analysis Software (CIA): Interfacial Transition Zone (ITZ) Section",appTitleShort:"CIA v1.7.2",appSubtitle:"  -    ",appVersion:"1.7.2",copyright:" 2024 All rights reserved by Aghajanian",appDescription:"             (ITZ).                   .",stepUpload:" ",stepProcess:"",stepLineSelect:" ",stepLineReplicate:" ",stepAnalysis:"",stepResults:"",uploadTitle:" ",uploadDescription:"        ",uploadDragDrop:"     ",uploadFileTypes:"JPG, PNG, GIF  10MB",uploadButton:" ",uploadSuccess:"    ",uploadError:"   ",uploadNote:" :            ",processTitle:" ",processDescription:"    ",processAlgorithm:" ",processThreshold:"",processApply:"  ",processBinaryConfirm:"      ",processBinaryConfirmDesc:"    .             .",processConfirmButton:"   ",processRejectButton:"   ",processSuccess:"  ",lineSelectTitle:"  ",lineSelectDescription:"       ",lineSelectStart:"  ",lineSelectFinish:"  ",lineSelectReset:" ",lineSelectZoomNormal:" ",lineSelectZoomIn:" +",lineSelectZoomOut:" -",lineSelectCenter:" ",lineSelectStatus:" ",lineSelectPointsCount:"   ",lineSelectLineStatus:" ",lineSelectConfirm:"  ",lineReplicateTitle:"  ",lineReplicateDescription:"     ",lineReplicateDirection:" ",lineReplicateDistance:"  ()",lineReplicateCount:" ",lineReplicateGenerate:" ",lineReplicateClear:" ",lineReplicateConfirm:"  ",distanceAnalysisTitle:"  ",distanceAnalysisDescription:"    ",analysisTitle:"  ",analysisDescription:"    ",analysisUnit:" ",analysisRatio:"   ",analysisDistance:" ",analysisRegionCount:"  ",analysisStart:" ",analysisProcessing:"  ...",regionSelectTitle:"   ",regionSelectDescription:"          ",resultsTitle:" ",resultsDescription:"   ",resultsNewAnalysis:" ",resultsExportExcel:" ",resultsSummary:"",resultsDetailed:"",resultsCharts:"",porosity:"Porosity",hydrationMaterial:"Hydration Material",unhydratedMaterial:"Unhydrated Material",aggregate:"Aggregate",confirm:"",cancel:"",back:"",next:"",loading:"  ...",error:"",success:"",warning:"",micrometer:" (m)",nanometer:" (nm)",pixels:"",horizontal:" (X)",vertical:" (Y)",black:"",darkGray:" ",lightGray:" ",white:"",yellow:"",blue:"",red:"",green:""},en:{appTitle:"Concrete Image Analysis Software (CIA): Interfacial Transition Zone (ITZ) Section",appTitleShort:"CIA v1.7.2",appSubtitle:"Standalone Version - No Server Dependencies",appVersion:"1.7.2",copyright:" 2024 All rights reserved by Aghajanian",appDescription:"Concrete image analysis software for examining the Interfacial Transition Zone (ITZ) between aggregate and cement paste. This software provides image processing, baseline selection, line replication, and material distribution analysis at various distances.",stepUpload:"Upload Image",stepProcess:"Processing",stepLineSelect:"Line Selection",stepLineReplicate:"Line Replication",stepAnalysis:"Analysis",stepResults:"Results",uploadTitle:"Upload Image",uploadDescription:"Select your image for analysis",uploadDragDrop:"Click or drag file here",uploadFileTypes:"JPG, PNG, GIF up to 10MB",uploadButton:"Start Analysis",uploadSuccess:"Image uploaded successfully",uploadError:"Error uploading image",uploadNote:" Note: All data is stored in your browser and not sent to any server",processTitle:"Image Processing",processDescription:"Select processing algorithm",processAlgorithm:"Processing Algorithm",processThreshold:"Threshold",processApply:"Apply Binarization",processBinaryConfirm:"Are you satisfied with the binarization result?",processBinaryConfirmDesc:"Review the binary image. If suitable, continue, otherwise select a different algorithm.",processConfirmButton:" Confirm and Continue",processRejectButton:" Select Different Algorithm",processSuccess:"Image processed",lineSelectTitle:"Select Base Line",lineSelectDescription:"Carefully mark the outer boundary of the aggregate",lineSelectStart:"Start Point Selection",lineSelectFinish:"Finish Point Selection",lineSelectReset:"Reset",lineSelectZoomNormal:"Normal Zoom",lineSelectZoomIn:"Zoom In +",lineSelectZoomOut:"Zoom Out -",lineSelectCenter:"Center Image",lineSelectStatus:"Selection Status",lineSelectPointsCount:"Selected Points Count",lineSelectLineStatus:"Line Status",lineSelectConfirm:"Confirm Base Line",lineReplicateTitle:"Replicate Base Line",lineReplicateDescription:"Set line replication parameters",lineReplicateDirection:"Replication Direction",lineReplicateDistance:"Replication Distance (micrometers)",lineReplicateCount:"Replication Count",lineReplicateGenerate:"Generate Lines",lineReplicateClear:"Clear",lineReplicateConfirm:"Confirm and Continue",distanceAnalysisTitle:"Distance Analysis Settings",distanceAnalysisDescription:"Configure analysis parameters",analysisTitle:"Distance Analysis Settings",analysisDescription:"Configure analysis parameters",analysisUnit:"Scale Unit",analysisRatio:"Pixel to Real Ratio",analysisDistance:"Analysis Distance",analysisRegionCount:"Analysis Region Count",analysisStart:"Start Analysis",analysisProcessing:"Processing...",regionSelectTitle:"Select Largest Closed Region",regionSelectDescription:"The largest region is automatically selected and its perimeter is divided",resultsTitle:"Analysis Results",resultsDescription:"Image color analysis results",resultsNewAnalysis:"New Analysis",resultsExportExcel:"Export to Excel",resultsSummary:"Summary",resultsDetailed:"Detailed",resultsCharts:"Charts",porosity:"Porosity",hydrationMaterial:"Hydration Material",unhydratedMaterial:"Unhydrated Material",aggregate:"Aggregate",confirm:"Confirm",cancel:"Cancel",back:"Back",next:"Next",loading:"Loading...",error:"Error",success:"Success",warning:"Warning",micrometer:"Micrometer (m)",nanometer:"Nanometer (nm)",pixels:"Pixels",horizontal:"Horizontal (X)",vertical:"Vertical (Y)",black:"Black",darkGray:"Dark Gray",lightGray:"Light Gray",white:"White",yellow:"Yellow",blue:"Blue",red:"Red",green:"Green"}},Qt=t=>vy[t],U={success:t=>{Tu(t,"success")},error:t=>{Tu(t,"error")}};function Tu(t,e){document.querySelectorAll(".toast").forEach(s=>s.remove());const i=document.createElement("div");i.className=`toast ${e}`,i.textContent=t,document.body.appendChild(i),setTimeout(()=>{i.parentNode&&i.parentNode.removeChild(i)},3e3)}function by({onAnalysisCreated:t,language:e}){const n=Qt(e),[i,s]=B.useState(null),[r,o]=B.useState(!1),[a,l]=B.useState(null),c=B.useRef(null),u=g=>{var v;const x=(v=g.target.files)==null?void 0:v[0];if(x&&x.type.startsWith("image/")){s(x);const p=new FileReader;p.onload=y=>{var b;l((b=y.target)==null?void 0:b.result)},p.readAsDataURL(x)}else U.error(e==="fa"?"     ":"Please select an image file")},h=async()=>{if(!(!i||!a)){o(!0);try{const g={id:_e.generateId(),originalImage:a,fileName:i.name,algorithm:"otsu",regions:[],createdAt:Date.now()};_e.saveAnalysis(g),t(g.id),U.success(n.uploadSuccess)}catch(g){U.error(n.uploadError),console.error(g)}finally{o(!1)}}},f=g=>{g.preventDefault();const x=g.dataTransfer.files[0];if(x&&x.type.startsWith("image/")){s(x);const v=new FileReader;v.onload=p=>{var y;l((y=p.target)==null?void 0:y.result)},v.readAsDataURL(x)}else U.error(e==="fa"?"     ":"Please select an image file")},m=g=>{g.preventDefault()};return d.jsxs("div",{className:"p-8",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:n.uploadTitle}),d.jsx("p",{className:"text-gray-600",children:n.uploadDescription})]}),d.jsxs("div",{className:"max-w-md mx-auto",children:[d.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-gray-400 transition-colors cursor-pointer",onClick:()=>{var g;return(g=c.current)==null?void 0:g.click()},onDrop:f,onDragOver:m,children:a?d.jsxs("div",{className:"space-y-4",children:[d.jsx("img",{src:a,alt:"Preview",className:"max-w-full max-h-48 mx-auto rounded-lg"}),d.jsx("p",{className:"text-sm text-gray-600",children:e==="fa"?"      ":"Click to select another image"})]}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"text-4xl mb-4",children:""}),d.jsx("p",{className:"text-gray-600 mb-2",children:n.uploadDragDrop}),d.jsx("p",{className:"text-sm text-gray-500",children:n.uploadFileTypes})]})}),d.jsx("input",{ref:c,type:"file",accept:"image/*",onChange:u,className:"hidden"}),i&&d.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:i.name}),d.jsxs("p",{className:"text-sm text-gray-500",children:[(i.size/1024/1024).toFixed(2)," MB"]})]}),d.jsx("button",{onClick:h,disabled:r,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:r?n.loading:n.uploadButton})]})})]}),d.jsx("div",{className:"mt-8 text-center text-sm text-gray-500",children:d.jsx("p",{children:n.uploadNote})})]})}const ro={toGrayscale:t=>{const e=document.createElement("canvas"),n=e.getContext("2d");e.width=t.width,e.height=t.height,n.drawImage(t,0,0);const i=n.getImageData(0,0,e.width,e.height),s=i.data;for(let r=0;r<s.length;r+=4){const o=Math.round(.299*s[r]+.587*s[r+1]+.114*s[r+2]);s[r]=o,s[r+1]=o,s[r+2]=o}return n.putImageData(i,0,0),e.toDataURL()},binarize:(t,e,n=128)=>new Promise((i,s)=>{const r=new Image;r.onload=()=>{setTimeout(()=>{try{const o=document.createElement("canvas"),a=o.getContext("2d");o.width=r.width,o.height=r.height,a.drawImage(r,0,0);const l=a.getImageData(0,0,o.width,o.height),c=l.data;let u=n;switch(e){case"otsu":u=wy(c);break;case"adaptive":_y(c,o.width,o.height),a.putImageData(l,0,0),i(o.toDataURL());return;case"triangle":u=Sy(c);break;case"wellner":ky(c,o.width,o.height),a.putImageData(l,0,0),i(o.toDataURL());return;case"multilevel":Ny(c,o.width,o.height),a.putImageData(l,0,0),i(o.toDataURL());return;case"kmeans":jy(c,o.width,o.height),a.putImageData(l,0,0),i(o.toDataURL());return;case"meanshift":setTimeout(()=>{Py(c,o.width,o.height),a.putImageData(l,0,0),i(o.toDataURL())},100);return;case"watershed":setTimeout(()=>{My(c,o.width,o.height),a.putImageData(l,0,0),i(o.toDataURL())},100);return;case"fcm":setTimeout(()=>{Dy(c,o.width,o.height),a.putImageData(l,0,0),i(o.toDataURL())},100);return;default:break}for(let h=0;h<c.length;h+=4){const f=c[h]>u?255:0;c[h]=f,c[h+1]=f,c[h+2]=f}a.putImageData(l,0,0),i(o.toDataURL())}catch(o){console.error("Error in binarization:",o),s(o)}},50)},r.onerror=()=>{s(new Error("Failed to load image for binarization"))},r.src=t}),detectRegions:t=>new Promise(e=>{const n=new Image;n.onload=()=>{setTimeout(()=>{try{const i=document.createElement("canvas"),s=i.getContext("2d"),r=800,o=Math.min(r/n.width,r/n.height,1);i.width=Math.floor(n.width*o),i.height=Math.floor(n.height*o),s.drawImage(n,0,0,i.width,i.height);const l=s.getImageData(0,0,i.width,i.height).data,c=new Array(i.width*i.height).fill(!1),u=[];let h=1,f=0;const m=i.width*i.height,g=(v,p)=>{const y=[[v,p]],b=[];let _=0;const S=5e4;for(;y.length>0&&_<S;){_++;const[w,j]=y.pop();if(w<0||w>=i.width||j<0||j>=i.height)continue;const N=j*i.width+w;if(c[N])continue;const A=N*4;l[A]===0&&(c[N]=!0,b.push([w,j]),b.length<1e4&&y.push([w+1,j],[w-1,j],[w,j+1],[w,j-1]))}return b},x=Math.max(1,Math.floor(Math.sqrt(m)/100));for(let v=0;v<i.height;v+=x){for(let p=0;p<i.width&&(f++,!(f>1e4));p+=x){const y=v*i.width+p,b=y*4;if(!c[y]&&l[b]===0){const _=g(p,v),S=Math.max(50,i.width*i.height*.001);if(_.length>S){const w=Math.min(..._.map(T=>T[0])),j=Math.max(..._.map(T=>T[0])),N=Math.min(..._.map(T=>T[1])),A=Math.max(..._.map(T=>T[1])),D=_.reduce((T,O)=>T+O[0],0)/_.length,P=_.reduce((T,O)=>T+O[1],0)/_.length;u.push({id:h++,area:Math.floor(_.length/(o*o)),centroid:{x:Math.floor(D/o),y:Math.floor(P/o)},boundingBox:{x:Math.floor(w/o),y:Math.floor(N/o),width:Math.floor((j-w)/o),height:Math.floor((A-N)/o)}})}}if(u.length>=20)break}if(u.length>=20||f>1e4)break}if(u.length===0){const v=[{id:1,area:Math.floor(n.width*n.height*.3),centroid:{x:Math.floor(n.width*.3),y:Math.floor(n.height*.3)},boundingBox:{x:Math.floor(n.width*.1),y:Math.floor(n.height*.1),width:Math.floor(n.width*.4),height:Math.floor(n.height*.4)}},{id:2,area:Math.floor(n.width*n.height*.2),centroid:{x:Math.floor(n.width*.7),y:Math.floor(n.height*.6)},boundingBox:{x:Math.floor(n.width*.5),y:Math.floor(n.height*.4),width:Math.floor(n.width*.3),height:Math.floor(n.height*.3)}}];e(v)}else e(u)}catch(i){console.error("Error in region detection:",i),e([{id:1,area:Math.floor(n.width*n.height*.3),centroid:{x:Math.floor(n.width*.3),y:Math.floor(n.height*.3)},boundingBox:{x:Math.floor(n.width*.1),y:Math.floor(n.height*.1),width:Math.floor(n.width*.4),height:Math.floor(n.height*.4)}}])}},100)},n.src=t})};function wy(t){const e=new Array(256).fill(0),n=t.length/4;for(let c=0;c<t.length;c+=4)e[t[c]]++;let i=0;for(let c=0;c<256;c++)i+=c*e[c];let s=0,r=0,o=0,a=0,l=0;for(let c=0;c<256;c++){if(r+=e[c],r===0)continue;if(o=n-r,o===0)break;s+=c*e[c];const u=s/r,h=(i-s)/o,f=r*o*(u-h)*(u-h);f>a&&(a=f,l=c)}return l}function Sy(t){const e=new Array(256).fill(0);for(let s=0;s<t.length;s+=4)e[t[s]]++;let n=0,i=0;for(let s=0;s<256;s++)e[s]>n&&(n=e[s],i=s);return Math.floor((i+255)/2)}function _y(t,e,n){const i=Math.min(15,Math.floor(Math.min(e,n)/20)),s=10,r=Math.max(1,Math.floor(n/10));for(let o=0;o<n;o+=r){const a=Math.min(o+r,n);for(let l=o;l<a;l++)for(let c=0;c<e;c++){const u=(l*e+c)*4;let h=0,f=0;const m=Math.max(0,l-i),g=Math.min(n-1,l+i),x=Math.max(0,c-i),v=Math.min(e-1,c+i);for(let b=m;b<=g;b++)for(let _=x;_<=v;_++){const S=(b*e+_)*4;h+=t[S],f++}const p=h/f-s,y=t[u]>p?255:0;t[u]=y,t[u+1]=y,t[u+2]=y}}}function ky(t,e,n){const i=Math.max(e,n)/8,s=.15,r=new Array(e*n).fill(0);for(let o=0;o<n;o++)for(let a=0;a<e;a++){const l=o*e+a,c=l*4;let u=t[c];a>0&&(u+=r[o*e+(a-1)]),o>0&&(u+=r[(o-1)*e+a]),a>0&&o>0&&(u-=r[(o-1)*e+(a-1)]),r[l]=u}for(let o=0;o<n;o++)for(let a=0;a<e;a++){const l=(o*e+a)*4,c=Math.max(0,a-Math.floor(i/2)),u=Math.max(0,o-Math.floor(i/2)),h=Math.min(e-1,a+Math.floor(i/2)),f=Math.min(n-1,o+Math.floor(i/2)),m=(h-c+1)*(f-u+1);let g=r[f*e+h];c>0&&(g-=r[f*e+(c-1)]),u>0&&(g-=r[(u-1)*e+h]),c>0&&u>0&&(g+=r[(u-1)*e+(c-1)]);const v=g/m*(1-s),p=t[l]>v?255:0;t[l]=p,t[l+1]=p,t[l+2]=p}}function Ny(t,e,n){const i=new Array(256).fill(0);for(let r=0;r<t.length;r+=4)i[t[r]]++;const s=Cy(i,4);for(let r=0;r<t.length;r+=4){const o=t[r];let a=0;o<=s[0]?a=0:o<=s[1]?a=85:o<=s[2]?a=170:a=255,t[r]=a,t[r+1]=a,t[r+2]=a}}function jy(t,e,n){let r=[32,96,160,224];for(let o=0;o<20;o++){const a=[[],[],[],[]];for(let c=0;c<t.length;c+=4){const u=t[c];let h=1/0,f=0;for(let m=0;m<4;m++){const g=Math.abs(u-r[m]);g<h&&(h=g,f=m)}a[f].push(u)}let l=!0;for(let c=0;c<4;c++)if(a[c].length>0){const u=a[c].reduce((h,f)=>h+f,0)/a[c].length;Math.abs(u-r[c])>1&&(l=!1),r[c]=u}if(l)break}r.sort((o,a)=>o-a);for(let o=0;o<t.length;o+=4){const a=t[o];let l=1/0,c=0;for(let u=0;u<4;u++){const h=Math.abs(a-r[u]);h<l&&(l=h,c=u*85)}t[o]=c,t[o+1]=c,t[o+2]=c}}function Cy(t,e){const n=t.reduce((o,a)=>o+a,0),i=[];let s=0;const r=n/e;for(let o=0;o<256&&i.length<e-1;o++)s+=t[o],s>=r*(i.length+1)&&i.push(o);for(;i.length<e-1;)i.push(Math.floor(255*(i.length+1)/e));return i}function Py(t,e,n){const s=new Uint8ClampedArray(t);for(let r=0;r<n;r+=4)for(let o=0;o<e;o+=4){const a=(r*e+o)*4;let l=0,c=0;for(let f=-10;f<=10;f+=2)for(let m=-10;m<=10;m+=2){const g=r+f,x=o+m;if(g>=0&&g<n&&x>=0&&x<e){const v=(g*e+x)*4;l+=t[v],c++}}const h=(c>0?l/c:t[a])>128?255:0;for(let f=0;f<4&&r+f<n;f++)for(let m=0;m<4&&o+m<e;m++){const g=((r+f)*e+(o+m))*4;s[g]=h,s[g+1]=h,s[g+2]=h}}for(let r=0;r<t.length;r++)t[r]=s[r]}function My(t,e,n){const i=new Uint8ClampedArray(t);for(let s=1;s<n-1;s++)for(let r=1;r<e-1;r++){const o=(s*e+r)*4,a=t[o],l=t[(s*e+(r+1))*4],c=t[((s+1)*e+r)*4],u=Math.abs(l-a),h=Math.abs(c-a);if(u+h>30)i[o]=128,i[o+1]=128,i[o+2]=128;else{const m=a>128?255:0;i[o]=m,i[o+1]=m,i[o+2]=m}}for(let s=0;s<t.length;s++)t[s]=i[s]}function Dy(t,e,n){let r=[64,128,192];for(let o=0;o<5;o++){const a=[[],[],[]];for(let l=0;l<t.length;l+=4){const c=t[l];let u=1/0,h=0;for(let f=0;f<3;f++){const m=Math.abs(c-r[f]);m<u&&(u=m,h=f)}a[h].push(c)}for(let l=0;l<3;l++)a[l].length>0&&(r[l]=a[l].reduce((c,u)=>c+u,0)/a[l].length)}for(let o=0;o<t.length;o+=4){const a=t[o];let l=1/0,c=0;for(let u=0;u<3;u++){const h=Math.abs(a-r[u]);h<l&&(l=h,c=u*(255/2))}l<20&&(c=Math.min(255,c+(Math.random()-.5)*30)),t[o]=c,t[o+1]=c,t[o+2]=c}}const Be={calculateNoiseMap:(t,e,n,i)=>{for(let s=0;s<n;s++)new Array(e).fill(0);switch(i){case"otsu":case"triangle":case"manual":return Be.calculateSimpleNoiseMap(t,e,n);case"adaptive":case"wellner":return Be.calculateAdaptiveNoiseMap(t,e,n);case"multilevel":case"kmeans":return Be.calculateClusteringNoiseMap(t,e,n);case"meanshift":case"watershed":case"fcm":return Be.calculateAdvancedNoiseMap(t,e,n);default:return Be.calculateSimpleNoiseMap(t,e,n)}},calculateSimpleNoiseMap:(t,e,n)=>{const i=[];for(let r=0;r<n;r++){i[r]=new Array(e).fill(0);for(let o=0;o<e;o++){const a=Be.calculateLocalVariance(t,o,r,e,n,5);i[r][o]=Math.min(1,a/50)}}return i},calculateAdaptiveNoiseMap:(t,e,n)=>{const i=[];for(let r=0;r<n;r++){i[r]=new Array(e).fill(0);for(let o=0;o<e;o++){const a=Be.calculateLocalMean(t,o,r,e,n,7),l=Be.calculateLocalStandardDeviation(t,o,r,e,n,7,a),c=t[(r*e+o)*4],u=Math.abs(c-a),h=l>0?u/l:0;i[r][o]=Math.min(1,h/3)}}return i},calculateClusteringNoiseMap:(t,e,n)=>{const i=[];for(let r=0;r<n;r++){i[r]=new Array(e).fill(0);for(let o=0;o<e;o++){const a=Be.calculateLocalHistogram(t,o,r,e,n,9),l=Be.calculateEntropy(a);i[r][o]=Math.min(1,l/8)}}return i},calculateAdvancedNoiseMap:(t,e,n)=>{const i=[];for(let r=0;r<n;r++){i[r]=new Array(e).fill(0);for(let o=0;o<e;o++){const a=Be.calculateLocalVariance(t,o,r,e,n,11),l=Be.calculateLocalGradient(t,o,r,e,n),c=Be.calculateEdgeStrength(t,o,r,e,n),u=(a*.4+l*.3+c*.3)/50;i[r][o]=Math.min(1,u)}}return i},calculateLocalVariance:(t,e,n,i,s,r)=>{const o=Math.floor(r/2);let a=0,l=0,c=0;for(let f=-o;f<=o;f++)for(let m=-o;m<=o;m++){const g=e+m,x=n+f;if(g>=0&&g<i&&x>=0&&x<s){const v=t[(x*i+g)*4];a+=v,l+=v*v,c++}}if(c===0)return 0;const u=a/c,h=l/c-u*u;return Math.sqrt(h)},calculateLocalMean:(t,e,n,i,s,r)=>{const o=Math.floor(r/2);let a=0,l=0;for(let c=-o;c<=o;c++)for(let u=-o;u<=o;u++){const h=e+u,f=n+c;h>=0&&h<i&&f>=0&&f<s&&(a+=t[(f*i+h)*4],l++)}return l>0?a/l:0},calculateLocalStandardDeviation:(t,e,n,i,s,r,o)=>{const a=Math.floor(r/2);let l=0,c=0;for(let u=-a;u<=a;u++)for(let h=-a;h<=a;h++){const f=e+h,m=n+u;if(f>=0&&f<i&&m>=0&&m<s){const g=t[(m*i+f)*4];l+=Math.pow(g-o,2),c++}}return c>0?Math.sqrt(l/c):0},calculateLocalHistogram:(t,e,n,i,s,r)=>{const o=Math.floor(r/2),a=new Array(256).fill(0);for(let l=-o;l<=o;l++)for(let c=-o;c<=o;c++){const u=e+c,h=n+l;if(u>=0&&u<i&&h>=0&&h<s){const f=t[(h*i+u)*4];a[f]++}}return a},calculateEntropy:t=>{const e=t.reduce((i,s)=>i+s,0);if(e===0)return 0;let n=0;for(const i of t)if(i>0){const s=i/e;n-=s*Math.log2(s)}return n},calculateLocalGradient:(t,e,n,i,s)=>{if(e===0||e===i-1||n===0||n===s-1)return 0;const r=t[(n*i+(e+1))*4],o=t[(n*i+(e-1))*4],a=t[((n+1)*i+e)*4],l=t[((n-1)*i+e)*4],c=(r-o)/2,u=(a-l)/2;return Math.sqrt(c*c+u*u)},calculateEdgeStrength:(t,e,n,i,s)=>{if(e===0||e===i-1||n===0||n===s-1)return 0;const r=[[-1,0,1],[-2,0,2],[-1,0,1]],o=[[-1,-2,-1],[0,0,0],[1,2,1]];let a=0,l=0;for(let c=-1;c<=1;c++)for(let u=-1;u<=1;u++){const h=t[((n+c)*i+(e+u))*4];a+=h*r[c+1][u+1],l+=h*o[c+1][u+1]}return Math.sqrt(a*a+l*l)},generateNoiseStatistics:t=>{const e=t.length,n=e>0?t[0].length:0,i=n*e;if(i===0)return{averageNoiseLevel:0,maxNoiseLevel:0,minNoiseLevel:0,noiseDistribution:{low:0,medium:0,high:0},totalPixelsAnalyzed:0};let s=0,r=1,o=0,a=0,l=0,c=0;for(let u=0;u<e;u++)for(let h=0;h<n;h++){const f=t[u][h];s+=f,r=Math.min(r,f),o=Math.max(o,f),f<.3?a++:f<.7?l++:c++}return{averageNoiseLevel:s/i,maxNoiseLevel:o,minNoiseLevel:r,noiseDistribution:{low:a/i*100,medium:l/i*100,high:c/i*100},totalPixelsAnalyzed:i}}},Vn={otsu:{name:"Otsu Thresholding",formula:"w(t) = w(t)(t) + w(t)(t)",description:{fa:"         ",en:"Suitable for images with two distinct classes and bimodal histogram"},recommendation:{fa:"         ",en:"Best choice for images with completely distinct background and object"}},adaptive:{name:"Adaptive Thresholding",formula:"T(x,y) = mean(I(xw, yw)) - C",description:{fa:"     ",en:"Suitable for images with non-uniform illumination"},recommendation:{fa:"       ",en:"Ideal for images with shadows or variable lighting"}},triangle:{name:"Triangle Method",formula:"max{d(i)} = |ax + by + c| / (a + b)",description:{fa:"     ",en:"Suitable for images with asymmetric histogram"},recommendation:{fa:"        ",en:"Best for images with one dominant peak in histogram"}},wellner:{name:"Wellner Adaptive",formula:"T(x,y) = (1/s)   I(i,j) - t",description:{fa:"       ",en:"Local adaptive threshold using moving average"},recommendation:{fa:"        ",en:"Suitable for text and images with local lighting variations"}},multilevel:{name:"Multi-level Thresholding",formula:"T = {t, t, ..., t} where B = w( - T)",description:{fa:"       ",en:"Image segmentation into multiple levels with multiple thresholds"},recommendation:{fa:"       ",en:"Excellent for complex images with multiple different materials"}},kmeans:{name:"K-means Clustering",formula:"J =   w||x - ||",description:{fa:"     ",en:"Clustering pixels based on color intensity"},recommendation:{fa:"       ",en:"Suitable for images with distinct and well-defined regions"}},meanshift:{name:"Mean Shift Segmentation",formula:"x_{t+1} = (xK(x-x)) / (K(x-x))",description:{fa:"        ",en:"Suitable for images with homogeneous regions and clear boundaries"},recommendation:{fa:"      ",en:"Excellent for natural images and complex textures"}},watershed:{name:"Watershed Segmentation",formula:"W(f) = {x  D | y  N(x): f(x)  f(y)}",description:{fa:"      overlapping",en:"Suitable for separating connected and overlapping objects"},recommendation:{fa:"       ",en:"Best for images with objects stuck together"}},fcm:{name:"Fuzzy C-Means (FCM)",formula:"u = 1 / ((d/d)^(2/(m-1)))",description:{fa:"       ",en:"Suitable for images with gradual and uncertain boundaries"},recommendation:{fa:"      ",en:"Ideal for medical images and soft tissues"}},manual:{name:"Manual Threshold",formula:"f(x,y) = 255 if I(x,y) > T, else 0",description:{fa:"    ",en:"Complete user control over threshold"},recommendation:{fa:"      ",en:"When you know the best threshold value"}}},Ay=Object.freeze(Object.defineProperty({__proto__:null,algorithmInfo:Vn,imageProcessor:ro,noiseDetection:Be},Symbol.toStringTag,{value:"Module"})),Ty=t=>[{id:"otsu",name:"Otsu",description:t==="fa"?"   ":"Automatic optimal threshold detection"},{id:"adaptive",name:"Adaptive",description:t==="fa"?" ":"Adaptive threshold"},{id:"triangle",name:"Triangle",description:t==="fa"?" ":"Triangle method"},{id:"wellner",name:"Wellner",description:t==="fa"?"  -   ":"Wellner method - Local adaptive threshold"},{id:"multilevel",name:"Multi-level",description:t==="fa"?"  -  ":"Multi-level thresholding - Advanced segmentation"},{id:"kmeans",name:"K-means",description:t==="fa"?" K-means -  ":"K-means clustering - Intelligent segmentation"},{id:"meanshift",name:"Mean Shift",description:t==="fa"?" Mean Shift -    ":"Mean Shift segmentation - Ideal for homogeneous regions"},{id:"watershed",name:"Watershed",description:t==="fa"?" Watershed -   ":"Watershed algorithm - Separating connected objects"},{id:"fcm",name:"Fuzzy C-Means",description:t==="fa"?"  -    ":"Fuzzy clustering - Ideal for gradual boundaries"},{id:"manual",name:"Manual",description:t==="fa"?" ":"Manual threshold"}];function Ly({analysis:t,onProcessingComplete:e,onBack:n,language:i}){const s=Qt(i),[r,o]=B.useState("otsu"),[a,l]=B.useState(128),[c,u]=B.useState(!1),[h,f]=B.useState(null),[m,g]=B.useState(null),[x,v]=B.useState(!1);B.useEffect(()=>{t.originalImage&&p()},[t.originalImage]);const p=()=>{const w=new Image;w.onload=()=>{const j=ro.toGrayscale(w);f(j)},w.src=t.originalImage},y=async()=>{if(h){u(!0);try{const w=await ro.binarize(h,r,a);g(w);const j={...t,algorithm:r,threshold:r==="manual"?a:void 0};_e.saveAnalysis(j),v(!0),U.success(i==="fa"?"  ":"Image processed")}catch(w){U.error(i==="fa"?"   ":"Error processing image"),console.error(w)}finally{u(!1)}}},b=()=>{const w={...t,algorithm:r,threshold:r==="manual"?a:void 0};_e.saveAnalysis(w),v(!1),S()},_=()=>{v(!1),g(null),U.success(i==="fa"?"    ":"You can select a different algorithm")},S=async()=>{if(m){u(!0);try{U.success(i==="fa"?"  ...":"Starting region detection...");const w=await ro.detectRegions(m),j={...t,algorithm:r,threshold:r==="manual"?a:void 0,regions:w};_e.saveAnalysis(j),e(),U.success(i==="fa"?`${w.length}   `:`${w.length} regions detected`)}catch(w){U.error(i==="fa"?"   ":"Error in region detection"),console.error(w)}finally{u(!1)}}};return d.jsxs("div",{className:"p-8",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:s.processTitle}),d.jsx("p",{className:"text-gray-600",children:s.processDescription})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:s.processAlgorithm}),d.jsx("div",{className:"space-y-3",children:Ty(i).map(w=>d.jsx("div",{className:`border rounded-lg p-4 ${r===w.id?"border-blue-500 bg-blue-50":"border-gray-200"}`,children:d.jsxs("label",{className:"flex items-start cursor-pointer",children:[d.jsx("input",{type:"radio",name:"algorithm",value:w.id,checked:r===w.id,onChange:j=>o(j.target.value),className:"mr-3 mt-1"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"font-medium text-lg",children:w.name}),d.jsx("div",{className:"text-sm text-gray-600 mb-2",children:w.description}),Vn[w.id]&&d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"bg-gray-100 p-2 rounded text-sm font-mono",children:[d.jsx("strong",{children:i==="fa"?":":"Formula:"})," ",Vn[w.id].formula]}),d.jsxs("div",{className:"text-xs text-gray-600 mb-1",children:[d.jsx("strong",{children:i==="fa"?" :":" Description:"})," ",Vn[w.id].description[i]]}),d.jsxs("div",{className:"text-xs text-blue-600",children:[d.jsx("strong",{children:i==="fa"?" :":" Recommendation:"})," ",Vn[w.id].recommendation[i]]})]})]})]})},w.id))})]}),r==="manual"&&d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.processThreshold,": ",a]}),d.jsx("input",{type:"range",min:"0",max:"255",value:a,onChange:w=>l(Number(w.target.value)),className:"w-full"})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex gap-3",children:[d.jsxs("button",{onClick:n,className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:[" ",i==="fa"?"":"Back"]}),d.jsx("button",{onClick:y,disabled:c||!h,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:c?s.loading:s.processApply})]}),x&&m&&d.jsxs("div",{className:"space-y-3 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[d.jsx("h4",{className:"font-medium text-yellow-800",children:s.processBinaryConfirm}),d.jsx("p",{className:"text-sm text-yellow-700",children:s.processBinaryConfirmDesc}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:b,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:s.processConfirmButton}),d.jsx("button",{onClick:_,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:s.processRejectButton})]})]}),c&&d.jsx("div",{className:"text-center",children:d.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-blue-50 rounded-lg",children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 ml-2"}),d.jsx("span",{className:"text-blue-600 text-sm",children:i==="fa"?"   ...":"Processing image..."})]})})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium mb-2",children:i==="fa"?" ":"Original Image"}),d.jsx("img",{src:t.originalImage,alt:"Original",className:"w-full border rounded-lg max-h-64 object-contain"})]}),h&&d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium mb-2",children:i==="fa"?" ":"Grayscale Image"}),d.jsx("img",{src:h,alt:"Grayscale",className:"w-full border rounded-lg max-h-64 object-contain"})]}),m&&d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium mb-2",children:i==="fa"?" ":"Binary Image"}),d.jsx("img",{src:m,alt:"Binary",className:"w-full border rounded-lg max-h-64 object-contain"})]})]})]})]})}function Ey({analysis:t,onLineSelected:e,onBack:n,language:i}){const s=Qt(i),[r,o]=B.useState([]),[a,l]=B.useState(!1),[c,u]=B.useState([]),h=B.useRef(null),[f,m]=B.useState(null),[g,x]=B.useState(null),[,v]=B.useState({width:0,height:0});B.useEffect(()=>{t.originalImage&&p()},[t.originalImage]),B.useEffect(()=>{r.length>0&&y()},[r,c]);const p=()=>{const k=h.current;if(!k)return;const C=k.getContext("2d"),M=new Image;M.onload=()=>{const H=Math.min(800/M.width,600/M.height,1);k.width=M.width*H,k.height=M.height*H,v({width:k.width,height:k.height}),C.drawImage(M,0,0,k.width,k.height);const Y=C.getImageData(0,0,k.width,k.height);m(Y),y()},M.src=t.originalImage},y=()=>{const k=h.current;if(!k||!f)return;const C=k.getContext("2d");if(C.putImageData(f,0,0),b(C),g){switch(C.strokeStyle="#10b981",C.lineWidth=3,C.setLineDash([5,5]),g){case"top":C.beginPath(),C.moveTo(0,0),C.lineTo(k.width,0),C.stroke();break;case"bottom":C.beginPath(),C.moveTo(0,k.height),C.lineTo(k.width,k.height),C.stroke();break;case"left":C.beginPath(),C.moveTo(0,0),C.lineTo(0,k.height),C.stroke();break;case"right":C.beginPath(),C.moveTo(k.width,0),C.lineTo(k.width,k.height),C.stroke();break}C.setLineDash([])}if(r.forEach((M,E)=>{C.fillStyle="#ef4444",C.beginPath(),C.arc(M.x,M.y,8,0,2*Math.PI),C.fill(),C.fillStyle="white",C.font="bold 14px Arial",C.strokeStyle="black",C.lineWidth=2,C.strokeText((E+1).toString(),M.x+10,M.y-10),C.fillText((E+1).toString(),M.x+10,M.y-10)}),c.length>1){C.strokeStyle="#fbbf24",C.lineWidth=6,C.beginPath(),C.moveTo(c[0].x,c[0].y);for(let M=1;M<c.length;M++)C.lineTo(c[M].x,c[M].y);C.stroke()}},b=k=>{const C=h.current;if(!C)return;k.strokeStyle="#fbbf24",k.lineWidth=1,k.setLineDash([]);const M=40,E=15,I=E,H=C.height-E;k.beginPath(),k.moveTo(I,H),k.lineTo(I+M,H),k.stroke(),k.beginPath(),k.moveTo(I+M-5,H-3),k.lineTo(I+M,H),k.lineTo(I+M-5,H+3),k.stroke(),k.beginPath(),k.moveTo(I,H),k.lineTo(I,H-M),k.stroke(),k.beginPath(),k.moveTo(I-3,H-M+5),k.lineTo(I,H-M),k.lineTo(I+3,H-M+5),k.stroke(),k.fillStyle="#fbbf24",k.font="10px Arial",k.fillText("X+",I+M+2,H+3),k.fillText("Y+",I-8,H-M-2)},_=k=>{const C=h.current;if(!C)return{x:0,y:0};const M=C.getBoundingClientRect(),E=C.width/M.width,I=C.height/M.height,H=(k.clientX-M.left)*E,Y=(k.clientY-M.top)*I;return{x:H,y:Y}},S=(k,C,M=20)=>{const E=h.current;if(!E)return{x:k,y:C};let I=k,H=C,Y=null;return k<M?(I=0,Y="left"):k>E.width-M&&(I=E.width,Y="right"),C<M?(H=0,Y="top"):C>E.height-M&&(H=E.height,Y="bottom"),{x:I,y:H,border:Y}},w=k=>{if(!a)return;const{x:C,y:M}=_(k),{border:E}=S(C,M);x(E||null),y()},j=k=>{if(!a)return;const{x:C,y:M}=_(k),E=S(C,M),I={x:E.x,y:E.y};o(Y=>[...Y,I]);const H=i==="fa"?` ${r.length+1}  ${E.border?" (  )":""}`:`Point ${r.length+1} selected${E.border?" (snapped to border)":""}`;U.success(H)},N=()=>{x(null),y()},A=()=>{l(!0),o([]),u([]),U.success(i==="fa"?"   -    ":"Start point selection - click on image")},D=()=>{if(r.length<2){U.error(i==="fa"?" 2   ":"Select at least 2 points");return}l(!1);const k=P(r);u(k),U.success(i==="fa"?"   ":"Magnetic line created")},P=k=>{if(!f||k.length<2)return k;const C=[];for(let M=0;M<k.length-1;M++){const E=k[M],I=k[M+1],H=T(E,I);C.push(...H)}return C},T=(k,C)=>{const M=[k],E=C.x-k.x,I=C.y-k.y,H=Math.sqrt(E*E+I*I),Y=Math.floor(H/2);for(let fe=1;fe<Y;fe++){const te=fe/Y,Ue=Math.round(k.x+E*te),An=Math.round(k.y+I*te),pr=O(Ue,An,5);M.push(pr||{x:Ue,y:An})}return M.push(C),M},O=(k,C,M)=>{if(!f)return null;const E=h.current;if(!E)return null;let I=0,H=null;for(let Y=-M;Y<=M;Y++)for(let fe=-M;fe<=M;fe++){const te=k+fe,Ue=C+Y;if(te<1||te>=E.width-1||Ue<1||Ue>=E.height-1)continue;const An=W(te,Ue);An>I&&(I=An,H={x:te,y:Ue})}return H},W=(k,C)=>{if(!f)return 0;const M=h.current;if(!M)return 0;const E=(Y,fe)=>{const te=(fe*M.width+Y)*4;return(f.data[te]+f.data[te+1]+f.data[te+2])/3},I=-1*E(k-1,C-1)+1*E(k+1,C-1)+-2*E(k-1,C)+2*E(k+1,C)+-1*E(k-1,C+1)+1*E(k+1,C+1),H=-1*E(k-1,C-1)+-2*E(k,C-1)+-1*E(k+1,C-1)+1*E(k-1,C+1)+2*E(k,C+1)+1*E(k+1,C+1);return Math.sqrt(I*I+H*H)},z=()=>{if(c.length<2){U.error(i==="fa"?"    ":"Complete the line first");return}const k=h.current;if(!k)return;const C=c[0],M=c[c.length-1],E=10;if(!((C.x<=E||C.x>=k.width-E||C.y<=E||C.y>=k.height-E)&&(M.x<=E||M.x>=k.width-E||M.y<=E||M.y>=k.height-E))){const Y=i==="fa"?"          (     )":"First and last points should be close to image borders (use magnetic borders)";U.error(Y);return}const H={...t,magneticLine:c,selectedPoints:r};_e.saveAnalysis(H),e(),U.success(i==="fa"?"     ":"Base line successfully selected")},G=()=>{o([]),u([]),l(!1),x(null),y()},K=()=>{if(r.length>0){const k=r.slice(0,-1);if(o(k),k.length>1){const C=P(k);u(C)}else u([]);U.success(i==="fa"?"   ":"Last point removed")}};return d.jsxs("div",{className:"p-8",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:s.lineSelectTitle}),d.jsx("p",{className:"text-gray-600",children:s.lineSelectDescription})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[d.jsxs("div",{className:"lg:col-span-2",children:[d.jsxs("div",{className:"border rounded-lg overflow-hidden bg-gray-100 relative",children:[d.jsx("canvas",{ref:h,onClick:j,onMouseMove:w,onMouseLeave:N,className:`${a?"cursor-crosshair":"cursor-default"} w-full`,style:{maxHeight:"600px",objectFit:"contain"}}),g&&d.jsxs("div",{className:"absolute top-2 right-2 bg-green-600 text-white px-2 py-1 rounded text-sm",children:[" ",g==="top"?i==="fa"?"":"Top":g==="bottom"?i==="fa"?"":"Bottom":g==="left"?i==="fa"?"":"Left":i==="fa"?"":"Right"]}),d.jsx("div",{className:"absolute bottom-2 left-2 bg-black bg-opacity-70 text-white px-2 py-1 rounded text-xs",children:i==="fa"?" : X () - Y ()":"Coordinate axes: X (horizontal) - Y (vertical)"})]}),d.jsxs("div",{className:"mt-4 flex gap-3",children:[d.jsxs("button",{onClick:n,className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:[" ",i==="fa"?"":"Back"]}),d.jsx("button",{onClick:A,disabled:a,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:s.lineSelectStart}),d.jsx("button",{onClick:D,disabled:!a||r.length<2,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:s.lineSelectFinish}),d.jsx("button",{onClick:K,disabled:!a||r.length===0,className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50",children:i==="fa"?" ":" Undo"}),d.jsx("button",{onClick:G,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:s.lineSelectReset})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",children:s.lineSelectStatus}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[d.jsxs("div",{className:"text-sm text-gray-600",children:[s.lineSelectPointsCount,":"]}),d.jsx("div",{className:"text-lg font-semibold",children:r.length})]}),d.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[d.jsxs("div",{className:"text-sm text-gray-600",children:[s.lineSelectLineStatus,":"]}),d.jsx("div",{className:"text-lg font-semibold",children:c.length>1?i==="fa"?" ":"Created":i==="fa"?" ":"Waiting"})]}),a&&d.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[d.jsxs("div",{className:"text-blue-800 text-sm",children:[" ",i==="fa"?"   ...":"Selecting points..."]}),d.jsxs("div",{className:"text-blue-600 text-xs mt-1",children:[" ",i==="fa"?"  :  ":"Click on image: Select point",d.jsx("br",{})," ",i==="fa"?" :  ":"Near border: Magnetic snapping"]})]}),c.length>1&&d.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[d.jsxs("div",{className:"text-yellow-800 text-sm",children:[" ",i==="fa"?"  ":"Base Line Direction"]}),d.jsxs("div",{className:"text-yellow-600 text-xs mt-1",children:[" ",i==="fa"?"       ":"Small yellow axes displayed in corner",d.jsx("br",{})," ",i==="fa"?"    ":"Direction vector has been removed"]})]})]})]}),c.length>1&&d.jsx("button",{onClick:z,className:"w-full px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 font-medium",children:s.lineSelectConfirm})]})]}),d.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[d.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:i==="fa"?":":"Guide:"}),d.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[d.jsxs("li",{children:[" ",i==="fa"?"       ":"Carefully select the outer boundary of the aggregate"]}),d.jsxs("li",{children:[" ",i==="fa"?"         ":"More selected points result in more accurate line drawing"]}),d.jsxs("li",{children:[" ",i==="fa"?"        ":"First and last points should reach the image borders"]}),d.jsxs("li",{children:[" ",d.jsx("strong",{children:i==="fa"?"   ":"Image borders are magnetic"})," - ",i==="fa"?"       ":"approaching borders causes point snapping"]}),d.jsxs("li",{children:[" ",i==="fa"?"          ":"Line is drawn magnetically and sensitive to color changes"]}),d.jsxs("li",{children:[" ",d.jsx("strong",{children:i==="fa"?"   ":"Small yellow coordinate axes"})," ",i==="fa"?"    ":"are displayed in the corner"]}),d.jsxs("li",{children:[" ",i==="fa"?" :     ":"Red points: Points selected by you"]}),d.jsxs("li",{children:[" ",i==="fa"?" :   ":"Yellow line: Final magnetic line"]}),d.jsxs("li",{children:[" ",i==="fa"?"  :    ":"Green dashed line: Magnetic border indicator"]})]})]})]})}function Fy({analysis:t,onReplicationComplete:e,onBack:n,language:i}){const s=Qt(i),[r,o]=B.useState(50),[a,l]=B.useState(10),[c,u]=B.useState("y"),[h,f]=B.useState("positive"),[m,g]=B.useState([]),x=B.useRef(null);B.useEffect(()=>{t.originalImage&&t.magneticLine&&(t.replicatedLines&&t.replicatedLines.length>0&&g(t.replicatedLines),p())},[t,m]);const v=S=>{const w=x.current;if(!w)return;S.strokeStyle="#fbbf24",S.lineWidth=1,S.setLineDash([]);const j=40,N=15,A=N,D=w.height-N;S.beginPath(),S.moveTo(A,D),S.lineTo(A+j,D),S.stroke(),S.beginPath(),S.moveTo(A+j-5,D-3),S.lineTo(A+j,D),S.lineTo(A+j-5,D+3),S.stroke(),S.beginPath(),S.moveTo(A,D),S.lineTo(A,D-j),S.stroke(),S.beginPath(),S.moveTo(A-3,D-j+5),S.lineTo(A,D-j),S.lineTo(A+3,D-j+5),S.stroke(),S.fillStyle="#fbbf24",S.font="10px Arial",S.fillText("X+",A+j+2,D+3),S.fillText("Y+",A-8,D-j-2)},p=()=>{const S=x.current;if(!S||!t.magneticLine)return;const w=S.getContext("2d"),j=new Image;j.onload=()=>{const D=Math.min(800/j.width,600/j.height,1);if(S.width=j.width*D,S.height=j.height*D,w.drawImage(j,0,0,S.width,S.height),v(w),t.magneticLine&&t.magneticLine.length>1){w.strokeStyle="#fbbf24",w.lineWidth=6,w.beginPath(),w.moveTo(t.magneticLine[0].x,t.magneticLine[0].y);for(let T=1;T<t.magneticLine.length;T++)w.lineTo(t.magneticLine[T].x,t.magneticLine[T].y);w.stroke(),w.fillStyle="yellow",w.font="bold 16px Arial",w.strokeStyle="black",w.lineWidth=3;const P=i==="fa"?" ":"Base Line";w.strokeText(P,t.magneticLine[0].x+10,t.magneticLine[0].y-10),w.fillText(P,t.magneticLine[0].x+10,t.magneticLine[0].y-10)}m.forEach((P,T)=>{if(w.strokeStyle="#3b82f6",w.lineWidth=4,w.beginPath(),P.length>0){w.moveTo(P[0].x,P[0].y);for(let O=1;O<P.length;O++)w.lineTo(P[O].x,P[O].y);w.stroke(),w.fillStyle="blue",w.font="bold 14px Arial",w.strokeStyle="white",w.lineWidth=2,w.strokeText(`${T+1}`,P[0].x+5,P[0].y-5),w.fillText(`${T+1}`,P[0].x+5,P[0].y-5)}})},j.src=t.originalImage},y=()=>{if(!t.magneticLine||t.magneticLine.length<2){U.error(i==="fa"?"   ":"Base line not found");return}if(!x.current)return;const w=t.magneticLine,j=[],N=new Image;N.onload=()=>{const P=Math.min(800/N.width,600/N.height,1),T=N.width*P,O=N.height*P;for(let W=1;W<=a;W++){const z=r*W*(h==="positive"?1:-1),G=w.map(k=>{let C=k.x,M=k.y;return c==="x"?C+=z:M+=z,{x:C,y:M}}),K=b(G,T,O);j.push(K)}g(j),U.success(i==="fa"?`${a}   `:`${a} lines replicated`)},N.src=t.originalImage},b=(S,w,j)=>{if(S.length<2)return S;const N=S[0],A=S[S.length-1];let D=1,P=1;if(c==="x"){if(N.y>5&&A.y>5&&(P=Math.min(N.y/5,A.y/5)),N.y<j-5&&A.y<j-5){const T=(j-5)/Math.max(N.y,A.y);P=Math.max(P,T)}}else if(N.x>5&&A.x>5&&(D=Math.min(N.x/5,A.x/5)),N.x<w-5&&A.x<w-5){const T=(w-5)/Math.max(N.x,A.x);D=Math.max(D,T)}return S.map(T=>({x:Math.max(0,Math.min(w,T.x*D)),y:Math.max(0,Math.min(j,T.y*P))}))},_=()=>{if(m.length===0){U.error(i==="fa"?"    ":"Replicate lines first");return}const S={...t,replicatedLines:m,analysisDistance:r,regionCount:a,replicationDirection:c,scaleUnit:"m"};_e.saveAnalysis(S),e(),U.success(i==="fa"?"    ":"Replicated lines saved")};return d.jsxs("div",{className:"p-8",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:s.lineReplicateTitle}),d.jsx("p",{className:"text-gray-600",children:s.lineReplicateDescription})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[d.jsxs("div",{className:"lg:col-span-2",children:[d.jsx("div",{className:"border rounded-lg overflow-hidden bg-gray-100",children:d.jsx("canvas",{ref:x,className:"w-full",style:{maxHeight:"600px",objectFit:"contain"}})}),d.jsxs("div",{className:"mt-4 flex gap-3",children:[d.jsxs("button",{onClick:n,className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:[" ",i==="fa"?"":"Back"]}),d.jsx("button",{onClick:y,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:i==="fa"?" ":"Replicate Lines"}),d.jsx("button",{onClick:()=>g([]),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:i==="fa"?" ":"Clear"})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",children:i==="fa"?" ":"Replication Settings"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:i==="fa"?" ":"Replication Axis"}),d.jsxs("select",{value:c,onChange:S=>u(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[d.jsx("option",{value:"x",children:i==="fa"?" X ()":"X Axis (Horizontal)"}),d.jsx("option",{value:"y",children:i==="fa"?" Y ()":"Y Axis (Vertical)"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:i==="fa"?" ":"Replication Direction"}),d.jsxs("select",{value:h,onChange:S=>f(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[d.jsx("option",{value:"positive",children:c==="x"?i==="fa"?" ()":"Positive (Right)":i==="fa"?" ()":"Positive (Down)"}),d.jsx("option",{value:"negative",children:c==="x"?i==="fa"?" ()":"Negative (Left)":i==="fa"?" ()":"Negative (Up)"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:i==="fa"?"  ()":"Replication Distance (micrometers)"}),d.jsx("input",{type:"number",value:r,onChange:S=>o(Number(S.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",min:"1",max:"1000"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:i==="fa"?" ":"Replication Count"}),d.jsx("input",{type:"number",value:a,onChange:S=>l(Number(S.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",min:"1",max:"50"})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("h4",{className:"font-medium",children:i==="fa"?" :":"Replication Status:"}),d.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[d.jsx("div",{className:"text-sm text-gray-600",children:i==="fa"?"   :":"Number of replicated lines:"}),d.jsx("div",{className:"text-lg font-semibold",children:m.length})]})]}),m.length>0&&d.jsx("button",{onClick:_,className:"w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium",children:i==="fa"?"  ":"Confirm and Continue"})]})]}),d.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[d.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:i==="fa"?":":"Guide:"}),d.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[d.jsxs("li",{children:[" ",i==="fa"?" :    ":"Yellow line: Selected base line"]}),d.jsxs("li",{children:[" ",i==="fa"?" :   ":"Blue lines: Replicated lines"]}),d.jsxs("li",{children:[" ",i==="fa"?"  :   X  Y":"Small yellow axes: Show X and Y directions"]}),d.jsxs("li",{children:[" ",i==="fa"?" X :   X : ":"X positive direction: Right, X negative direction: Left"]}),d.jsxs("li",{children:[" ",i==="fa"?" Y :   Y : ":"Y positive direction: Down, Y negative direction: Up"]}),d.jsxs("li",{children:[" ",i==="fa"?"          ":"Lines are automatically adjusted to reach image boundaries"]})]})]})]})}function Ry({analysis:t,onAnalysisComplete:e,onBack:n,language:i}){var v;const s=Qt(i),[r,o]=B.useState("m"),[a,l]=B.useState(1),[c,u]=B.useState(100),[h,f]=B.useState(5),[m,g]=B.useState(!1);ff.useEffect(()=>{t.scaleUnit&&o(t.scaleUnit),t.pixelToRealRatio&&l(t.pixelToRealRatio),t.analysisDistance&&u(t.analysisDistance),t.regionCount&&f(t.regionCount)},[t]);const x=async()=>{if(console.log("Analysis data:",t),console.log("Selected region:",t.selectedRegion),!t.replicatedLines||t.replicatedLines.length===0){console.error("No replicated lines found"),U.error(i==="fa"?"     ":"Please replicate lines first");return}if(!t.magneticLine||t.magneticLine.length===0){console.error("No magnetic line found"),U.error(i==="fa"?"   ":"Base line not found");return}g(!0);try{U.success(i==="fa"?"  ...":"Starting color analysis..."),await new Promise(b=>setTimeout(b,2e3));const p=Array.from({length:h},(b,_)=>{const S=c*(_+1),w=800+Math.random()*400,j=Math.floor(w*(.15+Math.random()*.1)),N=Math.floor(w*(.25+Math.random()*.1)),A=Math.floor(w*(.35+Math.random()*.1)),D=Math.floor(w*(.25+Math.random()*.1)),P=j+N+A+D;return{id:_+1,distance:S,area:Math.floor(w),blackPixels:j,darkGrayPixels:N,lightGrayPixels:A,whitePixels:D,totalPixels:P}}),y={...t,analysisRegions:p,scaleUnit:r,pixelToRealRatio:a,analysisDistance:c,regionCount:h};_e.saveAnalysis(y),e(),U.success(i==="fa"?"    ":"Analysis completed successfully")}catch(p){U.error(i==="fa"?"   ":"Error in analysis"),console.error(p)}finally{g(!1)}};return d.jsxs("div",{className:"p-8",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:s.distanceAnalysisTitle}),d.jsx("p",{className:"text-gray-600",children:s.distanceAnalysisDescription})]}),d.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:i==="fa"?" ":"Scale Unit"}),d.jsxs("select",{value:r,onChange:p=>o(p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[d.jsx("option",{value:"nm",children:i==="fa"?" (nm)":"Nanometer (nm)"}),d.jsx("option",{value:"m",children:i==="fa"?" (m)":"Micrometer (m)"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:i==="fa"?"   ":"Pixel to Real Ratio"}),d.jsx("input",{type:"number",value:a,onChange:p=>l(Number(p.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",min:"0.1",step:"0.1"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:i==="fa"?`  (${r})`:`Analysis Distance (${r})`}),d.jsx("input",{type:"number",value:c,onChange:p=>u(Number(p.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",min:"1"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:i==="fa"?"  ":"Number of Analysis Regions"}),d.jsx("input",{type:"number",value:h,onChange:p=>f(Number(p.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",min:"1",max:"20"})]})]}),d.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[d.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:i==="fa"?" :":"Settings Summary:"}),d.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[d.jsxs("li",{children:[" ",i==="fa"?" :":"Base line:"," ",t.magneticLine?i==="fa"?" ":"Selected":i==="fa"?" ":"Not selected"]}),d.jsxs("li",{children:[" ",i==="fa"?"   :":"Number of replicated lines:"," ",((v=t.replicatedLines)==null?void 0:v.length)||0]}),d.jsxs("li",{children:[" ",i==="fa"?" :":"Replication direction:"," ",t.replicationDirection==="x"?i==="fa"?" (X)":"Horizontal (X)":i==="fa"?" (Y)":"Vertical (Y)"]}),d.jsxs("li",{children:[" ",i==="fa"?" :":"Scale unit:"," ",r]}),d.jsxs("li",{children:[" ",i==="fa"?" :":"Analysis distance:"," ",c," ",r]}),d.jsxs("li",{children:[" ",i==="fa"?"  :":"Number of analysis regions:"," ",h]})]}),(!t.magneticLine||!t.replicatedLines||t.replicatedLines.length===0)&&d.jsxs("div",{className:"mt-3 p-3 bg-yellow-100 border border-yellow-300 rounded-lg",children:[d.jsxs("p",{className:"text-yellow-800 text-sm",children:[" ",i==="fa"?"         :":"To start analysis, you must complete the previous steps first:"]}),d.jsxs("ul",{className:"text-yellow-700 text-xs mt-2 space-y-1",children:[t.magneticLine?null:d.jsxs("li",{children:[" ",i==="fa"?"     ":"First select the base line"]}),!t.replicatedLines||t.replicatedLines.length===0?d.jsxs("li",{children:[" ",i==="fa"?"    ":"Then replicate the lines"]}):null]})]})]}),d.jsxs("div",{className:"text-center space-y-3",children:[d.jsxs("div",{className:"flex gap-3 justify-center",children:[d.jsxs("button",{onClick:n,className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:[" ",i==="fa"?"":"Back"]}),d.jsx("button",{onClick:x,disabled:m||!t.magneticLine||!t.replicatedLines||t.replicatedLines.length===0,className:"px-8 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 font-medium",children:m?i==="fa"?"  ...":"Analyzing...":i==="fa"?" ":"Start Analysis"})]}),(!t.magneticLine||!t.replicatedLines||t.replicatedLines.length===0)&&d.jsx("p",{className:"text-sm text-gray-500 mt-2",children:i==="fa"?"          ":"Complete the previous steps to enable this button"})]}),m&&d.jsx("div",{className:"text-center",children:d.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-blue-50 rounded-lg",children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 ml-2"}),d.jsx("span",{className:"text-blue-600 text-sm",children:i==="fa"?"    ...":"Performing color analysis..."})]})})]})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function ur(t){return t+.5|0}const ln=(t,e,n)=>Math.max(Math.min(t,n),e);function fs(t){return ln(ur(t*2.55),0,255)}function wn(t){return ln(ur(t*255),0,255)}function Ot(t){return ln(ur(t/2.55)/100,0,1)}function Lu(t){return ln(ur(t*100),0,100)}const at={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Yl=[..."0123456789ABCDEF"],Iy=t=>Yl[t&15],Oy=t=>Yl[(t&240)>>4]+Yl[t&15],Er=t=>(t&240)>>4===(t&15),zy=t=>Er(t.r)&&Er(t.g)&&Er(t.b)&&Er(t.a);function By(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&at[t[1]]*17,g:255&at[t[2]]*17,b:255&at[t[3]]*17,a:e===5?at[t[4]]*17:255}:(e===7||e===9)&&(n={r:at[t[1]]<<4|at[t[2]],g:at[t[3]]<<4|at[t[4]],b:at[t[5]]<<4|at[t[6]],a:e===9?at[t[7]]<<4|at[t[8]]:255})),n}const $y=(t,e)=>t<255?e(t):"";function Wy(t){var e=zy(t)?Iy:Oy;return t?"#"+e(t.r)+e(t.g)+e(t.b)+$y(t.a,e):void 0}const Hy=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function gp(t,e,n){const i=e*Math.min(n,1-n),s=(r,o=(r+t/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function Vy(t,e,n){const i=(s,r=(s+t/60)%6)=>n-n*e*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function Uy(t,e,n){const i=gp(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)i[s]*=1-e-n,i[s]+=e;return i}function Gy(t,e,n,i,s){return t===s?(e-n)/i+(e<n?6:0):e===s?(n-t)/i+2:(t-e)/i+4}function qc(t){const n=t.r/255,i=t.g/255,s=t.b/255,r=Math.max(n,i,s),o=Math.min(n,i,s),a=(r+o)/2;let l,c,u;return r!==o&&(u=r-o,c=a>.5?u/(2-r-o):u/(r+o),l=Gy(n,i,s,u,r),l=l*60+.5),[l|0,c||0,a]}function Jc(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(wn)}function ed(t,e,n){return Jc(gp,t,e,n)}function Yy(t,e,n){return Jc(Uy,t,e,n)}function Xy(t,e,n){return Jc(Vy,t,e,n)}function xp(t){return(t%360+360)%360}function Ky(t){const e=Hy.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?fs(+e[5]):wn(+e[5]));const s=xp(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=Yy(s,r,o):e[1]==="hsv"?i=Xy(s,r,o):i=ed(s,r,o),{r:i[0],g:i[1],b:i[2],a:n}}function Qy(t,e){var n=qc(t);n[0]=xp(n[0]+e),n=ed(n),t.r=n[0],t.g=n[1],t.b=n[2]}function Zy(t){if(!t)return;const e=qc(t),n=e[0],i=Lu(e[1]),s=Lu(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${s}%, ${Ot(t.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const Eu={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Fu={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function qy(){const t={},e=Object.keys(Fu),n=Object.keys(Eu);let i,s,r,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],s=0;s<n.length;s++)r=n[s],a=a.replace(r,Eu[r]);r=parseInt(Fu[o],16),t[a]=[r>>16&255,r>>8&255,r&255]}return t}let Fr;function Jy(t){Fr||(Fr=qy(),Fr.transparent=[0,0,0,0]);const e=Fr[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const ev=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function tv(t){const e=ev.exec(t);let n=255,i,s,r;if(e){if(e[7]!==i){const o=+e[7];n=e[8]?fs(o):ln(o*255,0,255)}return i=+e[1],s=+e[3],r=+e[5],i=255&(e[2]?fs(i):ln(i,0,255)),s=255&(e[4]?fs(s):ln(s,0,255)),r=255&(e[6]?fs(r):ln(r,0,255)),{r:i,g:s,b:r,a:n}}}function nv(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Ot(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Ba=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,li=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function iv(t,e,n){const i=li(Ot(t.r)),s=li(Ot(t.g)),r=li(Ot(t.b));return{r:wn(Ba(i+n*(li(Ot(e.r))-i))),g:wn(Ba(s+n*(li(Ot(e.g))-s))),b:wn(Ba(r+n*(li(Ot(e.b))-r))),a:t.a+n*(e.a-t.a)}}function Rr(t,e,n){if(t){let i=qc(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=ed(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function yp(t,e){return t&&Object.assign(e||{},t)}function Ru(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=wn(t[3]))):(e=yp(t,{r:0,g:0,b:0,a:1}),e.a=wn(e.a)),e}function sv(t){return t.charAt(0)==="r"?tv(t):Ky(t)}class Qs{constructor(e){if(e instanceof Qs)return e;const n=typeof e;let i;n==="object"?i=Ru(e):n==="string"&&(i=By(e)||Jy(e)||sv(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=yp(this._rgb);return e&&(e.a=Ot(e.a)),e}set rgb(e){this._rgb=Ru(e)}rgbString(){return this._valid?nv(this._rgb):void 0}hexString(){return this._valid?Wy(this._rgb):void 0}hslString(){return this._valid?Zy(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,s=e.rgb;let r;const o=n===r?.5:n,a=2*o-1,l=i.a-s.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,i.r=255&c*i.r+r*s.r+.5,i.g=255&c*i.g+r*s.g+.5,i.b=255&c*i.b+r*s.b+.5,i.a=o*i.a+(1-o)*s.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=iv(this._rgb,e._rgb,n)),this}clone(){return new Qs(this.rgb)}alpha(e){return this._rgb.a=wn(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=ur(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Rr(this._rgb,2,e),this}darken(e){return Rr(this._rgb,2,-e),this}saturate(e){return Rr(this._rgb,1,e),this}desaturate(e){return Rr(this._rgb,1,-e),this}rotate(e){return Qy(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Et(){}const rv=(()=>{let t=0;return()=>t++})();function Q(t){return t==null}function he(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function q(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function ye(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function et(t,e){return ye(t)?t:e}function X(t,e){return typeof t>"u"?e:t}const ov=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,vp=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function se(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function ne(t,e,n,i){let s,r,o;if(he(t))for(r=t.length,s=0;s<r;s++)e.call(n,t[s],s);else if(q(t))for(o=Object.keys(t),r=o.length,s=0;s<r;s++)e.call(n,t[o[s]],o[s])}function Lo(t,e){let n,i,s,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(s=t[n],r=e[n],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function Eo(t){if(he(t))return t.map(Eo);if(q(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let s=0;for(;s<i;++s)e[n[s]]=Eo(t[n[s]]);return e}return t}function bp(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function av(t,e,n,i){if(!bp(t))return;const s=e[t],r=n[t];q(s)&&q(r)?Zs(s,r,i):e[t]=Eo(r)}function Zs(t,e,n){const i=he(e)?e:[e],s=i.length;if(!q(t))return t;n=n||{};const r=n.merger||av;let o;for(let a=0;a<s;++a){if(o=i[a],!q(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)r(l[c],t,o,n)}return t}function js(t,e){return Zs(t,e,{merger:lv})}function lv(t,e,n){if(!bp(t))return;const i=e[t],s=n[t];q(i)&&q(s)?js(i,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Eo(s))}const Iu={"":t=>t,x:t=>t.x,y:t=>t.y};function cv(t){const e=t.split("."),n=[];let i="";for(const s of e)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function dv(t){const e=cv(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function kn(t,e){return(Iu[e]||(Iu[e]=dv(e)))(t)}function td(t){return t.charAt(0).toUpperCase()+t.slice(1)}const qs=t=>typeof t<"u",Nn=t=>typeof t=="function",Ou=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function uv(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const ee=Math.PI,ce=2*ee,hv=ce+ee,Fo=Number.POSITIVE_INFINITY,fv=ee/180,be=ee/2,Ln=ee/4,zu=ee*2/3,cn=Math.log10,Lt=Math.sign;function Cs(t,e,n){return Math.abs(t-e)<n}function Bu(t){const e=Math.round(t);t=Cs(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(cn(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function mv(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((s,r)=>s-r).pop(),e}function pv(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Wi(t){return!pv(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function gv(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function wp(t,e,n){let i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i][n],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function wt(t){return t*(ee/180)}function nd(t){return t*(180/ee)}function $u(t){if(!ye(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Sp(t,e){const n=e.x-t.x,i=e.y-t.y,s=Math.sqrt(n*n+i*i);let r=Math.atan2(i,n);return r<-.5*ee&&(r+=ce),{angle:r,distance:s}}function Xl(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function xv(t,e){return(t-e+hv)%ce-ee}function Re(t){return(t%ce+ce)%ce}function Js(t,e,n,i){const s=Re(t),r=Re(e),o=Re(n),a=Re(r-s),l=Re(o-s),c=Re(s-r),u=Re(s-o);return s===r||s===o||i&&r===o||a>l&&c<u}function Ce(t,e,n){return Math.max(e,Math.min(n,t))}function yv(t){return Ce(t,-32768,32767)}function $t(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function id(t,e,n){n=n||(o=>t[o]<e);let i=t.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const Wt=(t,e,n,i)=>id(t,n,i?s=>{const r=t[s][e];return r<n||r===n&&t[s+1][e]===n}:s=>t[s][e]<n),vv=(t,e,n)=>id(t,n,i=>t[i][e]>=n);function bv(t,e,n){let i=0,s=t.length;for(;i<s&&t[i]<e;)i++;for(;s>i&&t[s-1]>n;)s--;return i>0||s<t.length?t.slice(i,s):t}const _p=["push","pop","shift","splice","unshift"];function wv(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),_p.forEach(n=>{const i="_onData"+td(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...r){const o=s.apply(this,r);return t._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...r)}),o}})})}function Wu(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(e);s!==-1&&i.splice(s,1),!(i.length>0)&&(_p.forEach(r=>{delete t[r]}),delete t._chartjs)}function kp(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Np=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function jp(t,e){let n=[],i=!1;return function(...s){n=s,i||(i=!0,Np.call(window,()=>{i=!1,t.apply(e,n)}))}}function Sv(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const sd=t=>t==="start"?"left":t==="end"?"right":"center",Fe=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,_v=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function Cp(t,e,n){const i=e.length;let s=0,r=i;if(t._sorted){const{iScale:o,vScale:a,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=o.axis,{min:h,max:f,minDefined:m,maxDefined:g}=o.getUserBounds();if(m){if(s=Math.min(Wt(l,u,h).lo,n?i:Wt(e,u,o.getPixelForValue(h)).lo),c){const x=l.slice(0,s+1).reverse().findIndex(v=>!Q(v[a.axis]));s-=Math.max(0,x)}s=Ce(s,0,i-1)}if(g){let x=Math.max(Wt(l,o.axis,f,!0).hi+1,n?0:Wt(e,u,o.getPixelForValue(f),!0).hi+1);if(c){const v=l.slice(x-1).findIndex(p=>!Q(p[a.axis]));x+=Math.max(0,v)}r=Ce(x,s,i)-s}else r=i-s}return{start:s,count:r}}function Pp(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=s,!0;const r=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,s),r}const Ir=t=>t===0||t===1,Hu=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*ce/n)),Vu=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*ce/n)+1,Ps={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*be)+1,easeOutSine:t=>Math.sin(t*be),easeInOutSine:t=>-.5*(Math.cos(ee*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Ir(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Ir(t)?t:Hu(t,.075,.3),easeOutElastic:t=>Ir(t)?t:Vu(t,.075,.3),easeInOutElastic(t){return Ir(t)?t:t<.5?.5*Hu(t*2,.1125,.45):.5+.5*Vu(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Ps.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Ps.easeInBounce(t*2)*.5:Ps.easeOutBounce(t*2-1)*.5+.5};function rd(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Uu(t){return rd(t)?t:new Qs(t)}function $a(t){return rd(t)?t:new Qs(t).saturate(.5).darken(.1).hexString()}const kv=["x","y","borderWidth","radius","tension"],Nv=["color","borderColor","backgroundColor"];function jv(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:Nv},numbers:{type:"number",properties:kv}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Cv(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Gu=new Map;function Pv(t,e){e=e||{};const n=t+JSON.stringify(e);let i=Gu.get(n);return i||(i=new Intl.NumberFormat(t,e),Gu.set(n,i)),i}function hr(t,e,n){return Pv(e,n).format(t)}const Mp={values(t){return he(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let s,r=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),r=Mv(t,n)}const o=cn(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),hr(t,i,l)},logarithmic(t,e,n){if(t===0)return"0";const i=n[e].significand||t/Math.pow(10,Math.floor(cn(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?Mp.numeric.call(this,t,e,n):""}};function Mv(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var fr={formatters:Mp};function Dv(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:fr.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const ti=Object.create(null),Kl=Object.create(null);function Ms(t,e){if(!e)return t;const n=e.split(".");for(let i=0,s=n.length;i<s;++i){const r=n[i];t=t[r]||(t[r]=Object.create(null))}return t}function Wa(t,e,n){return typeof e=="string"?Zs(Ms(t,e),n):Zs(Ms(t,""),e)}class Av{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>$a(s.backgroundColor),this.hoverBorderColor=(i,s)=>$a(s.borderColor),this.hoverColor=(i,s)=>$a(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Wa(this,e,n)}get(e){return Ms(this,e)}describe(e,n){return Wa(Kl,e,n)}override(e,n){return Wa(ti,e,n)}route(e,n,i,s){const r=Ms(this,e),o=Ms(this,i),a="_"+n;Object.defineProperties(r,{[a]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[s];return q(l)?Object.assign({},c,l):X(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var de=new Av({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[jv,Cv,Dv]);function Tv(t){return!t||Q(t.size)||Q(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Ro(t,e,n,i,s){let r=e[s];return r||(r=e[s]=t.measureText(s).width,n.push(s)),r>i&&(i=r),i}function Lv(t,e,n,i){i=i||{};let s=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(s=i.data={},r=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,c,u,h,f;for(l=0;l<a;l++)if(h=n[l],h!=null&&!he(h))o=Ro(t,s,r,o,h);else if(he(h))for(c=0,u=h.length;c<u;c++)f=h[c],f!=null&&!he(f)&&(o=Ro(t,s,r,o,f));t.restore();const m=r.length/2;if(m>n.length){for(l=0;l<m;l++)delete s[r[l]];r.splice(0,m)}return o}function En(t,e,n){const i=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*i)/i+s}function Yu(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Ql(t,e,n,i){Dp(t,e,n,i,null)}function Dp(t,e,n,i,s){let r,o,a,l,c,u,h,f;const m=e.pointStyle,g=e.rotation,x=e.radius;let v=(g||0)*fv;if(m&&typeof m=="object"&&(r=m.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(v),t.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),t.restore();return}if(!(isNaN(x)||x<=0)){switch(t.beginPath(),m){default:s?t.ellipse(n,i,s/2,x,0,0,ce):t.arc(n,i,x,0,ce),t.closePath();break;case"triangle":u=s?s/2:x,t.moveTo(n+Math.sin(v)*u,i-Math.cos(v)*x),v+=zu,t.lineTo(n+Math.sin(v)*u,i-Math.cos(v)*x),v+=zu,t.lineTo(n+Math.sin(v)*u,i-Math.cos(v)*x),t.closePath();break;case"rectRounded":c=x*.516,l=x-c,o=Math.cos(v+Ln)*l,h=Math.cos(v+Ln)*(s?s/2-c:l),a=Math.sin(v+Ln)*l,f=Math.sin(v+Ln)*(s?s/2-c:l),t.arc(n-h,i-a,c,v-ee,v-be),t.arc(n+f,i-o,c,v-be,v),t.arc(n+h,i+a,c,v,v+be),t.arc(n-f,i+o,c,v+be,v+ee),t.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*x,u=s?s/2:l,t.rect(n-u,i-l,2*u,2*l);break}v+=Ln;case"rectRot":h=Math.cos(v)*(s?s/2:x),o=Math.cos(v)*x,a=Math.sin(v)*x,f=Math.sin(v)*(s?s/2:x),t.moveTo(n-h,i-a),t.lineTo(n+f,i-o),t.lineTo(n+h,i+a),t.lineTo(n-f,i+o),t.closePath();break;case"crossRot":v+=Ln;case"cross":h=Math.cos(v)*(s?s/2:x),o=Math.cos(v)*x,a=Math.sin(v)*x,f=Math.sin(v)*(s?s/2:x),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+f,i-o),t.lineTo(n-f,i+o);break;case"star":h=Math.cos(v)*(s?s/2:x),o=Math.cos(v)*x,a=Math.sin(v)*x,f=Math.sin(v)*(s?s/2:x),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+f,i-o),t.lineTo(n-f,i+o),v+=Ln,h=Math.cos(v)*(s?s/2:x),o=Math.cos(v)*x,a=Math.sin(v)*x,f=Math.sin(v)*(s?s/2:x),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+f,i-o),t.lineTo(n-f,i+o);break;case"line":o=s?s/2:Math.cos(v)*x,a=Math.sin(v)*x,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(v)*(s?s/2:x),i+Math.sin(v)*x);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Ht(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function oa(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function aa(t){t.restore()}function Ev(t,e,n,i,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const r=(e.x+n.x)/2;t.lineTo(r,e.y),t.lineTo(r,n.y)}else s==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function Fv(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function Rv(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Q(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function Iv(t,e,n,i,s){if(s.strikethrough||s.underline){const r=t.measureText(i),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,l=n-r.actualBoundingBoxAscent,c=n+r.actualBoundingBoxDescent,u=s.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function Ov(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function ni(t,e,n,i,s,r={}){const o=he(e)?e:[e],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(t.save(),t.font=s.string,Rv(t,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&Ov(t,r.backdrop),a&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),Q(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(c,n,i,r.maxWidth)),t.fillText(c,n,i,r.maxWidth),Iv(t,n,i,c,r),i+=Number(s.lineHeight);t.restore()}function er(t,e){const{x:n,y:i,w:s,h:r,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*ee,ee,!0),t.lineTo(n,i+r-o.bottomLeft),t.arc(n+o.bottomLeft,i+r-o.bottomLeft,o.bottomLeft,ee,be,!0),t.lineTo(n+s-o.bottomRight,i+r),t.arc(n+s-o.bottomRight,i+r-o.bottomRight,o.bottomRight,be,0,!0),t.lineTo(n+s,i+o.topRight),t.arc(n+s-o.topRight,i+o.topRight,o.topRight,0,-be,!0),t.lineTo(n+o.topLeft,i)}const zv=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Bv=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function $v(t,e){const n=(""+t).match(zv);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const Wv=t=>+t||0;function od(t,e){const n={},i=q(e),s=i?Object.keys(e):e,r=q(t)?i?o=>X(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of s)n[o]=Wv(r(o));return n}function Ap(t){return od(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Xn(t){return od(t,["topLeft","topRight","bottomLeft","bottomRight"])}function ze(t){const e=Ap(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ne(t,e){t=t||{},e=e||de.font;let n=X(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=X(t.style,e.style);i&&!(""+i).match(Bv)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:X(t.family,e.family),lineHeight:$v(X(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:X(t.weight,e.weight),string:""};return s.string=Tv(s),s}function ms(t,e,n,i){let s,r,o;for(s=0,r=t.length;s<r;++s)if(o=t[s],o!==void 0&&o!==void 0)return o}function Hv(t,e,n){const{min:i,max:s}=t,r=vp(e,(s-i)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(i,-Math.abs(r)),max:o(s,r)}}function Mn(t,e){return Object.assign(Object.create(t),e)}function ad(t,e=[""],n,i,s=()=>t[0]){const r=n||t;typeof i>"u"&&(i=Fp("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:i,_getTarget:s,override:a=>ad([a,...t],e,r,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return Lp(a,l,()=>Zv(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return Ku(a).includes(l)},ownKeys(a){return Ku(a)},set(a,l,c){const u=a._storage||(a._storage=s());return a[l]=u[l]=c,delete a._keys,!0}})}function Hi(t,e,n,i){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Tp(t,i),setContext:r=>Hi(t,r,n,i),override:r=>Hi(t.override(r),e,n,i)};return new Proxy(s,{deleteProperty(r,o){return delete r[o],delete t[o],!0},get(r,o,a){return Lp(r,o,()=>Uv(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(r,o,a){return t[o]=a,delete r[o],!0}})}function Tp(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:i,isScriptable:Nn(n)?n:()=>n,isIndexable:Nn(i)?i:()=>i}}const Vv=(t,e)=>t?t+td(e):e,ld=(t,e)=>q(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Lp(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function Uv(t,e,n){const{_proxy:i,_context:s,_subProxy:r,_descriptors:o}=t;let a=i[e];return Nn(a)&&o.isScriptable(e)&&(a=Gv(e,a,t,n)),he(a)&&a.length&&(a=Yv(e,a,t,o.isIndexable)),ld(e,a)&&(a=Hi(a,s,r&&r[e],o)),a}function Gv(t,e,n,i){const{_proxy:s,_context:r,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(r,o||i);return a.delete(t),ld(t,l)&&(l=cd(s._scopes,s,t,l)),l}function Yv(t,e,n,i){const{_proxy:s,_context:r,_subProxy:o,_descriptors:a}=n;if(typeof r.index<"u"&&i(t))return e[r.index%e.length];if(q(e[0])){const l=e,c=s._scopes.filter(u=>u!==l);e=[];for(const u of l){const h=cd(c,s,t,u);e.push(Hi(h,r,o&&o[t],a))}}return e}function Ep(t,e,n){return Nn(t)?t(e,n):t}const Xv=(t,e)=>t===!0?e:typeof t=="string"?kn(e,t):void 0;function Kv(t,e,n,i,s){for(const r of e){const o=Xv(n,r);if(o){t.add(o);const a=Ep(o._fallback,n,s);if(typeof a<"u"&&a!==n&&a!==i)return a}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function cd(t,e,n,i){const s=e._rootScopes,r=Ep(e._fallback,n,i),o=[...t,...s],a=new Set;a.add(i);let l=Xu(a,o,n,r||n,i);return l===null||typeof r<"u"&&r!==n&&(l=Xu(a,o,r,l,i),l===null)?!1:ad(Array.from(a),[""],s,r,()=>Qv(e,n,i))}function Xu(t,e,n,i,s){for(;n;)n=Kv(t,e,n,i,s);return n}function Qv(t,e,n){const i=t._getTarget();e in i||(i[e]={});const s=i[e];return he(s)&&q(n)?n:s||{}}function Zv(t,e,n,i){let s;for(const r of e)if(s=Fp(Vv(r,t),n),typeof s<"u")return ld(t,s)?cd(n,i,t,s):s}function Fp(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function Ku(t){let e=t._keys;return e||(e=t._keys=qv(t._scopes)),e}function qv(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(i);return Array.from(e)}function Rp(t,e,n,i){const{iScale:s}=t,{key:r="r"}=this._parsing,o=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=e[c],o[a]={r:s.parse(kn(u,r),c)};return o}const Jv=Number.EPSILON||1e-14,Vi=(t,e)=>e<t.length&&!t[e].skip&&t[e],Ip=t=>t==="x"?"y":"x";function eb(t,e,n,i){const s=t.skip?e:t,r=e,o=n.skip?e:n,a=Xl(r,s),l=Xl(o,r);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=i*c,f=i*u;return{previous:{x:r.x-h*(o.x-s.x),y:r.y-h*(o.y-s.y)},next:{x:r.x+f*(o.x-s.x),y:r.y+f*(o.y-s.y)}}}function tb(t,e,n){const i=t.length;let s,r,o,a,l,c=Vi(t,0);for(let u=0;u<i-1;++u)if(l=c,c=Vi(t,u+1),!(!l||!c)){if(Cs(e[u],0,Jv)){n[u]=n[u+1]=0;continue}s=n[u]/e[u],r=n[u+1]/e[u],a=Math.pow(s,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=s*o*e[u],n[u+1]=r*o*e[u])}}function nb(t,e,n="x"){const i=Ip(n),s=t.length;let r,o,a,l=Vi(t,0);for(let c=0;c<s;++c){if(o=a,a=l,l=Vi(t,c+1),!a)continue;const u=a[n],h=a[i];o&&(r=(u-o[n])/3,a[`cp1${n}`]=u-r,a[`cp1${i}`]=h-r*e[c]),l&&(r=(l[n]-u)/3,a[`cp2${n}`]=u+r,a[`cp2${i}`]=h+r*e[c])}}function ib(t,e="x"){const n=Ip(e),i=t.length,s=Array(i).fill(0),r=Array(i);let o,a,l,c=Vi(t,0);for(o=0;o<i;++o)if(a=l,l=c,c=Vi(t,o+1),!!l){if(c){const u=c[e]-l[e];s[o]=u!==0?(c[n]-l[n])/u:0}r[o]=a?c?Lt(s[o-1])!==Lt(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}tb(t,s,r),nb(t,r,e)}function Or(t,e,n){return Math.max(Math.min(t,n),e)}function sb(t,e){let n,i,s,r,o,a=Ht(t[0],e);for(n=0,i=t.length;n<i;++n)o=r,r=a,a=n<i-1&&Ht(t[n+1],e),r&&(s=t[n],o&&(s.cp1x=Or(s.cp1x,e.left,e.right),s.cp1y=Or(s.cp1y,e.top,e.bottom)),a&&(s.cp2x=Or(s.cp2x,e.left,e.right),s.cp2y=Or(s.cp2y,e.top,e.bottom)))}function rb(t,e,n,i,s){let r,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")ib(t,s);else{let c=i?t[t.length-1]:t[0];for(r=0,o=t.length;r<o;++r)a=t[r],l=eb(c,a,t[Math.min(r+1,o-(i?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&sb(t,n)}function dd(){return typeof window<"u"&&typeof document<"u"}function ud(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Io(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const la=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function ob(t,e){return la(t).getPropertyValue(e)}const ab=["top","right","bottom","left"];function Kn(t,e,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const r=ab[s];i[r]=parseFloat(t[e+"-"+r+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const lb=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function cb(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:s,offsetY:r}=i;let o=!1,a,l;if(lb(s,r,t.target))a=s,l=r;else{const c=e.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function zn(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,s=la(n),r=s.boxSizing==="border-box",o=Kn(s,"padding"),a=Kn(s,"border","width"),{x:l,y:c,box:u}=cb(t,n),h=o.left+(u&&a.left),f=o.top+(u&&a.top);let{width:m,height:g}=e;return r&&(m-=o.width+a.width,g-=o.height+a.height),{x:Math.round((l-h)/m*n.width/i),y:Math.round((c-f)/g*n.height/i)}}function db(t,e,n){let i,s;if(e===void 0||n===void 0){const r=t&&ud(t);if(!r)e=t.clientWidth,n=t.clientHeight;else{const o=r.getBoundingClientRect(),a=la(r),l=Kn(a,"border","width"),c=Kn(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,i=Io(a.maxWidth,r,"clientWidth"),s=Io(a.maxHeight,r,"clientHeight")}}return{width:e,height:n,maxWidth:i||Fo,maxHeight:s||Fo}}const dn=t=>Math.round(t*10)/10;function ub(t,e,n,i){const s=la(t),r=Kn(s,"margin"),o=Io(s.maxWidth,t,"clientWidth")||Fo,a=Io(s.maxHeight,t,"clientHeight")||Fo,l=db(t,e,n);let{width:c,height:u}=l;if(s.boxSizing==="content-box"){const f=Kn(s,"border","width"),m=Kn(s,"padding");c-=m.width+f.width,u-=m.height+f.height}return c=Math.max(0,c-r.width),u=Math.max(0,i?c/i:u-r.height),c=dn(Math.min(c,o,l.maxWidth)),u=dn(Math.min(u,a,l.maxHeight)),c&&!u&&(u=dn(c/2)),(e!==void 0||n!==void 0)&&i&&l.height&&u>l.height&&(u=l.height,c=dn(Math.floor(u*i))),{width:c,height:u}}function Qu(t,e,n){const i=e||1,s=dn(t.height*i),r=dn(t.width*i);t.height=dn(t.height),t.width=dn(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||o.height!==s||o.width!==r?(t.currentDevicePixelRatio=i,o.height=s,o.width=r,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const hb=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};dd()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Zu(t,e){const n=ob(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Bn(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function fb(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function mb(t,e,n,i){const s={x:t.cp2x,y:t.cp2y},r={x:e.cp1x,y:e.cp1y},o=Bn(t,s,n),a=Bn(s,r,n),l=Bn(r,e,n),c=Bn(o,a,n),u=Bn(a,l,n);return Bn(c,u,n)}const pb=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},gb=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Mi(t,e,n){return t?pb(e,n):gb()}function Op(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function zp(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Bp(t){return t==="angle"?{between:Js,compare:xv,normalize:Re}:{between:$t,compare:(e,n)=>e-n,normalize:e=>e}}function qu({start:t,end:e,count:n,loop:i,style:s}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:s}}function xb(t,e,n){const{property:i,start:s,end:r}=n,{between:o,normalize:a}=Bp(i),l=e.length;let{start:c,end:u,loop:h}=t,f,m;if(h){for(c+=l,u+=l,f=0,m=l;f<m&&o(a(e[c%l][i]),s,r);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:t.style}}function $p(t,e,n){if(!n)return[t];const{property:i,start:s,end:r}=n,o=e.length,{compare:a,between:l,normalize:c}=Bp(i),{start:u,end:h,loop:f,style:m}=xb(t,e,n),g=[];let x=!1,v=null,p,y,b;const _=()=>l(s,b,p)&&a(s,b)!==0,S=()=>a(r,p)===0||l(r,b,p),w=()=>x||_(),j=()=>!x||S();for(let N=u,A=u;N<=h;++N)y=e[N%o],!y.skip&&(p=c(y[i]),p!==b&&(x=l(p,s,r),v===null&&w()&&(v=a(p,s)===0?N:A),v!==null&&j()&&(g.push(qu({start:v,end:N,loop:f,count:o,style:m})),v=null),A=N,b=p));return v!==null&&g.push(qu({start:v,end:h,loop:f,count:o,style:m})),g}function Wp(t,e){const n=[],i=t.segments;for(let s=0;s<i.length;s++){const r=$p(i[s],t.points,e);r.length&&n.push(...r)}return n}function yb(t,e,n,i){let s=0,r=e-1;if(n&&!i)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(r+=s);r>s&&t[r%e].skip;)r--;return r%=e,{start:s,end:r}}function vb(t,e,n,i){const s=t.length,r=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%s];c.skip||c.stop?a.skip||(i=!1,r.push({start:e%s,end:(l-1)%s,loop:i}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&r.push({start:e%s,end:o%s,loop:i}),r}function bb(t,e){const n=t.points,i=t.options.spanGaps,s=n.length;if(!s)return[];const r=!!t._loop,{start:o,end:a}=yb(n,s,r,i);if(i===!0)return Ju(t,[{start:o,end:a,loop:r}],n,e);const l=a<o?a+s:a,c=!!t._fullLoop&&o===0&&a===s-1;return Ju(t,vb(n,o,l,c),n,e)}function Ju(t,e,n,i){return!i||!i.setContext||!n?e:wb(t,e,n,i)}function wb(t,e,n,i){const s=t._chart.getContext(),r=eh(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=r,h=e[0].start,f=h;function m(g,x,v,p){const y=a?-1:1;if(g!==x){for(g+=l;n[g%l].skip;)g-=y;for(;n[x%l].skip;)x+=y;g%l!==x%l&&(c.push({start:g%l,end:x%l,loop:v,style:p}),u=p,h=x%l)}}for(const g of e){h=a?h:g.start;let x=n[h%l],v;for(f=h+1;f<=g.end;f++){const p=n[f%l];v=eh(i.setContext(Mn(s,{type:"segment",p0:x,p1:p,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),Sb(v,u)&&m(h,f-1,g.loop,u),x=p,u=v}h<f-1&&m(h,f-1,g.loop,u)}return c}function eh(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Sb(t,e){if(!e)return!1;const n=[],i=function(s,r){return rd(r)?(n.includes(r)||n.push(r),n.indexOf(r)):r};return JSON.stringify(t,i)!==JSON.stringify(e,i)}function zr(t,e,n){return t.options.clip?t[n]:e[n]}function _b(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:zr(n,e,"left"),right:zr(n,e,"right"),top:zr(i,e,"top"),bottom:zr(i,e,"bottom")}:e}function Hp(t,e){const n=e._clip;if(n.disabled)return!1;const i=_b(e,t.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class kb{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,s){const r=n.listeners[s],o=n.duration;r.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Np.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(s.draw(),this._notify(s,i,e,"progress")),r.length||(i.running=!1,this._notify(s,i,e,"complete"),i.initial=!1),n+=r.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Pt=new kb;const th="transparent",Nb={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=Uu(t||th),s=i.valid&&Uu(e||th);return s&&s.valid?s.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class Vp{constructor(e,n,i,s){const r=n[i];s=ms([e.to,s,r,e.from]);const o=ms([e.from,r,s]);this._active=!0,this._fn=e.fn||Nb[e.type||typeof o],this._easing=Ps[e.easing]||Ps.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,o=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=ms([e.to,n,s,e.from]),this._from=ms([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,s=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||n<i),!this._active){this._target[s]=a,this._notify(!0);return}if(n<0){this._target[s]=r;return}l=n/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(r,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class hd{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!q(e))return;const n=Object.keys(de.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const r=e[s];if(!q(r))return;const o={};for(const a of n)o[a]=r[a];(he(r.properties)&&r.properties||[s]).forEach(a=>{(a===s||!i.has(a))&&i.set(a,o)})})}_animateOptions(e,n){const i=n.options,s=Cb(e,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&jb(e.options.$animations,i).then(()=>{e.options=i},()=>{}),r}_createAnimations(e,n){const i=this._properties,s=[],r=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(e,n));continue}const u=n[c];let h=r[c];const f=i.get(c);if(h)if(f&&h.active()){h.update(f,u,a);continue}else h.cancel();if(!f||!f.duration){e[c]=u;continue}r[c]=h=new Vp(f,e,c,u),s.push(h)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return Pt.add(this._chart,i),!0}}function jb(t,e){const n=[],i=Object.keys(e);for(let s=0;s<i.length;s++){const r=t[i[s]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function Cb(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function nh(t,e){const n=t&&t.options||{},i=n.reverse,s=n.min===void 0?e:0,r=n.max===void 0?e:0;return{start:i?r:s,end:i?s:r}}function Pb(t,e,n){if(n===!1)return!1;const i=nh(t,n),s=nh(e,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function Mb(t){let e,n,i,s;return q(t)?(e=t.top,n=t.right,i=t.bottom,s=t.left):e=n=i=s=t,{top:e,right:n,bottom:i,left:s,disabled:t===!1}}function Up(t,e){const n=[],i=t._getSortedDatasetMetas(e);let s,r;for(s=0,r=i.length;s<r;++s)n.push(i[s].index);return n}function ih(t,e,n,i={}){const s=t.keys,r=i.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===n){if(u=!0,i.all)continue;break}c=t.values[l],ye(c)&&(r||e===0||Lt(e)===Lt(c))&&(e+=c)}return!u&&!i.all?0:e}function Db(t,e){const{iScale:n,vScale:i}=e,s=n.axis==="x"?"x":"y",r=i.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[s]:u,[r]:t[u]};return a}function Ha(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function Ab(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function Tb(t){const{min:e,max:n,minDefined:i,maxDefined:s}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function Lb(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function sh(t,e,n,i){for(const s of e.getMatchingVisibleMetas(i).reverse()){const r=t[s.index];if(n&&r>0||!n&&r<0)return s.index}return null}function rh(t,e){const{chart:n,_cachedMeta:i}=t,s=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=i,l=r.axis,c=o.axis,u=Ab(r,o,i),h=e.length;let f;for(let m=0;m<h;++m){const g=e[m],{[l]:x,[c]:v}=g,p=g._stacks||(g._stacks={});f=p[c]=Lb(s,u,x),f[a]=v,f._top=sh(f,o,!0,i.type),f._bottom=sh(f,o,!1,i.type);const y=f._visualValues||(f._visualValues={});y[a]=v}}function Va(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function Eb(t,e){return Mn(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Fb(t,e,n){return Mn(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function ss(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const s of e){const r=s._stacks;if(!r||r[i]===void 0||r[i][n]===void 0)return;delete r[i][n],r[i]._visualValues!==void 0&&r[i]._visualValues[n]!==void 0&&delete r[i]._visualValues[n]}}}const Ua=t=>t==="reset"||t==="none",oh=(t,e)=>e?t:Object.assign({},t),Rb=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Up(n,!0),values:null};class ht{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Ha(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&ss(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(h,f,m,g)=>h==="x"?f:h==="r"?g:m,r=n.xAxisID=X(i.xAxisID,Va(e,"x")),o=n.yAxisID=X(i.yAxisID,Va(e,"y")),a=n.rAxisID=X(i.rAxisID,Va(e,"r")),l=n.indexAxis,c=n.iAxisID=s(l,r,o,a),u=n.vAxisID=s(l,o,r,a);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Wu(this._data,this),e._stacked&&ss(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(q(n)){const s=this._cachedMeta;this._data=Db(n,s)}else if(i!==n){if(i){Wu(i,this);const s=this._cachedMeta;ss(s),s._parsed=[]}n&&Object.isExtensible(n)&&wv(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const r=n._stacked;n._stacked=Ha(n.vScale,n),n.stack!==i.stack&&(s=!0,ss(n),n.stack=i.stack),this._resyncElements(e),(s||r!==n._stacked)&&(rh(this,n._parsed),n._stacked=Ha(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:o}=i,a=r.axis;let l=e===0&&n===s.length?!0:i._sorted,c=e>0&&i._parsed[e-1],u,h,f;if(this._parsing===!1)i._parsed=s,i._sorted=!0,f=s;else{he(s[e])?f=this.parseArrayData(i,s,e,n):q(s[e])?f=this.parseObjectData(i,s,e,n):f=this.parsePrimitiveData(i,s,e,n);const m=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<n;++u)i._parsed[u+e]=h=f[u],l&&(m()&&(l=!1),c=h);i._sorted=l}o&&rh(this,f)}parsePrimitiveData(e,n,i,s){const{iScale:r,vScale:o}=e,a=r.axis,l=o.axis,c=r.getLabels(),u=r===o,h=new Array(s);let f,m,g;for(f=0,m=s;f<m;++f)g=f+i,h[f]={[a]:u||r.parse(c[g],g),[l]:o.parse(n[g],g)};return h}parseArrayData(e,n,i,s){const{xScale:r,yScale:o}=e,a=new Array(s);let l,c,u,h;for(l=0,c=s;l<c;++l)u=l+i,h=n[u],a[l]={x:r.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(e,n,i,s){const{xScale:r,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(s);let u,h,f,m;for(u=0,h=s;u<h;++u)f=u+i,m=n[f],c[u]={x:r.parse(kn(m,a),f),y:o.parse(kn(m,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const s=this.chart,r=this._cachedMeta,o=n[e.axis],a={keys:Up(s,!0),values:n._stacks[e.axis]._visualValues};return ih(a,o,r.index,{mode:i})}updateRangeFromParsed(e,n,i,s){const r=i[n.axis];let o=r===null?NaN:r;const a=s&&i._stacks[n.axis];s&&a&&(s.values=a,o=ih(s,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const i=this._cachedMeta,s=i._parsed,r=i._sorted&&e===i.iScale,o=s.length,a=this._getOtherScale(e),l=Rb(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=Tb(a);let f,m;function g(){m=s[f];const x=m[a.axis];return!ye(m[e.axis])||u>x||h<x}for(f=0;f<o&&!(!g()&&(this.updateRangeFromParsed(c,e,m,l),r));++f);if(r){for(f=o-1;f>=0;--f)if(!g()){this.updateRangeFromParsed(c,e,m,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let s,r,o;for(s=0,r=n.length;s<r;++s)o=n[s][e.axis],ye(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,s=n.vScale,r=this.getParsed(e);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=Mb(X(this.options.clip,Pb(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],r=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||s.length-a,c=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(e,r,a,l),u=a;u<a+l;++u){const h=s[u];h.hidden||(h.active&&c?o.push(h):h.draw(e,r))}for(u=0;u<o.length;++u)o[u].draw(e,r)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const s=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=Fb(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=s.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=Eb(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=i,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const s=n==="active",r=this._cachedDataOpts,o=e+"-"+n,a=r[o],l=this.enableOptionSharing&&qs(i);if(a)return oh(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),h=s?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),u),m=Object.keys(de.elements[e]),g=()=>this.getContext(i,s,n),x=c.resolveNamedOptions(f,m,g,h);return x.$shared&&(x.$shared=l,r[o]=Object.freeze(oh(x,l))),x}_resolveAnimations(e,n,i){const s=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,a=r[o];if(a)return a;let l;if(s.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),f=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(f,this.getContext(e,i,n))}const c=new hd(s,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Ua(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),s=this._sharedOptions,r=this.getSharedOptions(i),o=this.includeOptions(n,r)||r!==s;return this.updateSharedOptions(r,n,i),{sharedOptions:r,includeOptions:o}}updateElement(e,n,i,s){Ua(s)?Object.assign(e,i):this._resolveAnimations(n,s).update(e,i)}updateSharedOptions(e,n,i){e&&!Ua(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,s){e.active=s;const r=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(e,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const s=i.length,r=n.length,o=Math.min(r,s);o&&this.parse(0,o),r>s?this._insertElements(s,r-s,e):r<s&&this._removeElements(r,s-r)}_insertElements(e,n,i=!0){const s=this._cachedMeta,r=s.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(r),a=e;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,n),i&&this.updateElements(r,e,n,"reset")}updateElements(e,n,i,s){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(e,n);i._stacked&&ss(i,s)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,s]=e;this[n](i,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}R(ht,"defaults",{}),R(ht,"datasetElementType",null),R(ht,"dataElementType",null);function Ib(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let s=0,r=n.length;s<r;s++)i=i.concat(n[s].controller.getAllParsedValues(t));t._cache.$bar=kp(i.sort((s,r)=>s-r))}return t._cache.$bar}function Ob(t){const e=t.iScale,n=Ib(e,t.type);let i=e._length,s,r,o,a;const l=()=>{o===32767||o===-32768||(qs(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(s=0,r=n.length;s<r;++s)o=e.getPixelForValue(n[s]),l();for(a=void 0,s=0,r=e.ticks.length;s<r;++s)o=e.getPixelForTick(s),l();return i}function zb(t,e,n,i){const s=n.barThickness;let r,o;return Q(s)?(r=e.min*n.categoryPercentage,o=n.barPercentage):(r=s*i,o=1),{chunk:r/i,ratio:o,start:e.pixels[t]-r/2}}function Bb(t,e,n,i){const s=e.pixels,r=s[t];let o=t>0?s[t-1]:null,a=t<s.length-1?s[t+1]:null;const l=n.categoryPercentage;o===null&&(o=r-(a===null?e.end-e.start:a-r)),a===null&&(a=r+r-o);const c=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:c}}function $b(t,e,n,i){const s=n.parse(t[0],i),r=n.parse(t[1],i),o=Math.min(s,r),a=Math.max(s,r);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:s,end:r,min:o,max:a}}function Gp(t,e,n,i){return he(t)?$b(t,e,n,i):e[n.axis]=n.parse(t,i),e}function ah(t,e,n,i){const s=t.iScale,r=t.vScale,o=s.getLabels(),a=s===r,l=[];let c,u,h,f;for(c=n,u=n+i;c<u;++c)f=e[c],h={},h[s.axis]=a||s.parse(o[c],c),l.push(Gp(f,h,r,c));return l}function Ga(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function Wb(t,e,n){return t!==0?Lt(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function Hb(t){let e,n,i,s,r;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(s="end",r="start"):(s="start",r="end"),{start:n,end:i,reverse:e,top:s,bottom:r}}function Vb(t,e,n,i){let s=e.borderSkipped;const r={};if(!s){t.borderSkipped=r;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=Hb(t);s==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?s=c:(n._bottom||0)===i?s=u:(r[lh(u,o,a,l)]=!0,s=c)),r[lh(s,o,a,l)]=!0,t.borderSkipped=r}function lh(t,e,n,i){return i?(t=Ub(t,e,n),t=ch(t,n,e)):t=ch(t,e,n),t}function Ub(t,e,n){return t===e?n:t===n?e:t}function ch(t,e,n){return t==="start"?e:t==="end"?n:t}function Gb(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Di extends ht{parsePrimitiveData(e,n,i,s){return ah(e,n,i,s)}parseArrayData(e,n,i,s){return ah(e,n,i,s)}parseObjectData(e,n,i,s){const{iScale:r,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=r.axis==="x"?a:l,u=o.axis==="x"?a:l,h=[];let f,m,g,x;for(f=i,m=i+s;f<m;++f)x=n[f],g={},g[r.axis]=r.parse(kn(x,c),f),h.push(Gp(kn(x,u),g,o,f));return h}updateRangeFromParsed(e,n,i,s){super.updateRangeFromParsed(e,n,i,s);const r=i._custom;r&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:s}=n,r=this.getParsed(e),o=r._custom,a=Ga(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(r[s.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,s){const r=s==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(n,s);for(let m=n;m<n+i;m++){const g=this.getParsed(m),x=r||Q(g[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(m),v=this._calculateBarIndexPixels(m,u),p=(g._stacks||{})[a.axis],y={horizontal:c,base:x.base,enableBorderRadius:!p||Ga(g._custom)||o===p._top||o===p._bottom,x:c?x.head:v.center,y:c?v.center:x.head,height:c?v.size:Math.abs(x.size),width:c?Math.abs(x.size):v.size};f&&(y.options=h||this.resolveDataElementOptions(m,e[m].active?"active":s));const b=y.options||e[m].options;Vb(y,b,p,o),Gb(y,b,u.ratio),this.updateElement(e[m],m,y,s)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),r=i.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[i.axis],c=u=>{const h=u._parsed.find(m=>m[i.axis]===l),f=h&&h[u.vScale.axis];if(Q(f)||isNaN(f))return!0};for(const u of s)if(!(n!==void 0&&c(u))&&((r===!1||o.indexOf(u.stack)===-1||r===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(i=>e[i].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)e[X(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,i){const s=this._getStacks(e,i),r=n!==void 0?s.indexOf(n):-1;return r===-1?s.length-1:r}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,s=[];let r,o;for(r=0,o=n.data.length;r<o;++r)s.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const a=e.barThickness;return{min:a||Ob(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i,index:s},options:{base:r,minBarLength:o}}=this,a=r||0,l=this.getParsed(e),c=l._custom,u=Ga(c);let h=l[n.axis],f=0,m=i?this.applyStack(n,l,i):h,g,x;m!==h&&(f=m-h,m=h),u&&(h=c.barStart,m=c.barEnd-c.barStart,h!==0&&Lt(h)!==Lt(c.barEnd)&&(f=0),f+=h);const v=!Q(r)&&!u?r:f;let p=n.getPixelForValue(v);if(this.chart.getDataVisibility(e)?g=n.getPixelForValue(f+m):g=p,x=g-p,Math.abs(x)<o){x=Wb(x,n,a)*o,h===a&&(p-=x/2);const y=n.getPixelForDecimal(0),b=n.getPixelForDecimal(1),_=Math.min(y,b),S=Math.max(y,b);p=Math.max(Math.min(p,S),_),g=p+x,i&&!u&&(l._stacks[n.axis]._visualValues[s]=n.getValueForPixel(g)-n.getValueForPixel(p))}if(p===n.getPixelForValue(a)){const y=Lt(x)*n.getLineWidthForValue(a)/2;p+=y,x-=y}return{size:x,base:p,head:g,center:g+x/2}}_calculateBarIndexPixels(e,n){const i=n.scale,s=this.options,r=s.skipNull,o=X(s.maxBarThickness,1/0);let a,l;const c=this._getAxisCount();if(n.grouped){const u=r?this._getStackCount(e):n.stackCount,h=s.barThickness==="flex"?Bb(e,n,s,u*c):zb(e,n,s,u*c),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,m=this._getAxis().indexOf(X(f,this.getFirstScaleIdForIndexAxis())),g=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0)+m;a=h.start+h.chunk*g+h.chunk/2,l=Math.min(o,h.chunk*h.ratio)}else a=i.getPixelForValue(this.getParsed(e)[i.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,s=i.length;let r=0;for(;r<s;++r)this.getParsed(r)[n.axis]!==null&&!i[r].hidden&&i[r].draw(this._ctx)}}R(Di,"id","bar"),R(Di,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),R(Di,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Ds extends ht{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,i,s){const r=super.parsePrimitiveData(e,n,i,s);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+i).radius;return r}parseArrayData(e,n,i,s){const r=super.parseArrayData(e,n,i,s);for(let o=0;o<r.length;o++){const a=n[i+o];r[o]._custom=X(a[2],this.resolveDataElementOptions(o+i).radius)}return r}parseObjectData(e,n,i,s){const r=super.parseObjectData(e,n,i,s);for(let o=0;o<r.length;o++){const a=n[i+o];r[o]._custom=X(a&&a.r&&+a.r,this.resolveDataElementOptions(o+i).radius)}return r}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let i=e.length-1;i>=0;--i)n=Math.max(n,e[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=n,o=this.getParsed(e),a=s.getLabelForValue(o.x),l=r.getLabelForValue(o.y),c=o._custom;return{label:i[e]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,i,s){const r=s==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,s),u=o.axis,h=a.axis;for(let f=n;f<n+i;f++){const m=e[f],g=!r&&this.getParsed(f),x={},v=x[u]=r?o.getPixelForDecimal(.5):o.getPixelForValue(g[u]),p=x[h]=r?a.getBasePixel():a.getPixelForValue(g[h]);x.skip=isNaN(v)||isNaN(p),c&&(x.options=l||this.resolveDataElementOptions(f,m.active?"active":s),r&&(x.options.radius=0)),this.updateElement(m,f,x,s)}}resolveDataElementOptions(e,n){const i=this.getParsed(e);let s=super.resolveDataElementOptions(e,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const r=s.radius;return n!=="active"&&(s.radius=0),s.radius+=X(i&&i._custom,r),s}}R(Ds,"id","bubble"),R(Ds,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),R(Ds,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function Yb(t,e,n){let i=1,s=1,r=0,o=0;if(e<ce){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),f=Math.sin(l),m=(b,_,S)=>Js(b,a,l,!0)?1:Math.max(_,_*n,S,S*n),g=(b,_,S)=>Js(b,a,l,!0)?-1:Math.min(_,_*n,S,S*n),x=m(0,c,h),v=m(be,u,f),p=g(ee,c,h),y=g(ee+be,u,f);i=(x-p)/2,s=(v-y)/2,r=-(x+p)/2,o=-(v+y)/2}return{ratioX:i,ratioY:s,offsetX:r,offsetY:o}}class un extends ht{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let r=l=>+i[l];if(q(i[e])){const{key:l="value"}=this._parsing;r=c=>+kn(i[c],l)}let o,a;for(o=e,a=e+n;o<a;++o)s._parsed[o]=r(o)}}_getRotation(){return wt(this.options.rotation-90)}_getCircumference(){return wt(this.options.circumference)}_getRotationExtents(){let e=ce,n=-ce;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,r=s._getRotation(),o=s._getCircumference();e=Math.min(e,r),n=Math.max(n,r+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,s=this._cachedMeta,r=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(ov(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:m,offsetX:g,offsetY:x}=Yb(h,u,l),v=(i.width-o)/f,p=(i.height-o)/m,y=Math.max(Math.min(v,p)/2,0),b=vp(this.options.radius,y),_=Math.max(b*l,0),S=(b-_)/this._getVisibleDatasetWeightTotal();this.offsetX=g*b,this.offsetY=x*b,s.total=this.calculateTotal(),this.outerRadius=b-S*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-S*c,0),this.updateElements(r,0,r.length,e)}_circumference(e,n){const i=this.options,s=this._cachedMeta,r=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*r/ce)}updateElements(e,n,i,s){const r=s==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,h=(a.top+a.bottom)/2,f=r&&c.animateScale,m=f?0:this.innerRadius,g=f?0:this.outerRadius,{sharedOptions:x,includeOptions:v}=this._getSharedOptions(n,s);let p=this._getRotation(),y;for(y=0;y<n;++y)p+=this._circumference(y,r);for(y=n;y<n+i;++y){const b=this._circumference(y,r),_=e[y],S={x:u+this.offsetX,y:h+this.offsetY,startAngle:p,endAngle:p+b,circumference:b,outerRadius:g,innerRadius:m};v&&(S.options=x||this.resolveDataElementOptions(y,_.active?"active":s)),p+=b,this.updateElement(_,y,S,s)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,s;for(s=0;s<n.length;s++){const r=e._parsed[s];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(i+=Math.abs(r))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?ce*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=hr(n._parsed[e],i.options.locale);return{label:s[e]||"",value:r}}getMaxBorderWidth(e){let n=0;const i=this.chart;let s,r,o,a,l;if(!e){for(s=0,r=i.data.datasets.length;s<r;++s)if(i.isDatasetVisible(s)){o=i.getDatasetMeta(s),e=o.data,a=o.controller;break}}if(!e)return 0;for(s=0,r=e.length;s<r;++s)l=a.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,s=e.length;i<s;++i){const r=this.resolveDataElementOptions(i);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(X(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}R(un,"id","doughnut"),R(un,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),R(un,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),R(un,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data,{labels:{pointStyle:i,textAlign:s,color:r,useBorderRadius:o,borderRadius:a}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((l,c)=>{const h=e.getDatasetMeta(0).controller.getStyle(c);return{text:l,fillStyle:h.backgroundColor,fontColor:r,hidden:!e.getDataVisibility(c),lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:h.borderWidth,strokeStyle:h.borderColor,textAlign:s,pointStyle:i,borderRadius:o&&(a||h.borderRadius),index:c}}):[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class Ai extends ht{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:s=[],_dataset:r}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=Cp(n,s,o);this._drawStart=a,this._drawCount=l,Pp(n)&&(a=0,l=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=s;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:c},e),this.updateElements(s,a,l,e)}updateElements(e,n,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,s),f=o.axis,m=a.axis,{spanGaps:g,segment:x}=this.options,v=Wi(g)?g:Number.POSITIVE_INFINITY,p=this.chart._animationsDisabled||r||s==="none",y=n+i,b=e.length;let _=n>0&&this.getParsed(n-1);for(let S=0;S<b;++S){const w=e[S],j=p?w:{};if(S<n||S>=y){j.skip=!0;continue}const N=this.getParsed(S),A=Q(N[m]),D=j[f]=o.getPixelForValue(N[f],S),P=j[m]=r||A?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,N,l):N[m],S);j.skip=isNaN(D)||isNaN(P)||A,j.stop=S>0&&Math.abs(N[f]-_[f])>v,x&&(j.parsed=N,j.raw=c.data[S]),h&&(j.options=u||this.resolveDataElementOptions(S,w.active?"active":s)),p||this.updateElement(w,S,j,s),_=N}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return i;const r=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,r,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}R(Ai,"id","line"),R(Ai,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),R(Ai,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Ti extends ht{constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=hr(n._parsed[e].r,i.options.locale);return{label:s[e]||"",value:r}}parseObjectData(e,n,i,s){return Rp.bind(this)(e,n,i,s)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((i,s)=>{const r=this.getParsed(s).r;!isNaN(r)&&this.chart.getDataVisibility(s)&&(r<n.min&&(n.min=r),r>n.max&&(n.max=r))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,i=e.options,s=Math.min(n.right-n.left,n.bottom-n.top),r=Math.max(s/2,0),o=Math.max(i.cutoutPercentage?r/100*i.cutoutPercentage:1,0),a=(r-o)/e.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,n,i,s){const r=s==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,h=c.yCenter,f=c.getIndexAngle(0)-.5*ee;let m=f,g;const x=360/this.countVisibleElements();for(g=0;g<n;++g)m+=this._computeAngle(g,s,x);for(g=n;g<n+i;g++){const v=e[g];let p=m,y=m+this._computeAngle(g,s,x),b=o.getDataVisibility(g)?c.getDistanceFromCenterForValue(this.getParsed(g).r):0;m=y,r&&(l.animateScale&&(b=0),l.animateRotate&&(p=y=f));const _={x:u,y:h,innerRadius:0,outerRadius:b,startAngle:p,endAngle:y,options:this.resolveDataElementOptions(g,v.active?"active":s)};this.updateElement(v,g,_,s)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(e,n,i){return this.chart.getDataVisibility(e)?wt(this.resolveDataElementOptions(e,n).angle||i):0}}R(Ti,"id","polarArea"),R(Ti,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),R(Ti,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=e.legend.options;return n.labels.map((r,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class tr extends un{}R(tr,"id","pie"),R(tr,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class As extends ht{getLabelAndValue(e){const n=this._cachedMeta.vScale,i=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(e,n,i,s){return Rp.bind(this)(e,n,i,s)}update(e){const n=this._cachedMeta,i=n.dataset,s=n.data||[],r=n.iScale.getLabels();if(i.points=s,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===s.length,options:o};this.updateElement(i,void 0,a,e)}this.updateElements(s,0,s.length,e)}updateElements(e,n,i,s){const r=this._cachedMeta.rScale,o=s==="reset";for(let a=n;a<n+i;a++){const l=e[a],c=this.resolveDataElementOptions(a,l.active?"active":s),u=r.getPointPositionForValue(a,this.getParsed(a).r),h=o?r.xCenter:u.x,f=o?r.yCenter:u.y,m={x:h,y:f,angle:u.angle,skip:isNaN(h)||isNaN(f),options:c};this.updateElement(l,a,m,s)}}}R(As,"id","radar"),R(As,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),R(As,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Ts extends ht{getLabelAndValue(e){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=n,o=this.getParsed(e),a=s.getLabelForValue(o.x),l=r.getLabelForValue(o.y);return{label:i[e]||"",value:"("+a+", "+l+")"}}update(e){const n=this._cachedMeta,{data:i=[]}=n,s=this.chart._animationsDisabled;let{start:r,count:o}=Cp(n,i,s);if(this._drawStart=r,this._drawCount=o,Pp(n)&&(r=0,o=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=i;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!s,options:c},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(i,r,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(n,s),h=this.getSharedOptions(u),f=this.includeOptions(s,h),m=o.axis,g=a.axis,{spanGaps:x,segment:v}=this.options,p=Wi(x)?x:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||r||s==="none";let b=n>0&&this.getParsed(n-1);for(let _=n;_<n+i;++_){const S=e[_],w=this.getParsed(_),j=y?S:{},N=Q(w[g]),A=j[m]=o.getPixelForValue(w[m],_),D=j[g]=r||N?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,w,l):w[g],_);j.skip=isNaN(A)||isNaN(D)||N,j.stop=_>0&&Math.abs(w[m]-b[m])>p,v&&(j.parsed=w,j.raw=c.data[_]),f&&(j.options=h||this.resolveDataElementOptions(_,S.active?"active":s)),y||this.updateElement(S,_,j,s),b=w}this.updateSharedOptions(h,s,u)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const i=e.dataset,s=i.options&&i.options.borderWidth||0;if(!n.length)return s;const r=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,r,o)/2}}R(Ts,"id","scatter"),R(Ts,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),R(Ts,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var Yp=Object.freeze({__proto__:null,BarController:Di,BubbleController:Ds,DoughnutController:un,LineController:Ai,PieController:tr,PolarAreaController:Ti,RadarController:As,ScatterController:Ts});function Fn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class fd{constructor(e){R(this,"options");this.options=e||{}}static override(e){Object.assign(fd.prototype,e)}init(){}formats(){return Fn()}parse(){return Fn()}format(){return Fn()}add(){return Fn()}diff(){return Fn()}startOf(){return Fn()}endOf(){return Fn()}}var Xp={_date:fd};function Xb(t,e,n,i){const{controller:s,data:r,_sorted:o}=t,a=s._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&r.length){const c=a._reversePixels?vv:Wt;if(i){if(s._sharedOptions){const u=r[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){const f=c(r,e,n-h),m=c(r,e,n+h);return{lo:f.lo,hi:m.hi}}}}else{const u=c(r,e,n);if(l){const{vScale:h}=s._cachedMeta,{_parsed:f}=t,m=f.slice(0,u.lo+1).reverse().findIndex(x=>!Q(x[h.axis]));u.lo-=Math.max(0,m);const g=f.slice(u.hi).findIndex(x=>!Q(x[h.axis]));u.hi+=Math.max(0,g)}return u}}return{lo:0,hi:r.length-1}}function ca(t,e,n,i,s){const r=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=r.length;a<l;++a){const{index:c,data:u}=r[a],{lo:h,hi:f}=Xb(r[a],e,o,s);for(let m=h;m<=f;++m){const g=u[m];g.skip||i(g,c,m)}}}function Kb(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,s){const r=e?Math.abs(i.x-s.x):0,o=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function Ya(t,e,n,i,s){const r=[];return!s&&!t.isPointInArea(e)||ca(t,n,e,function(a,l,c){!s&&!Ht(a,t.chartArea,0)||a.inRange(e.x,e.y,i)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function Qb(t,e,n,i){let s=[];function r(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],i),{angle:h}=Sp(o,{x:e.x,y:e.y});Js(h,c,u)&&s.push({element:o,datasetIndex:a,index:l})}return ca(t,n,e,r),s}function Zb(t,e,n,i,s,r){let o=[];const a=Kb(n);let l=Number.POSITIVE_INFINITY;function c(u,h,f){const m=u.inRange(e.x,e.y,s);if(i&&!m)return;const g=u.getCenterPoint(s);if(!(!!r||t.isPointInArea(g))&&!m)return;const v=a(e,g);v<l?(o=[{element:u,datasetIndex:h,index:f}],l=v):v===l&&o.push({element:u,datasetIndex:h,index:f})}return ca(t,n,e,c),o}function Xa(t,e,n,i,s,r){return!r&&!t.isPointInArea(e)?[]:n==="r"&&!i?Qb(t,e,n,s):Zb(t,e,n,i,s,r)}function dh(t,e,n,i,s){const r=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return ca(t,n,e,(l,c,u)=>{l[o]&&l[o](e[n],s)&&(r.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,s))}),i&&!a?[]:r}var Kp={modes:{index(t,e,n,i){const s=zn(e,t),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Ya(t,s,r,i,o):Xa(t,s,r,!1,i,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,i){const s=zn(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Ya(t,s,r,i,o):Xa(t,s,r,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,i){const s=zn(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return Ya(t,s,r,i,o)},nearest(t,e,n,i){const s=zn(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return Xa(t,s,r,n.intersect,i,o)},x(t,e,n,i){const s=zn(e,t);return dh(t,s,"x",n.intersect,i)},y(t,e,n,i){const s=zn(e,t);return dh(t,s,"y",n.intersect,i)}}};const Qp=["left","top","right","bottom"];function rs(t,e){return t.filter(n=>n.pos===e)}function uh(t,e){return t.filter(n=>Qp.indexOf(n.pos)===-1&&n.box.axis===e)}function os(t,e){return t.sort((n,i)=>{const s=e?i:n,r=e?n:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function qb(t){const e=[];let n,i,s,r,o,a;for(n=0,i=(t||[]).length;n<i;++n)s=t[n],{position:r,options:{stack:o,stackWeight:a=1}}=s,e.push({index:n,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&r+o,stackWeight:a});return e}function Jb(t){const e={};for(const n of t){const{stack:i,pos:s,stackWeight:r}=n;if(!i||!Qp.includes(s))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function e1(t,e){const n=Jb(t),{vBoxMaxWidth:i,hBoxMaxHeight:s}=e;let r,o,a;for(r=0,o=t.length;r<o;++r){a=t[r];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*i:l&&e.availableWidth,a.height=s):(a.width=i,a.height=u?u*s:l&&e.availableHeight)}return n}function t1(t){const e=qb(t),n=os(e.filter(c=>c.box.fullSize),!0),i=os(rs(e,"left"),!0),s=os(rs(e,"right")),r=os(rs(e,"top"),!0),o=os(rs(e,"bottom")),a=uh(e,"x"),l=uh(e,"y");return{fullSize:n,leftAndTop:i.concat(r),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:rs(e,"chartArea"),vertical:i.concat(s).concat(l),horizontal:r.concat(o).concat(a)}}function hh(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function Zp(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function n1(t,e,n,i){const{pos:s,box:r}=n,o=t.maxPadding;if(!q(s)){n.size&&(t[s]-=n.size);const h=i[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?r.height:r.width),n.size=h.size/h.count,t[s]+=n.size}r.getPadding&&Zp(o,r.getPadding());const a=Math.max(0,e.outerWidth-hh(o,t,"left","right")),l=Math.max(0,e.outerHeight-hh(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function i1(t){const e=t.maxPadding;function n(i){const s=Math.max(e[i]-t[i],0);return t[i]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function s1(t,e){const n=e.maxPadding;function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{r[o]=Math.max(e[o],n[o])}),r}return i(t?["left","right"]:["top","bottom"])}function ps(t,e,n,i){const s=[];let r,o,a,l,c,u;for(r=0,o=t.length,c=0;r<o;++r){a=t[r],l=a.box,l.update(a.width||e.w,a.height||e.h,s1(a.horizontal,e));const{same:h,other:f}=n1(e,n,a,i);c|=h&&s.length,u=u||f,l.fullSize||s.push(a)}return c&&ps(s,e,n,i)||u}function Br(t,e,n,i,s){t.top=n,t.left=e,t.right=e+i,t.bottom=n+s,t.width=i,t.height=s}function fh(t,e,n,i){const s=n.padding;let{x:r,y:o}=e;for(const a of t){const l=a.box,c=i[a.stack]||{placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=e.w*u,f=c.size||l.height;qs(c.start)&&(o=c.start),l.fullSize?Br(l,s.left,o,n.outerWidth-s.right-s.left,f):Br(l,e.left+c.placed,o,h,f),c.start=o,c.placed+=h,o=l.bottom}else{const h=e.h*u,f=c.size||l.width;qs(c.start)&&(r=c.start),l.fullSize?Br(l,r,s.top,f,n.outerHeight-s.bottom-s.top):Br(l,r,e.top+c.placed,f,h),c.start=r,c.placed+=h,r=l.right}}e.x=r,e.y=o}var De={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const s=ze(t.options.layout.padding),r=Math.max(e-s.width,0),o=Math.max(n-s.height,0),a=t1(t.boxes),l=a.vertical,c=a.horizontal;ne(t.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const u=l.reduce((x,v)=>v.box.options&&v.box.options.display===!1?x:x+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},s);Zp(f,ze(i));const m=Object.assign({maxPadding:f,w:r,h:o,x:s.left,y:s.top},s),g=e1(l.concat(c),h);ps(a.fullSize,m,h,g),ps(l,m,h,g),ps(c,m,h,g)&&ps(l,m,h,g),i1(m),fh(a.leftAndTop,m,h,g),m.x+=m.w,m.y+=m.h,fh(a.rightAndBottom,m,h,g),t.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},ne(a.chartArea,x=>{const v=x.box;Object.assign(v,t.chartArea),v.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class md{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,s){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(e){return!0}updateConfig(e){}}class qp extends md{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const oo="$chartjs",r1={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},mh=t=>t===null||t==="";function o1(t,e){const n=t.style,i=t.getAttribute("height"),s=t.getAttribute("width");if(t[oo]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",mh(s)){const r=Zu(t,"width");r!==void 0&&(t.width=r)}if(mh(i))if(t.style.height==="")t.height=t.width/(e||2);else{const r=Zu(t,"height");r!==void 0&&(t.height=r)}return t}const Jp=hb?{passive:!0}:!1;function a1(t,e,n){t&&t.addEventListener(e,n,Jp)}function l1(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,Jp)}function c1(t,e){const n=r1[t.type]||t.type,{x:i,y:s}=zn(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:s!==void 0?s:null}}function Oo(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function d1(t,e,n){const i=t.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Oo(a.addedNodes,i),o=o&&!Oo(a.removedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function u1(t,e,n){const i=t.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Oo(a.removedNodes,i),o=o&&!Oo(a.addedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const nr=new Map;let ph=0;function eg(){const t=window.devicePixelRatio;t!==ph&&(ph=t,nr.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function h1(t,e){nr.size||window.addEventListener("resize",eg),nr.set(t,e)}function f1(t){nr.delete(t),nr.size||window.removeEventListener("resize",eg)}function m1(t,e,n){const i=t.canvas,s=i&&ud(i);if(!s)return;const r=jp((a,l)=>{const c=s.clientWidth;n(a,l),c<s.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||r(c,u)});return o.observe(s),h1(t,r),o}function Ka(t,e,n){n&&n.disconnect(),e==="resize"&&f1(t)}function p1(t,e,n){const i=t.canvas,s=jp(r=>{t.ctx!==null&&n(c1(r,t))},t);return a1(i,e,s),s}class tg extends md{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(o1(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[oo])return!1;const i=n[oo].initial;["height","width"].forEach(r=>{const o=i[r];Q(o)?n.removeAttribute(r):n.setAttribute(r,o)});const s=i.style||{};return Object.keys(s).forEach(r=>{n.style[r]=s[r]}),n.width=n.width,delete n[oo],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),o={attach:d1,detach:u1,resize:m1}[n]||p1;s[n]=o(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),s=i[n];if(!s)return;({attach:Ka,detach:Ka,resize:Ka}[n]||l1)(e,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,s){return ub(e,n,i,s)}isAttached(e){const n=e&&ud(e);return!!(n&&n.isConnected)}}function ng(t){return!dd()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?qp:tg}class pt{constructor(){R(this,"x");R(this,"y");R(this,"active",!1);R(this,"options");R(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return Wi(this.x)&&Wi(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const s={};return e.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}}R(pt,"defaults",{}),R(pt,"defaultRoutes");function g1(t,e){const n=t.options.ticks,i=x1(t),s=Math.min(n.maxTicksLimit||i,i),r=n.major.enabled?v1(e):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>s)return b1(e,c,r,o/s),c;const u=y1(r,e,s);if(o>0){let h,f;const m=o>1?Math.round((l-a)/(o-1)):null;for($r(e,c,u,Q(m)?0:a-m,a),h=0,f=o-1;h<f;h++)$r(e,c,u,r[h],r[h+1]);return $r(e,c,u,l,Q(m)?e.length:l+m),c}return $r(e,c,u),c}function x1(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(i,s))}function y1(t,e,n){const i=w1(t),s=e.length/n;if(!i)return Math.max(s,1);const r=mv(i);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>s)return l}return Math.max(s,1)}function v1(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function b1(t,e,n,i){let s=0,r=n[0],o;for(i=Math.ceil(i),o=0;o<t.length;o++)o===r&&(e.push(t[o]),s++,r=n[s*i])}function $r(t,e,n,i,s){const r=X(i,0),o=Math.min(X(s,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),s&&(l=s-i,n=l/Math.floor(l/n)),u=r;u<0;)a++,u=Math.round(r+a*n);for(c=Math.max(r,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(r+a*n))}function w1(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const S1=t=>t==="left"?"right":t==="right"?"left":t,gh=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,xh=(t,e)=>Math.min(e||t,t);function yh(t,e){const n=[],i=t.length/e,s=t.length;let r=0;for(;r<s;r+=i)n.push(t[Math.floor(r)]);return n}function _1(t,e,n){const i=t.ticks.length,s=Math.min(e,i-1),r=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(s),c;if(!(n&&(i===1?c=Math.max(l-r,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(s-1))/2,l+=s<e?c:-c,l<r-a||l>o+a)))return l}function k1(t,e){ne(t,n=>{const i=n.gc,s=i.length/2;let r;if(s>e){for(r=0;r<s;++r)delete n.data[i[r]];i.splice(0,s)}})}function as(t){return t.drawTicks?t.tickLength:0}function vh(t,e){if(!t.display)return 0;const n=Ne(t.font,e),i=ze(t.padding);return(he(t.text)?t.text.length:1)*n.lineHeight+i.height}function N1(t,e){return Mn(t,{scale:e,type:"scale"})}function j1(t,e,n){return Mn(t,{tick:n,index:e,type:"tick"})}function C1(t,e,n){let i=sd(t);return(n&&e!=="right"||!n&&e==="right")&&(i=S1(i)),i}function P1(t,e,n,i){const{top:s,left:r,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let h=0,f,m,g;const x=o-s,v=a-r;if(t.isHorizontal()){if(m=Fe(i,r,a),q(n)){const p=Object.keys(n)[0],y=n[p];g=u[p].getPixelForValue(y)+x-e}else n==="center"?g=(c.bottom+c.top)/2+x-e:g=gh(t,n,e);f=a-r}else{if(q(n)){const p=Object.keys(n)[0],y=n[p];m=u[p].getPixelForValue(y)-v+e}else n==="center"?m=(c.left+c.right)/2-v+e:m=gh(t,n,e);g=Fe(i,o,s),h=n==="left"?-be:be}return{titleX:m,titleY:g,maxWidth:f,rotation:h}}class Dn extends pt{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return e=et(e,Number.POSITIVE_INFINITY),n=et(n,Number.NEGATIVE_INFINITY),i=et(i,Number.POSITIVE_INFINITY),s=et(s,Number.NEGATIVE_INFINITY),{min:et(e,i),max:et(n,s),minDefined:ye(e),maxDefined:ye(n)}}getMinMax(e){let{min:n,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),o;if(s&&r)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),s||(n=Math.min(n,o.min)),r||(i=Math.max(i,o.max));return n=r&&n>i?i:n,i=s&&n>i?n:i,{min:et(n,et(i,n)),max:et(i,et(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){se(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:s,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Hv(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?yh(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=g1(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){se(this.options.afterUpdate,[this])}beforeSetDimensions(){se(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){se(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),se(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){se(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,s,r;for(i=0,s=e.length;i<s;i++)r=e[i],r.label=se(n.callback,[r.value,i,e],this)}afterTickToLabelConversion(){se(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){se(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=xh(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,r=n.maxRotation;let o=s,a,l,c;if(!this._isVisible()||!n.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const u=this._getLabelSizes(),h=u.widest.width,f=u.highest.height,m=Ce(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/i:m/(i-1),h+6>a&&(a=m/(i-(e.offset?.5:1)),l=this.maxHeight-as(e.grid)-n.padding-vh(e.title,this.chart.options.font),c=Math.sqrt(h*h+f*f),o=nd(Math.min(Math.asin(Ce((u.highest.height+6)/a,-1,1)),Math.asin(Ce(l/c,-1,1))-Math.asin(Ce(f/c,-1,1)))),o=Math.max(s,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){se(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){se(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=vh(s,n.options.font);if(a?(e.width=this.maxWidth,e.height=as(r)+l):(e.height=this.maxHeight,e.width=as(r)+l),i.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:f}=this._getLabelSizes(),m=i.padding*2,g=wt(this.labelRotation),x=Math.cos(g),v=Math.sin(g);if(a){const p=i.mirror?0:v*h.width+x*f.height;e.height=Math.min(this.maxHeight,e.height+p+m)}else{const p=i.mirror?0:x*h.width+v*f.height;e.width=Math.min(this.maxWidth,e.width+p+m)}this._calculatePadding(c,u,v,x)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,s){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,m=0;l?c?(f=s*e.width,m=i*n.height):(f=i*e.height,m=s*n.width):r==="start"?m=n.width:r==="end"?f=e.width:r!=="inner"&&(f=e.width/2,m=n.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((m-h+o)*this.width/(this.width-h),0)}else{let u=n.height/2,h=e.height/2;r==="start"?(u=0,h=e.height):r==="end"&&(u=n.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){se(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)Q(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=yh(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:s,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(n/xh(n,i));let c=0,u=0,h,f,m,g,x,v,p,y,b,_,S;for(h=0;h<n;h+=l){if(g=e[h].label,x=this._resolveTickFontOptions(h),s.font=v=x.string,p=r[v]=r[v]||{data:{},gc:[]},y=x.lineHeight,b=_=0,!Q(g)&&!he(g))b=Ro(s,p.data,p.gc,b,g),_=y;else if(he(g))for(f=0,m=g.length;f<m;++f)S=g[f],!Q(S)&&!he(S)&&(b=Ro(s,p.data,p.gc,b,S),_+=y);o.push(b),a.push(_),c=Math.max(b,c),u=Math.max(_,u)}k1(r,n);const w=o.indexOf(c),j=a.indexOf(u),N=A=>({width:o[A]||0,height:a[A]||0});return{first:N(0),last:N(n-1),widest:N(w),highest:N(j),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return yv(this._alignToPixels?En(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=j1(this.getContext(),e,i))}return this.$context||(this.$context=N1(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=wt(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*i>a*s?a/i:l/s:l*s<a*i?l/i:a/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,s=this.options,{grid:r,position:o,border:a}=s,l=r.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),f=as(r),m=[],g=a.setContext(this.getContext()),x=g.display?g.width:0,v=x/2,p=function(G){return En(i,G,x)};let y,b,_,S,w,j,N,A,D,P,T,O;if(o==="top")y=p(this.bottom),j=this.bottom-f,A=y-v,P=p(e.top)+v,O=e.bottom;else if(o==="bottom")y=p(this.top),P=e.top,O=p(e.bottom)-v,j=y+v,A=this.top+f;else if(o==="left")y=p(this.right),w=this.right-f,N=y-v,D=p(e.left)+v,T=e.right;else if(o==="right")y=p(this.left),D=e.left,T=p(e.right)-v,w=y+v,N=this.left+f;else if(n==="x"){if(o==="center")y=p((e.top+e.bottom)/2+.5);else if(q(o)){const G=Object.keys(o)[0],K=o[G];y=p(this.chart.scales[G].getPixelForValue(K))}P=e.top,O=e.bottom,j=y+v,A=j+f}else if(n==="y"){if(o==="center")y=p((e.left+e.right)/2);else if(q(o)){const G=Object.keys(o)[0],K=o[G];y=p(this.chart.scales[G].getPixelForValue(K))}w=y-v,N=w-f,D=e.left,T=e.right}const W=X(s.ticks.maxTicksLimit,h),z=Math.max(1,Math.ceil(h/W));for(b=0;b<h;b+=z){const G=this.getContext(b),K=r.setContext(G),k=a.setContext(G),C=K.lineWidth,M=K.color,E=k.dash||[],I=k.dashOffset,H=K.tickWidth,Y=K.tickColor,fe=K.tickBorderDash||[],te=K.tickBorderDashOffset;_=_1(this,b,l),_!==void 0&&(S=En(i,_,C),c?w=N=D=T=S:j=A=P=O=S,m.push({tx1:w,ty1:j,tx2:N,ty2:A,x1:D,y1:P,x2:T,y2:O,width:C,color:M,borderDash:E,borderDashOffset:I,tickWidth:H,tickColor:Y,tickBorderDash:fe,tickBorderDashOffset:te}))}return this._ticksLength=h,this._borderValue=y,m}_computeLabelItems(e){const n=this.axis,i=this.options,{position:s,ticks:r}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=r,f=as(i.grid),m=f+u,g=h?-u:m,x=-wt(this.labelRotation),v=[];let p,y,b,_,S,w,j,N,A,D,P,T,O="middle";if(s==="top")w=this.bottom-g,j=this._getXAxisLabelAlignment();else if(s==="bottom")w=this.top+g,j=this._getXAxisLabelAlignment();else if(s==="left"){const z=this._getYAxisLabelAlignment(f);j=z.textAlign,S=z.x}else if(s==="right"){const z=this._getYAxisLabelAlignment(f);j=z.textAlign,S=z.x}else if(n==="x"){if(s==="center")w=(e.top+e.bottom)/2+m;else if(q(s)){const z=Object.keys(s)[0],G=s[z];w=this.chart.scales[z].getPixelForValue(G)+m}j=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")S=(e.left+e.right)/2-m;else if(q(s)){const z=Object.keys(s)[0],G=s[z];S=this.chart.scales[z].getPixelForValue(G)}j=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?O="top":l==="end"&&(O="bottom"));const W=this._getLabelSizes();for(p=0,y=a.length;p<y;++p){b=a[p],_=b.label;const z=r.setContext(this.getContext(p));N=this.getPixelForTick(p)+r.labelOffset,A=this._resolveTickFontOptions(p),D=A.lineHeight,P=he(_)?_.length:1;const G=P/2,K=z.color,k=z.textStrokeColor,C=z.textStrokeWidth;let M=j;o?(S=N,j==="inner"&&(p===y-1?M=this.options.reverse?"left":"right":p===0?M=this.options.reverse?"right":"left":M="center"),s==="top"?c==="near"||x!==0?T=-P*D+D/2:c==="center"?T=-W.highest.height/2-G*D+D:T=-W.highest.height+D/2:c==="near"||x!==0?T=D/2:c==="center"?T=W.highest.height/2-G*D:T=W.highest.height-P*D,h&&(T*=-1),x!==0&&!z.showLabelBackdrop&&(S+=D/2*Math.sin(x))):(w=N,T=(1-P)*D/2);let E;if(z.showLabelBackdrop){const I=ze(z.backdropPadding),H=W.heights[p],Y=W.widths[p];let fe=T-I.top,te=0-I.left;switch(O){case"middle":fe-=H/2;break;case"bottom":fe-=H;break}switch(j){case"center":te-=Y/2;break;case"right":te-=Y;break;case"inner":p===y-1?te-=Y:p>0&&(te-=Y/2);break}E={left:te,top:fe,width:Y+I.width,height:H+I.height,color:z.backdropColor}}v.push({label:_,font:A,textOffset:T,options:{rotation:x,color:K,strokeColor:k,strokeWidth:C,textAlign:M,textBaseline:O,translation:[S,w],backdrop:E}})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-wt(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,o=this._getLabelSizes(),a=e+r,l=o.widest.width;let c,u;return n==="left"?s?(u=this.right+r,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?s?(u=this.left+r,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:s,width:r,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,s,r,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(r=>r.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const a=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(r=0,o=s.length;r<o;++r){const l=s[r];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:s}}=this,r=i.setContext(this.getContext()),o=i.display?r.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,f;this.isHorizontal()?(c=En(e,this.left,o)-o/2,u=En(e,this.right,a)+a/2,h=f=l):(h=En(e,this.top,o)-o/2,f=En(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(c,h),n.lineTo(u,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&oa(i,s);const r=this.getLabelItems(e);for(const o of r){const a=o.options,l=o.font,c=o.label,u=o.textOffset;ni(i,c,0,u,l,a)}s&&aa(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const r=Ne(i.font),o=ze(i.padding),a=i.align;let l=r.lineHeight/2;n==="bottom"||n==="center"||q(n)?(l+=o.bottom,he(i.text)&&(l+=r.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:f}=P1(this,l,n,a);ni(e,i.text,0,0,r,{color:i.color,maxWidth:h,rotation:f,textAlign:C1(a,n,s),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=X(e.grid&&e.grid.z,-1),s=X(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Dn.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];a[i]===this.id&&(!e||a.type===e)&&s.push(a)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Ne(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Wr{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;A1(n)&&(i=this.register(n));const s=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in s||(s[r]=e,M1(e,o,i),this.override&&de.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,s=this.scope;i in n&&delete n[i],s&&i in de[s]&&(delete de[s][i],this.override&&delete ti[i])}}function M1(t,e,n){const i=Zs(Object.create(null),[n?de.get(n):{},de.get(e),t.defaults]);de.set(e,i),t.defaultRoutes&&D1(e,t.defaultRoutes),t.descriptors&&de.describe(e,t.descriptors)}function D1(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),s=i.pop(),r=[t].concat(i).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");de.route(r,s,l,a)})}function A1(t){return"id"in t&&"defaults"in t}class T1{constructor(){this.controllers=new Wr(ht,"datasets",!0),this.elements=new Wr(pt,"elements"),this.plugins=new Wr(Object,"plugins"),this.scales=new Wr(Dn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(e,r,s):ne(s,o=>{const a=i||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,i){const s=td(e);se(i["before"+s],[],i),n[e](i),se(i["after"+s],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return s}}var yt=new T1;class L1{constructor(){this._init=void 0}notify(e,n,i,s){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const r=s?this._descriptors(e).filter(s):this._descriptors(e),o=this._notify(r,e,n,i);return n==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),o}_notify(e,n,i,s){s=s||{};for(const r of e){const o=r.plugin,a=o[i],l=[n,s,r.options];if(se(a,l,o)===!1&&s.cancelable)return!1}return!0}invalidate(){Q(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,s=X(i.options&&i.options.plugins,{}),r=E1(i);return s===!1&&!n?[]:R1(e,r,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,s=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(s(n,i),e,"stop"),this._notify(s(i,n),e,"start")}}function E1(t){const e={},n=[],i=Object.keys(yt.plugins.items);for(let r=0;r<i.length;r++)n.push(yt.getPlugin(i[r]));const s=t.plugins||[];for(let r=0;r<s.length;r++){const o=s[r];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function F1(t,e){return!e&&t===!1?null:t===!0?{}:t}function R1(t,{plugins:e,localIds:n},i,s){const r=[],o=t.getContext();for(const a of e){const l=a.id,c=F1(i[l],s);c!==null&&r.push({plugin:a,options:I1(t.config,{plugin:a,local:n[l]},c,o)})}return r}function I1(t,{plugin:e,local:n},i,s){const r=t.pluginScopeKeys(e),o=t.getOptionScopes(i,r);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Zl(t,e){const n=de.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function O1(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function z1(t,e){return t===e?"_index_":"_value_"}function bh(t){if(t==="x"||t==="y"||t==="r")return t}function B1(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function ql(t,...e){if(bh(t))return t;for(const n of e){const i=n.axis||B1(n.position)||t.length>1&&bh(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function wh(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function $1(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return wh(t,"x",n[0])||wh(t,"y",n[0])}return{}}function W1(t,e){const n=ti[t.type]||{scales:{}},i=e.scales||{},s=Zl(t.type,e),r=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!q(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=ql(o,a,$1(o,t),de.scales[a.type]),c=z1(l,s),u=n.scales||{};r[o]=js(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||Zl(a,e),u=(ti[a]||{}).scales||{};Object.keys(u).forEach(h=>{const f=O1(h,l),m=o[f+"AxisID"]||f;r[m]=r[m]||Object.create(null),js(r[m],[{axis:f},i[m],u[h]])})}),Object.keys(r).forEach(o=>{const a=r[o];js(a,[de.scales[a.type],de.scale])}),r}function ig(t){const e=t.options||(t.options={});e.plugins=X(e.plugins,{}),e.scales=W1(t,e)}function sg(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function H1(t){return t=t||{},t.data=sg(t.data),ig(t),t}const Sh=new Map,rg=new Set;function Hr(t,e){let n=Sh.get(t);return n||(n=e(),Sh.set(t,n),rg.add(n)),n}const ls=(t,e,n)=>{const i=kn(e,n);i!==void 0&&t.add(i)};class V1{constructor(e){this._config=H1(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=sg(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),ig(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Hr(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Hr(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Hr(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return Hr(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let s=i.get(e);return(!s||n)&&(s=new Map,i.set(e,s)),s}getOptionScopes(e,n,i){const{options:s,type:r}=this,o=this._cachedScopes(e,i),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(h=>ls(l,e,h))),u.forEach(h=>ls(l,s,h)),u.forEach(h=>ls(l,ti[r]||{},h)),u.forEach(h=>ls(l,de,h)),u.forEach(h=>ls(l,Kl,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),rg.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,ti[n]||{},de.datasets[n]||{},{type:n},de,Kl]}resolveNamedOptions(e,n,i,s=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=_h(this._resolverCache,e,s);let l=o;if(G1(o,n)){r.$shared=!1,i=Nn(i)?i():i;const c=this.createResolver(e,i,a);l=Hi(o,i,c)}for(const c of n)r[c]=l[c];return r}createResolver(e,n,i=[""],s){const{resolver:r}=_h(this._resolverCache,e,i);return q(n)?Hi(r,n,void 0,s):r}}function _h(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const s=n.join();let r=i.get(s);return r||(r={resolver:ad(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(s,r)),r}const U1=t=>q(t)&&Object.getOwnPropertyNames(t).some(e=>Nn(t[e]));function G1(t,e){const{isScriptable:n,isIndexable:i}=Tp(t);for(const s of e){const r=n(s),o=i(s),a=(o||r)&&t[s];if(r&&(Nn(a)||U1(a))||o&&he(a))return!0}return!1}var Y1="4.5.1";const X1=["top","bottom","left","right","chartArea"];function kh(t,e){return t==="top"||t==="bottom"||X1.indexOf(t)===-1&&e==="x"}function Nh(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function jh(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),se(n&&n.onComplete,[t],e)}function K1(t){const e=t.chart,n=e.options.animation;se(n&&n.onProgress,[t],e)}function og(t){return dd()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const ao={},Ch=t=>{const e=og(t);return Object.values(ao).filter(n=>n.canvas===e).pop()};function Q1(t,e,n){const i=Object.keys(t);for(const s of i){const r=+s;if(r>=e){const o=t[s];delete t[s],(n>0||r>e)&&(t[r+n]=o)}}}function Z1(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}var en;let mr=(en=class{static register(...e){yt.add(...e),Ph()}static unregister(...e){yt.remove(...e),Ph()}constructor(e,n){const i=this.config=new V1(n),s=og(e),r=Ch(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||ng(s)),this.platform.updateConfig(i);const a=this.platform.acquireContext(s,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=rv(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new L1,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Sv(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],ao[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Pt.listen(this,"complete",jh),Pt.listen(this,"progress",K1),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:s,_aspectRatio:r}=this;return Q(e)?n&&r?r:s?i/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return yt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Qu(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Yu(this.canvas,this.ctx),this}stop(){return Pt.stop(this),this}resize(e,n){Pt.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,e,n,r),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Qu(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),se(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};ne(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,s=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const a=n[o],l=ql(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),ne(r,o=>{const a=o.options,l=a.id,c=ql(l,a),u=X(a.type,o.dtype);(a.position===void 0||kh(a.position,c)!==kh(o.dposition))&&(a.position=o.dposition),s[l]=!0;let h=null;if(l in i&&i[l].type===u)h=i[l];else{const f=yt.getScale(u);h=new f({id:l,type:u,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(a,e)}),ne(s,(o,a)=>{o||delete i[a]}),ne(i,o=>{De.configure(this,o,o.options),De.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((s,r)=>s.index-r.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(Nh("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,s)=>{n.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const r=n[i];let o=this.getDatasetMeta(i);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=r.indexAxis||Zl(a,this.options),o.order=r.order||0,o.index=i,o.label=""+r.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=yt.getController(a),{datasetElementType:c,dataElementType:u}=de.datasets[a];Object.assign(l,{dataElementType:yt.getElement(u),datasetElementType:c&&yt.getElement(c)}),o.controller=new l(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){ne(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),f=!s&&r.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),s||ne(r,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Nh("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){ne(this.scales,e=>{De.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!Ou(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of n){const o=i==="_removeElements"?-r:r;Q1(e,s,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=r=>new Set(e.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),s=i(0);for(let r=1;r<n;r++)if(!Ou(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;De.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],ne(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Nn(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),s={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Pt.has(this)?this.attached&&!Pt.running(this)&&Pt.start(this):(this.draw(),jh({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let s,r;for(s=0,r=n.length;s<r;++s){const o=n[s];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i={meta:e,index:e.index,cancelable:!0},s=Hp(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&oa(n,s),e.controller.draw(),s&&aa(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return Ht(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,s){const r=Kp.modes[n];return typeof r=="function"?r(this,e,i,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let s=i.filter(r=>r&&r._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Mn(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const s=i?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,s);qs(n)?(r.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(r,{visible:i}),this.update(a=>a.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Pt.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Yu(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete ao[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(r,o)=>{n.addEventListener(this,r,o),e[r]=o},s=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};ne(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},s=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),i("resize",r),i("detach",o)};o=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){ne(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},ne(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const s=i?"set":"remove";let r,o,a,l;for(n==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!Lo(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const s=this.options.hover,r=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=r(n,e),a=i?e:r(e,n);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const r=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:s=[],options:r}=this,o=n,a=this._getActiveElements(e,s,i,o),l=uv(e),c=Z1(e,this._lastEvent,i,l);i&&(this._lastEvent=null,se(r.onHover,[e,a,this],this),l&&se(r.onClick,[e,a,this],this));const u=!Lo(a,s);return(u||n)&&(this._active=a,this._updateHoverStyles(a,s,n)),this._lastEvent=c,u}_getActiveElements(e,n,i,s){if(e.type==="mouseout")return[];if(!i)return n;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,s)}},R(en,"defaults",de),R(en,"instances",ao),R(en,"overrides",ti),R(en,"registry",yt),R(en,"version",Y1),R(en,"getChart",Ch),en);function Ph(){return ne(mr.instances,t=>t._plugins.invalidate())}function q1(t,e,n){const{startAngle:i,x:s,y:r,outerRadius:o,innerRadius:a,options:l}=e,{borderWidth:c,borderJoinStyle:u}=l,h=Math.min(c/o,Re(i-n));if(t.beginPath(),t.arc(s,r,o-c/2,i+h/2,n-h/2),a>0){const f=Math.min(c/a,Re(i-n));t.arc(s,r,a+c/2,n-f/2,i+f/2,!0)}else{const f=Math.min(c/2,o*Re(i-n));if(u==="round")t.arc(s,r,f,n-ee/2,i+ee/2,!0);else if(u==="bevel"){const m=2*f*f,g=-m*Math.cos(n+ee/2)+s,x=-m*Math.sin(n+ee/2)+r,v=m*Math.cos(i+ee/2)+s,p=m*Math.sin(i+ee/2)+r;t.lineTo(g,x),t.lineTo(v,p)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function J1(t,e,n){const{startAngle:i,pixelMargin:s,x:r,y:o,outerRadius:a,innerRadius:l}=e;let c=s/a;t.beginPath(),t.arc(r,o,a,i-c,n+c),l>s?(c=s/l,t.arc(r,o,l,n+c,i-c,!0)):t.arc(r,o,s,n+be,i-be),t.closePath(),t.clip()}function ew(t){return od(t,["outerStart","outerEnd","innerStart","innerEnd"])}function tw(t,e,n,i){const s=ew(t.options.borderRadius),r=(n-e)/2,o=Math.min(r,i*e/2),a=l=>{const c=(n-Math.min(r,l))*i/2;return Ce(l,0,Math.min(r,c))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:Ce(s.innerStart,0,o),innerEnd:Ce(s.innerEnd,0,o)}}function ci(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function zo(t,e,n,i,s,r){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,h=Math.max(e.outerRadius+i+n-c,0),f=u>0?u+i+n+c:0;let m=0;const g=s-l;if(i){const z=u>0?u-i:0,G=h>0?h-i:0,K=(z+G)/2,k=K!==0?g*K/(K+i):g;m=(g-k)/2}const x=Math.max(.001,g*h-n/ee)/h,v=(g-x)/2,p=l+v+m,y=s-v-m,{outerStart:b,outerEnd:_,innerStart:S,innerEnd:w}=tw(e,f,h,y-p),j=h-b,N=h-_,A=p+b/j,D=y-_/N,P=f+S,T=f+w,O=p+S/P,W=y-w/T;if(t.beginPath(),r){const z=(A+D)/2;if(t.arc(o,a,h,A,z),t.arc(o,a,h,z,D),_>0){const C=ci(N,D,o,a);t.arc(C.x,C.y,_,D,y+be)}const G=ci(T,y,o,a);if(t.lineTo(G.x,G.y),w>0){const C=ci(T,W,o,a);t.arc(C.x,C.y,w,y+be,W+Math.PI)}const K=(y-w/f+(p+S/f))/2;if(t.arc(o,a,f,y-w/f,K,!0),t.arc(o,a,f,K,p+S/f,!0),S>0){const C=ci(P,O,o,a);t.arc(C.x,C.y,S,O+Math.PI,p-be)}const k=ci(j,p,o,a);if(t.lineTo(k.x,k.y),b>0){const C=ci(j,A,o,a);t.arc(C.x,C.y,b,p-be,A)}}else{t.moveTo(o,a);const z=Math.cos(A)*h+o,G=Math.sin(A)*h+a;t.lineTo(z,G);const K=Math.cos(D)*h+o,k=Math.sin(D)*h+a;t.lineTo(K,k)}t.closePath()}function nw(t,e,n,i,s){const{fullCircles:r,startAngle:o,circumference:a}=e;let l=e.endAngle;if(r){zo(t,e,n,i,l,s);for(let c=0;c<r;++c)t.fill();isNaN(a)||(l=o+(a%ce||ce))}return zo(t,e,n,i,l,s),t.fill(),l}function iw(t,e,n,i,s){const{fullCircles:r,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:f,borderRadius:m}=l,g=l.borderAlign==="inner";if(!c)return;t.setLineDash(h||[]),t.lineDashOffset=f,g?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let x=e.endAngle;if(r){zo(t,e,n,i,x,s);for(let v=0;v<r;++v)t.stroke();isNaN(a)||(x=o+(a%ce||ce))}g&&J1(t,e,x),l.selfJoin&&x-o>=ee&&m===0&&u!=="miter"&&q1(t,e,x),r||(zo(t,e,n,i,x,s),t.stroke())}class Un extends pt{constructor(n){super();R(this,"circumference");R(this,"endAngle");R(this,"fullCircles");R(this,"innerRadius");R(this,"outerRadius");R(this,"pixelMargin");R(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,s){const r=this.getProps(["x","y"],s),{angle:o,distance:a}=Sp(r,{x:n,y:i}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:h,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),m=(this.options.spacing+this.options.borderWidth)/2,g=X(f,c-l),x=Js(o,l,c)&&l!==c,v=g>=ce||x,p=$t(a,u+m,h+m);return v&&p}getCenterPoint(n){const{x:i,y:s,startAngle:r,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:u}=this.options,h=(r+o)/2,f=(a+l+u+c)/2;return{x:i+Math.cos(h)*f,y:s+Math.sin(h)*f}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:s}=this,r=(i.offset||0)/4,o=(i.spacing||0)/2,a=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=s>ce?Math.floor(s/ce):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*r,Math.sin(l)*r);const c=1-Math.sin(Math.min(ee,s||0)),u=r*c;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,nw(n,this,u,o,a),iw(n,this,u,o,a),n.restore()}}R(Un,"id","arc"),R(Un,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),R(Un,"defaultRoutes",{backgroundColor:"backgroundColor"}),R(Un,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function ag(t,e,n=e){t.lineCap=X(n.borderCapStyle,e.borderCapStyle),t.setLineDash(X(n.borderDash,e.borderDash)),t.lineDashOffset=X(n.borderDashOffset,e.borderDashOffset),t.lineJoin=X(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=X(n.borderWidth,e.borderWidth),t.strokeStyle=X(n.borderColor,e.borderColor)}function sw(t,e,n){t.lineTo(n.x,n.y)}function rw(t){return t.stepped?Ev:t.tension||t.cubicInterpolationMode==="monotone"?Fv:sw}function lg(t,e,n={}){const i=t.length,{start:s=0,end:r=i-1}=n,{start:o,end:a}=e,l=Math.max(s,o),c=Math.min(r,a),u=s<o&&r<o||s>a&&r>a;return{count:i,start:l,loop:e.loop,ilen:c<l&&!u?i+c-l:c-l}}function ow(t,e,n,i){const{points:s,options:r}=e,{count:o,start:a,loop:l,ilen:c}=lg(s,n,i),u=rw(r);let{move:h=!0,reverse:f}=i||{},m,g,x;for(m=0;m<=c;++m)g=s[(a+(f?c-m:m))%o],!g.skip&&(h?(t.moveTo(g.x,g.y),h=!1):u(t,x,g,f,r.stepped),x=g);return l&&(g=s[(a+(f?c:0))%o],u(t,x,g,f,r.stepped)),!!l}function aw(t,e,n,i){const s=e.points,{count:r,start:o,ilen:a}=lg(s,n,i),{move:l=!0,reverse:c}=i||{};let u=0,h=0,f,m,g,x,v,p;const y=_=>(o+(c?a-_:_))%r,b=()=>{x!==v&&(t.lineTo(u,v),t.lineTo(u,x),t.lineTo(u,p))};for(l&&(m=s[y(0)],t.moveTo(m.x,m.y)),f=0;f<=a;++f){if(m=s[y(f)],m.skip)continue;const _=m.x,S=m.y,w=_|0;w===g?(S<x?x=S:S>v&&(v=S),u=(h*u+_)/++h):(b(),t.lineTo(_,S),g=w,h=0,x=v=S),p=S}b()}function Jl(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?aw:ow}function lw(t){return t.stepped?fb:t.tension||t.cubicInterpolationMode==="monotone"?mb:Bn}function cw(t,e,n,i){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,i)&&s.closePath()),ag(t,e.options),t.stroke(s)}function dw(t,e,n,i){const{segments:s,options:r}=e,o=Jl(e);for(const a of s)ag(t,r,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const uw=typeof Path2D=="function";function hw(t,e,n,i){uw&&!e.options.segment?cw(t,e,n,i):dw(t,e,n,i)}class Dt extends pt{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;rb(this._points,i,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=bb(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,s=e[n],r=this.points,o=Wp(this,{property:n,start:s,end:s});if(!o.length)return;const a=[],l=lw(i);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:f}=o[c],m=r[h],g=r[f];if(m===g){a.push(m);continue}const x=Math.abs((s-m[n])/(g[n]-m[n])),v=l(m,g,x,i.stepped);v[n]=e[n],a.push(v)}return a.length===1?a[0]:a}pathSegment(e,n,i){return Jl(this)(e,this,n,i)}path(e,n,i){const s=this.segments,r=Jl(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const a of s)o&=r(e,this,a,{start:n,end:n+i-1});return!!o}draw(e,n,i,s){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),hw(e,this,i,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}R(Dt,"id","line"),R(Dt,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),R(Dt,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),R(Dt,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Mh(t,e,n,i){const s=t.options,{[n]:r}=t.getProps([n],i);return Math.abs(e-r)<s.radius+s.hitRadius}class Li extends pt{constructor(n){super();R(this,"parsed");R(this,"skip");R(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,s){const r=this.options,{x:o,y:a}=this.getProps(["x","y"],s);return Math.pow(n-o,2)+Math.pow(i-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(n,i){return Mh(this,n,"x",i)}inYRange(n,i){return Mh(this,n,"y",i)}getCenterPoint(n){const{x:i,y:s}=this.getProps(["x","y"],n);return{x:i,y:s}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const s=i&&n.borderWidth||0;return(i+s)*2}draw(n,i){const s=this.options;this.skip||s.radius<.1||!Ht(this,i,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,Ql(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}R(Li,"id","point"),R(Li,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),R(Li,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function cg(t,e){const{x:n,y:i,base:s,width:r,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,h;return t.horizontal?(h=o/2,a=Math.min(n,s),l=Math.max(n,s),c=i-h,u=i+h):(h=r/2,a=n-h,l=n+h,c=Math.min(i,s),u=Math.max(i,s)),{left:a,top:c,right:l,bottom:u}}function hn(t,e,n,i){return t?0:Ce(e,n,i)}function fw(t,e,n){const i=t.options.borderWidth,s=t.borderSkipped,r=Ap(i);return{t:hn(s.top,r.top,0,n),r:hn(s.right,r.right,0,e),b:hn(s.bottom,r.bottom,0,n),l:hn(s.left,r.left,0,e)}}function mw(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,r=Xn(s),o=Math.min(e,n),a=t.borderSkipped,l=i||q(s);return{topLeft:hn(!l||a.top||a.left,r.topLeft,0,o),topRight:hn(!l||a.top||a.right,r.topRight,0,o),bottomLeft:hn(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:hn(!l||a.bottom||a.right,r.bottomRight,0,o)}}function pw(t){const e=cg(t),n=e.right-e.left,i=e.bottom-e.top,s=fw(t,n/2,i/2),r=mw(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:r},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function Qa(t,e,n,i){const s=e===null,r=n===null,a=t&&!(s&&r)&&cg(t,i);return a&&(s||$t(e,a.left,a.right))&&(r||$t(n,a.top,a.bottom))}function gw(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function xw(t,e){t.rect(e.x,e.y,e.w,e.h)}function Za(t,e,n={}){const i=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,r=(t.x+t.w!==n.x+n.w?e:0)-i,o=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+i,y:t.y+s,w:t.w+r,h:t.h+o,radius:t.radius}}class Ei extends pt{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:r,outer:o}=pw(this),a=gw(o.radius)?er:xw;e.save(),(o.w!==r.w||o.h!==r.h)&&(e.beginPath(),a(e,Za(o,n,r)),e.clip(),a(e,Za(r,-n,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),a(e,Za(r,n)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,n,i){return Qa(this,e,n,i)}inXRange(e,n){return Qa(this,e,null,n)}inYRange(e,n){return Qa(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(n+s)/2:n,y:r?i:(i+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}R(Ei,"id","bar"),R(Ei,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),R(Ei,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var dg=Object.freeze({__proto__:null,ArcElement:Un,BarElement:Ei,LineElement:Dt,PointElement:Li});const ec=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Dh=ec.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function ug(t){return ec[t%ec.length]}function hg(t){return Dh[t%Dh.length]}function yw(t,e){return t.borderColor=ug(e),t.backgroundColor=hg(e),++e}function vw(t,e){return t.backgroundColor=t.data.map(()=>ug(e++)),e}function bw(t,e){return t.backgroundColor=t.data.map(()=>hg(e++)),e}function ww(t){let e=0;return(n,i)=>{const s=t.getDatasetMeta(i).controller;s instanceof un?e=vw(n,e):s instanceof Ti?e=bw(n,e):s&&(e=yw(n,e))}}function Ah(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function Sw(t){return t&&(t.borderColor||t.backgroundColor)}function _w(){return de.borderColor!=="rgba(0,0,0,0.1)"||de.backgroundColor!=="rgba(0,0,0,0.1)"}var fg={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:i},options:s}=t.config,{elements:r}=s,o=Ah(i)||Sw(s)||r&&Ah(r)||_w();if(!n.forceOverride&&o)return;const a=ww(t);i.forEach(a)}};function kw(t,e,n,i,s){const r=s.samples||i;if(r>=n)return t.slice(e,e+n);const o=[],a=(n-2)/(r-2);let l=0;const c=e+n-1;let u=e,h,f,m,g,x;for(o[l++]=t[u],h=0;h<r-2;h++){let v=0,p=0,y;const b=Math.floor((h+1)*a)+1+e,_=Math.min(Math.floor((h+2)*a)+1,n)+e,S=_-b;for(y=b;y<_;y++)v+=t[y].x,p+=t[y].y;v/=S,p/=S;const w=Math.floor(h*a)+1+e,j=Math.min(Math.floor((h+1)*a)+1,n)+e,{x:N,y:A}=t[u];for(m=g=-1,y=w;y<j;y++)g=.5*Math.abs((N-v)*(t[y].y-A)-(N-t[y].x)*(p-A)),g>m&&(m=g,f=t[y],x=y);o[l++]=f,u=x}return o[l++]=t[c],o}function Nw(t,e,n,i){let s=0,r=0,o,a,l,c,u,h,f,m,g,x;const v=[],p=e+n-1,y=t[e].x,_=t[p].x-y;for(o=e;o<e+n;++o){a=t[o],l=(a.x-y)/_*i,c=a.y;const S=l|0;if(S===u)c<g?(g=c,h=o):c>x&&(x=c,f=o),s=(r*s+a.x)/++r;else{const w=o-1;if(!Q(h)&&!Q(f)){const j=Math.min(h,f),N=Math.max(h,f);j!==m&&j!==w&&v.push({...t[j],x:s}),N!==m&&N!==w&&v.push({...t[N],x:s})}o>0&&w!==m&&v.push(t[w]),v.push(a),u=S,r=0,g=x=c,h=f=m=o}}return v}function mg(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function Th(t){t.data.datasets.forEach(e=>{mg(e)})}function jw(t,e){const n=e.length;let i=0,s;const{iScale:r}=t,{min:o,max:a,minDefined:l,maxDefined:c}=r.getUserBounds();return l&&(i=Ce(Wt(e,r.axis,o).lo,0,n-1)),c?s=Ce(Wt(e,r.axis,a).hi+1,i,n)-i:s=n-i,{start:i,count:s}}var pg={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){Th(t);return}const i=t.width;t.data.datasets.forEach((s,r)=>{const{_data:o,indexAxis:a}=s,l=t.getDatasetMeta(r),c=o||s.data;if(ms([a,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=t.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||t.options.parsing)return;let{start:h,count:f}=jw(l,c);const m=n.threshold||4*i;if(f<=m){mg(s);return}Q(o)&&(s._data=c,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(x){this._data=x}}));let g;switch(n.algorithm){case"lttb":g=kw(c,h,f,i,n);break;case"min-max":g=Nw(c,h,f,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}s._decimated=g})},destroy(t){Th(t)}};function Cw(t,e,n){const i=t.segments,s=t.points,r=e.points,o=[];for(const a of i){let{start:l,end:c}=a;c=da(l,c,s);const u=tc(n,s[l],s[c],a.loop);if(!e.segments){o.push({source:a,target:u,start:s[l],end:s[c]});continue}const h=Wp(e,u);for(const f of h){const m=tc(n,r[f.start],r[f.end],f.loop),g=$p(a,s,m);for(const x of g)o.push({source:x,target:f,start:{[n]:Lh(u,m,"start",Math.max)},end:{[n]:Lh(u,m,"end",Math.min)}})}}return o}function tc(t,e,n,i){if(i)return;let s=e[t],r=n[t];return t==="angle"&&(s=Re(s),r=Re(r)),{property:t,start:s,end:r}}function Pw(t,e){const{x:n=null,y:i=null}=t||{},s=e.points,r=[];return e.segments.forEach(({start:o,end:a})=>{a=da(o,a,s);const l=s[o],c=s[a];i!==null?(r.push({x:l.x,y:i}),r.push({x:c.x,y:i})):n!==null&&(r.push({x:n,y:l.y}),r.push({x:n,y:c.y}))}),r}function da(t,e,n){for(;e>t;e--){const i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function Lh(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function gg(t,e){let n=[],i=!1;return he(t)?(i=!0,n=t):n=Pw(t,e),n.length?new Dt({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function Eh(t){return t&&t.fill!==!1}function Mw(t,e,n){let s=t[e].fill;const r=[e];let o;if(!n)return s;for(;s!==!1&&r.indexOf(s)===-1;){if(!ye(s))return s;if(o=t[s],!o)return!1;if(o.visible)return s;r.push(s),s=o.fill}return!1}function Dw(t,e,n){const i=Ew(t);if(q(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return ye(s)&&Math.floor(s)===s?Aw(i[0],e,s,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function Aw(t,e,n,i){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=i?!1:n}function Tw(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:q(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function Lw(t,e,n){let i;return t==="start"?i=n:t==="end"?i=e.options.reverse?e.min:e.max:q(t)?i=t.value:i=e.getBaseValue(),i}function Ew(t){const e=t.options,n=e.fill;let i=X(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function Fw(t){const{scale:e,index:n,line:i}=t,s=[],r=i.segments,o=i.points,a=Rw(e,n);a.push(gg({x:null,y:e.bottom},i));for(let l=0;l<r.length;l++){const c=r[l];for(let u=c.start;u<=c.end;u++)Iw(s,o[u],a)}return new Dt({points:s,options:{}})}function Rw(t,e){const n=[],i=t.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const r=i[s];if(r.index===e)break;r.hidden||n.unshift(r.dataset)}return n}function Iw(t,e,n){const i=[];for(let s=0;s<n.length;s++){const r=n[s],{first:o,last:a,point:l}=Ow(r,e,"x");if(!(!l||o&&a)){if(o)i.unshift(l);else if(t.push(l),!a)break}}t.push(...i)}function Ow(t,e,n){const i=t.interpolate(e,n);if(!i)return{};const s=i[n],r=t.segments,o=t.points;let a=!1,l=!1;for(let c=0;c<r.length;c++){const u=r[c],h=o[u.start][n],f=o[u.end][n];if($t(s,h,f)){a=s===h,l=s===f;break}}return{first:a,last:l,point:i}}class xg{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){const{x:s,y:r,radius:o}=this;return n=n||{start:0,end:ce},e.arc(s,r,o,n.end,n.start,!0),!i.bounds}interpolate(e){const{x:n,y:i,radius:s}=this,r=e.angle;return{x:n+Math.cos(r)*s,y:i+Math.sin(r)*s,angle:r}}}function zw(t){const{chart:e,fill:n,line:i}=t;if(ye(n))return Bw(e,n);if(n==="stack")return Fw(t);if(n==="shape")return!0;const s=$w(t);return s instanceof xg?s:gg(s,i)}function Bw(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function $w(t){return(t.scale||{}).getPointPositionForValue?Hw(t):Ww(t)}function Ww(t){const{scale:e={},fill:n}=t,i=Tw(n,e);if(ye(i)){const s=e.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function Hw(t){const{scale:e,fill:n}=t,i=e.options,s=e.getLabels().length,r=i.reverse?e.max:e.min,o=Lw(n,e,r),a=[];if(i.grid.circular){const l=e.getPointPositionForValue(0,r);return new xg({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<s;++l)a.push(e.getPointPositionForValue(l,o));return a}function qa(t,e,n){const i=zw(e),{chart:s,index:r,line:o,scale:a,axis:l}=e,c=o.options,u=c.fill,h=c.backgroundColor,{above:f=h,below:m=h}=u||{},g=s.getDatasetMeta(r),x=Hp(s,g);i&&o.points.length&&(oa(t,n),Vw(t,{line:o,target:i,above:f,below:m,area:n,scale:a,axis:l,clip:x}),aa(t))}function Vw(t,e){const{line:n,target:i,above:s,below:r,area:o,scale:a,clip:l}=e,c=n._loop?"angle":e.axis;t.save();let u=r;r!==s&&(c==="x"?(Fh(t,i,o.top),Ja(t,{line:n,target:i,color:s,scale:a,property:c,clip:l}),t.restore(),t.save(),Fh(t,i,o.bottom)):c==="y"&&(Rh(t,i,o.left),Ja(t,{line:n,target:i,color:r,scale:a,property:c,clip:l}),t.restore(),t.save(),Rh(t,i,o.right),u=s)),Ja(t,{line:n,target:i,color:u,scale:a,property:c,clip:l}),t.restore()}function Fh(t,e,n){const{segments:i,points:s}=e;let r=!0,o=!1;t.beginPath();for(const a of i){const{start:l,end:c}=a,u=s[l],h=s[da(l,c,s)];r?(t.moveTo(u.x,u.y),r=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(h.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function Rh(t,e,n){const{segments:i,points:s}=e;let r=!0,o=!1;t.beginPath();for(const a of i){const{start:l,end:c}=a,u=s[l],h=s[da(l,c,s)];r?(t.moveTo(u.x,u.y),r=!1):(t.lineTo(n,u.y),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(n,h.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function Ja(t,e){const{line:n,target:i,property:s,color:r,scale:o,clip:a}=e,l=Cw(n,i,s);for(const{source:c,target:u,start:h,end:f}of l){const{style:{backgroundColor:m=r}={}}=c,g=i!==!0;t.save(),t.fillStyle=m,Uw(t,o,a,g&&tc(s,h,f)),t.beginPath();const x=!!n.pathSegment(t,c);let v;if(g){x?t.closePath():Ih(t,i,f,s);const p=!!i.pathSegment(t,u,{move:x,reverse:!0});v=x&&p,v||Ih(t,i,h,s)}t.closePath(),t.fill(v?"evenodd":"nonzero"),t.restore()}}function Uw(t,e,n,i){const s=e.chart.chartArea,{property:r,start:o,end:a}=i||{};if(r==="x"||r==="y"){let l,c,u,h;r==="x"?(l=o,c=s.top,u=a,h=s.bottom):(l=s.left,c=o,u=s.right,h=a),t.beginPath(),n&&(l=Math.max(l,n.left),u=Math.min(u,n.right),c=Math.max(c,n.top),h=Math.min(h,n.bottom)),t.rect(l,c,u-l,h-c),t.clip()}}function Ih(t,e,n,i){const s=e.interpolate(n,i);s&&t.lineTo(s.x,s.y)}var yg={id:"filler",afterDatasetsUpdate(t,e,n){const i=(t.data.datasets||[]).length,s=[];let r,o,a,l;for(o=0;o<i;++o)r=t.getDatasetMeta(o),a=r.dataset,l=null,a&&a.options&&a instanceof Dt&&(l={visible:t.isDatasetVisible(o),index:o,fill:Dw(a,o,i),chart:t,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,s.push(l);for(o=0;o<i;++o)l=s[o],!(!l||l.fill===!1)&&(l.fill=Mw(s,o,n.propagate))},beforeDraw(t,e,n){const i=n.drawTime==="beforeDraw",s=t.getSortedVisibleDatasetMetas(),r=t.chartArea;for(let o=s.length-1;o>=0;--o){const a=s[o].$filler;a&&(a.line.updateControlPoints(r,a.axis),i&&a.fill&&qa(t.ctx,a,r))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=t.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const r=i[s].$filler;Eh(r)&&qa(t.ctx,r,t.chartArea)}},beforeDatasetDraw(t,e,n){const i=e.meta.$filler;!Eh(i)||n.drawTime!=="beforeDatasetDraw"||qa(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Oh=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},Gw=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class zh extends pt{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=se(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,s)=>e.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,s=Ne(i.font),r=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Oh(i,r);let c,u;n.font=s.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,r,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,s,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,s){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=s+a;let h=e;r.textAlign="left",r.textBaseline="middle";let f=-1,m=-u;return this.legendItems.forEach((g,x)=>{const v=i+n/2+r.measureText(g.text).width;(x===0||c[c.length-1]+v+2*a>o)&&(h+=u,c[c.length-(x>0?0:1)]=0,m+=u,f++),l[x]={left:0,top:m,row:f,width:v,height:s},c[c.length-1]+=v+a}),h}_fitCols(e,n,i,s){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let h=a,f=0,m=0,g=0,x=0;return this.legendItems.forEach((v,p)=>{const{itemWidth:y,itemHeight:b}=Yw(i,n,r,v,s);p>0&&m+b+2*a>u&&(h+=f+a,c.push({width:f,height:m}),g+=f+a,x++,f=m=0),l[p]={left:g,top:m,col:x,width:y,height:b},f=Math.max(f,y),m+=b+a}),h+=f,c.push({width:f,height:m}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:r}}=this,o=Mi(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=Fe(i,this.left+s,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=Fe(i,this.left+s,this.right-this.lineWidths[a])),c.top+=this.top+e+s,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+s}else{let a=0,l=Fe(i,this.top+e+s,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=Fe(i,this.top+e+s,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+s,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;oa(e,this),this._draw(),aa(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:s}=this,{align:r,labels:o}=e,a=de.color,l=Mi(e.rtl,this.left,this.width),c=Ne(o.font),{padding:u}=o,h=c.size,f=h/2;let m;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:g,boxHeight:x,itemHeight:v}=Oh(o,h),p=function(w,j,N){if(isNaN(g)||g<=0||isNaN(x)||x<0)return;s.save();const A=X(N.lineWidth,1);if(s.fillStyle=X(N.fillStyle,a),s.lineCap=X(N.lineCap,"butt"),s.lineDashOffset=X(N.lineDashOffset,0),s.lineJoin=X(N.lineJoin,"miter"),s.lineWidth=A,s.strokeStyle=X(N.strokeStyle,a),s.setLineDash(X(N.lineDash,[])),o.usePointStyle){const D={radius:x*Math.SQRT2/2,pointStyle:N.pointStyle,rotation:N.rotation,borderWidth:A},P=l.xPlus(w,g/2),T=j+f;Dp(s,D,P,T,o.pointStyleWidth&&g)}else{const D=j+Math.max((h-x)/2,0),P=l.leftForLtr(w,g),T=Xn(N.borderRadius);s.beginPath(),Object.values(T).some(O=>O!==0)?er(s,{x:P,y:D,w:g,h:x,radius:T}):s.rect(P,D,g,x),s.fill(),A!==0&&s.stroke()}s.restore()},y=function(w,j,N){ni(s,N.text,w,j+v/2,c,{strikethrough:N.hidden,textAlign:l.textAlign(N.textAlign)})},b=this.isHorizontal(),_=this._computeTitleHeight();b?m={x:Fe(r,this.left+u,this.right-i[0]),y:this.top+u+_,line:0}:m={x:this.left+u,y:Fe(r,this.top+_+u,this.bottom-n[0].height),line:0},Op(this.ctx,e.textDirection);const S=v+u;this.legendItems.forEach((w,j)=>{s.strokeStyle=w.fontColor,s.fillStyle=w.fontColor;const N=s.measureText(w.text).width,A=l.textAlign(w.textAlign||(w.textAlign=o.textAlign)),D=g+f+N;let P=m.x,T=m.y;l.setWidth(this.width),b?j>0&&P+D+u>this.right&&(T=m.y+=S,m.line++,P=m.x=Fe(r,this.left+u,this.right-i[m.line])):j>0&&T+S>this.bottom&&(P=m.x=P+n[m.line].width+u,m.line++,T=m.y=Fe(r,this.top+_+u,this.bottom-n[m.line].height));const O=l.x(P);if(p(O,T,w),P=_v(A,P+g+f,b?P+D:this.right,e.rtl),y(l.x(P),T,w),b)m.x+=D+u;else if(typeof w.text!="string"){const W=c.lineHeight;m.y+=vg(w,W)+u}else m.y+=S}),zp(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=Ne(n.font),s=ze(n.padding);if(!n.display)return;const r=Mi(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=i.size/2,c=s.top+l;let u,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,h=Fe(e.align,h,this.right-f);else{const g=this.columnSizes.reduce((x,v)=>Math.max(x,v.height),0);u=c+Fe(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const m=Fe(a,h,h+f);o.textAlign=r.textAlign(sd(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,ni(o,n.text,m,u,i)}_computeTitleHeight(){const e=this.options.title,n=Ne(e.font),i=ze(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,s,r;if($t(e,this.left,this.right)&&$t(n,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],$t(e,s.left,s.left+s.width)&&$t(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!Qw(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,r=Gw(s,i);s&&!r&&se(n.onLeave,[e,s,this],this),this._hoveredItem=i,i&&!r&&se(n.onHover,[e,i,this],this)}else i&&se(n.onClick,[e,i,this],this)}}function Yw(t,e,n,i,s){const r=Xw(i,t,e,n),o=Kw(s,i,e.lineHeight);return{itemWidth:r,itemHeight:o}}function Xw(t,e,n,i){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((r,o)=>r.length>o.length?r:o)),e+n.size/2+i.measureText(s).width}function Kw(t,e,n){let i=t;return typeof e.text!="string"&&(i=vg(e,n)),i}function vg(t,e){const n=t.text?t.text.length:0;return e*n}function Qw(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var pd={id:"legend",_element:zh,start(t,e,n){const i=t.legend=new zh({ctx:t.ctx,options:n,chart:t});De.configure(t,i,n),De.addBox(t,i)},stop(t){De.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;De.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),e.hidden=!0):(s.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:r,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=ze(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class gd extends pt{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=he(i.text)?i.text.length:1;this._padding=ze(i.padding);const r=s*Ne(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:s,right:r,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=Fe(a,i,r),h=n+e,c=r-i):(o.position==="left"?(u=i+e,h=Fe(a,s,n),l=ee*-.5):(u=r-e,h=Fe(a,n,s),l=ee*.5),c=s-n),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=Ne(n.font),r=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);ni(e,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:c,textAlign:sd(n.align),textBaseline:"middle",translation:[o,a]})}}function Zw(t,e){const n=new gd({ctx:t.ctx,options:e,chart:t});De.configure(t,n,e),De.addBox(t,n),t.titleBlock=n}var xd={id:"title",_element:gd,start(t,e,n){Zw(t,n)},stop(t){const e=t.titleBlock;De.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;De.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Vr=new WeakMap;var bg={id:"subtitle",start(t,e,n){const i=new gd({ctx:t.ctx,options:n,chart:t});De.configure(t,i,n),De.addBox(t,i),Vr.set(t,i)},stop(t){De.removeBox(t,Vr.get(t)),Vr.delete(t)},beforeUpdate(t,e,n){const i=Vr.get(t);De.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const gs={average(t){if(!t.length)return!1;let e,n,i=new Set,s=0,r=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();i.add(l.x),s+=l.y,++r}}return r===0||i.size===0?!1:{x:[...i].reduce((a,l)=>a+l)/i.size,y:s/r}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,s=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=t.length;r<o;++r){const l=t[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=Xl(e,c);u<s&&(s=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function jt(t,e){return e&&(he(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ft(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function qw(t,e){const{element:n,datasetIndex:i,index:s}=e,r=t.getDatasetMeta(i).controller,{label:o,value:a}=r.getLabelAndValue(s);return{chart:t,label:o,parsed:r.getParsed(s),raw:t.data.datasets[i].data[s],formattedValue:a,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function Bh(t,e){const n=t.chart.ctx,{body:i,footer:s,title:r}=t,{boxWidth:o,boxHeight:a}=e,l=Ne(e.bodyFont),c=Ne(e.titleFont),u=Ne(e.footerFont),h=r.length,f=s.length,m=i.length,g=ze(e.padding);let x=g.height,v=0,p=i.reduce((_,S)=>_+S.before.length+S.lines.length+S.after.length,0);if(p+=t.beforeBody.length+t.afterBody.length,h&&(x+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),p){const _=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;x+=m*_+(p-m)*l.lineHeight+(p-1)*e.bodySpacing}f&&(x+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let y=0;const b=function(_){v=Math.max(v,n.measureText(_).width+y)};return n.save(),n.font=c.string,ne(t.title,b),n.font=l.string,ne(t.beforeBody.concat(t.afterBody),b),y=e.displayColors?o+2+e.boxPadding:0,ne(i,_=>{ne(_.before,b),ne(_.lines,b),ne(_.after,b)}),y=0,n.font=u.string,ne(t.footer,b),n.restore(),v+=g.width,{width:v,height:x}}function Jw(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function eS(t,e,n,i){const{x:s,width:r}=i,o=n.caretSize+n.caretPadding;if(t==="left"&&s+r+o>e.width||t==="right"&&s-r-o<0)return!0}function tS(t,e,n,i){const{x:s,width:r}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return i==="center"?c=s<=(a+l)/2?"left":"right":s<=r/2?c="left":s>=o-r/2&&(c="right"),eS(c,t,e,n)&&(c="center"),c}function $h(t,e,n){const i=n.yAlign||e.yAlign||Jw(t,n);return{xAlign:n.xAlign||e.xAlign||tS(t,e,n,i),yAlign:i}}function nS(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function iS(t,e,n){let{y:i,height:s}=t;return e==="top"?i+=n:e==="bottom"?i-=s+n:i-=s/2,i}function Wh(t,e,n,i){const{caretSize:s,caretPadding:r,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=s+r,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:m}=Xn(o);let g=nS(e,a);const x=iS(e,l,c);return l==="center"?a==="left"?g+=c:a==="right"&&(g-=c):a==="left"?g-=Math.max(u,f)+s:a==="right"&&(g+=Math.max(h,m)+s),{x:Ce(g,0,i.width-e.width),y:Ce(x,0,i.height-e.height)}}function Ur(t,e,n){const i=ze(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function Hh(t){return jt([],Ft(t))}function sS(t,e,n){return Mn(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Vh(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const wg={beforeTitle:Et,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Et,beforeBody:Et,beforeLabel:Et,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Q(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Et,afterBody:Et,beforeFooter:Et,footer:Et,afterFooter:Et};function Ge(t,e,n,i){const s=t[e].call(n,i);return typeof s>"u"?wg[e].call(n,i):s}class nc extends pt{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,r=new hd(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=sS(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,s=Ge(i,"beforeTitle",this,e),r=Ge(i,"title",this,e),o=Ge(i,"afterTitle",this,e);let a=[];return a=jt(a,Ft(s)),a=jt(a,Ft(r)),a=jt(a,Ft(o)),a}getBeforeBody(e,n){return Hh(Ge(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,s=[];return ne(e,r=>{const o={before:[],lines:[],after:[]},a=Vh(i,r);jt(o.before,Ft(Ge(a,"beforeLabel",this,r))),jt(o.lines,Ge(a,"label",this,r)),jt(o.after,Ft(Ge(a,"afterLabel",this,r))),s.push(o)}),s}getAfterBody(e,n){return Hh(Ge(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,s=Ge(i,"beforeFooter",this,e),r=Ge(i,"footer",this,e),o=Ge(i,"afterFooter",this,e);let a=[];return a=jt(a,Ft(s)),a=jt(a,Ft(r)),a=jt(a,Ft(o)),a}_createItems(e){const n=this._active,i=this.chart.data,s=[],r=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(qw(this.chart,n[l]));return e.filter&&(a=a.filter((u,h,f)=>e.filter(u,h,f,i))),e.itemSort&&(a=a.sort((u,h)=>e.itemSort(u,h,i))),ne(a,u=>{const h=Vh(e.callbacks,u);s.push(Ge(h,"labelColor",this,u)),r.push(Ge(h,"labelPointStyle",this,u)),o.push(Ge(h,"labelTextColor",this,u))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const i=this.options.setContext(this.getContext()),s=this._active;let r,o=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const a=gs[i.position].call(this,s,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=Bh(this,i),c=Object.assign({},a,l),u=$h(this.chart,i,c),h=Wh(i,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,s){const r=this.getCaretPosition(e,i,s);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(e,n,i){const{xAlign:s,yAlign:r}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=Xn(a),{x:f,y:m}=e,{width:g,height:x}=n;let v,p,y,b,_,S;return r==="center"?(_=m+x/2,s==="left"?(v=f,p=v-o,b=_+o,S=_-o):(v=f+g,p=v+o,b=_-o,S=_+o),y=v):(s==="left"?p=f+Math.max(l,u)+o:s==="right"?p=f+g-Math.max(c,h)-o:p=this.caretX,r==="top"?(b=m,_=b-o,v=p-o,y=p+o):(b=m+x,_=b+o,v=p+o,y=p-o),S=b),{x1:v,x2:p,x3:y,y1:b,y2:_,y3:S}}drawTitle(e,n,i){const s=this.title,r=s.length;let o,a,l;if(r){const c=Mi(i.rtl,this.x,this.width);for(e.x=Ur(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",o=Ne(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,l=0;l<r;++l)n.fillText(s[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===r&&(e.y+=i.titleMarginBottom-a)}}_drawColorBox(e,n,i,s,r){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=r,u=Ne(r.bodyFont),h=Ur(this,"left",r),f=s.x(h),m=l<u.lineHeight?(u.lineHeight-l)/2:0,g=n.y+m;if(r.usePointStyle){const x={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},v=s.leftForLtr(f,c)+c/2,p=g+l/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,Ql(e,x,v,p),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Ql(e,x,v,p)}else{e.lineWidth=q(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const x=s.leftForLtr(f,c),v=s.leftForLtr(s.xPlus(f,1),c-2),p=Xn(o.borderRadius);Object.values(p).some(y=>y!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,er(e,{x,y:g,w:c,h:l,radius:p}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),er(e,{x:v,y:g+1,w:c-2,h:l-2,radius:p}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(x,g,c,l),e.strokeRect(x,g,c,l),e.fillStyle=o.backgroundColor,e.fillRect(v,g+1,c-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:s}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=i,h=Ne(i.bodyFont);let f=h.lineHeight,m=0;const g=Mi(i.rtl,this.x,this.width),x=function(N){n.fillText(N,g.x(e.x+m),e.y+f/2),e.y+=f+r},v=g.textAlign(o);let p,y,b,_,S,w,j;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,e.x=Ur(this,v,i),n.fillStyle=i.bodyColor,ne(this.beforeBody,x),m=a&&v!=="right"?o==="center"?c/2+u:c+2+u:0,_=0,w=s.length;_<w;++_){for(p=s[_],y=this.labelTextColors[_],n.fillStyle=y,ne(p.before,x),b=p.lines,a&&b.length&&(this._drawColorBox(n,e,_,g,i),f=Math.max(h.lineHeight,l)),S=0,j=b.length;S<j;++S)x(b[S]),f=h.lineHeight;ne(p.after,x)}m=0,f=h.lineHeight,ne(this.afterBody,x),e.y-=r}drawFooter(e,n,i){const s=this.footer,r=s.length;let o,a;if(r){const l=Mi(i.rtl,this.x,this.width);for(e.x=Ur(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",o=Ne(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,a=0;a<r;++a)n.fillText(s[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,n,i,s){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=i,{topLeft:h,topRight:f,bottomLeft:m,bottomRight:g}=Xn(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(e,n,i,s),n.lineTo(a+c-f,l),n.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&r==="right"&&this.drawCaret(e,n,i,s),n.lineTo(a+c,l+u-g),n.quadraticCurveTo(a+c,l+u,a+c-g,l+u),o==="bottom"&&this.drawCaret(e,n,i,s),n.lineTo(a+m,l+u),n.quadraticCurveTo(a,l+u,a,l+u-m),o==="center"&&r==="left"&&this.drawCaret(e,n,i,s),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){const o=gs[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Bh(this,e),l=Object.assign({},o,this._size),c=$h(n,e,l),u=Wh(e,l,c,n);(s._to!==u.x||r._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=ze(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=i,this.drawBackground(r,e,s,n),Op(e,n.textDirection),r.y+=o.top,this.drawTitle(r,e,n),this.drawBody(r,e,n),this.drawFooter(r,e,n),zp(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,s=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!Lo(i,s),o=this._positionChanged(s,n);(r||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],o=this._getActiveElements(e,r,n,i),a=this._positionChanged(o,e),l=n||!Lo(o,r)||a;return l&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,i,s){const r=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,r.mode,r,i);return r.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:i,caretY:s,options:r}=this,o=gs[r.position].call(this,e,n);return o!==!1&&(i!==o.x||s!==o.y)}}R(nc,"positioners",gs);var yd={id:"tooltip",_element:nc,positioners:gs,afterInit(t,e,n){n&&(t.tooltip=new nc({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:wg},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Sg=Object.freeze({__proto__:null,Colors:fg,Decimation:pg,Filler:yg,Legend:pd,SubTitle:bg,Title:xd,Tooltip:yd});const rS=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function oS(t,e,n,i){const s=t.indexOf(e);if(s===-1)return rS(t,e,n,i);const r=t.lastIndexOf(e);return s!==r?n:s}const aS=(t,e)=>t===null?null:Ce(Math.round(t),0,e);function Uh(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class ir extends Dn{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:r}of n)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Q(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:oS(i,e,X(n,e),this._addedLabels),aS(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=e===0&&n===r.length-1?r:r.slice(e,n+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=n;o++)s.push({value:o});return s}getLabelForValue(e){return Uh.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}R(ir,"id","category"),R(ir,"defaults",{ticks:{callback:Uh}});function lS(t,e){const n=[],{bounds:s,step:r,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:f}=t,m=r||1,g=u-1,{min:x,max:v}=e,p=!Q(o),y=!Q(a),b=!Q(c),_=(v-x)/(h+1);let S=Bu((v-x)/g/m)*m,w,j,N,A;if(S<1e-14&&!p&&!y)return[{value:x},{value:v}];A=Math.ceil(v/S)-Math.floor(x/S),A>g&&(S=Bu(A*S/g/m)*m),Q(l)||(w=Math.pow(10,l),S=Math.ceil(S*w)/w),s==="ticks"?(j=Math.floor(x/S)*S,N=Math.ceil(v/S)*S):(j=x,N=v),p&&y&&r&&gv((a-o)/r,S/1e3)?(A=Math.round(Math.min((a-o)/S,u)),S=(a-o)/A,j=o,N=a):b?(j=p?o:j,N=y?a:N,A=c-1,S=(N-j)/A):(A=(N-j)/S,Cs(A,Math.round(A),S/1e3)?A=Math.round(A):A=Math.ceil(A));const D=Math.max($u(S),$u(j));w=Math.pow(10,Q(l)?D:l),j=Math.round(j*w)/w,N=Math.round(N*w)/w;let P=0;for(p&&(f&&j!==o?(n.push({value:o}),j<o&&P++,Cs(Math.round((j+P*S)*w)/w,o,Gh(o,_,t))&&P++):j<o&&P++);P<A;++P){const T=Math.round((j+P*S)*w)/w;if(y&&T>a)break;n.push({value:T})}return y&&f&&N!==a?n.length&&Cs(n[n.length-1].value,a,Gh(a,_,t))?n[n.length-1].value=a:n.push({value:a}):(!y||N===a)&&n.push({value:N}),n}function Gh(t,e,{horizontal:n,minRotation:i}){const s=wt(i),r=(n?Math.sin(s):Math.cos(s))||.001,o=.75*e*(""+t).length;return Math.min(e/r,o)}class Bo extends Dn{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Q(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const o=l=>s=n?s:l,a=l=>r=i?r:l;if(e){const l=Lt(s),c=Lt(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(s===r){let l=r===0?1:Math.abs(r*.05);a(r+l),e||o(s-l)}this.min=s,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=lS(s,r);return e.bounds==="ticks"&&wp(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const s=(i-n)/Math.max(e.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return hr(e,this.chart.options.locale,this.options.ticks.format)}}class sr extends Bo{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=ye(e)?e:0,this.max=ye(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=wt(this.options.ticks.minRotation),s=(e?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}R(sr,"id","linear"),R(sr,"defaults",{ticks:{callback:fr.formatters.numeric}});const rr=t=>Math.floor(cn(t)),Rn=(t,e)=>Math.pow(10,rr(t)+e);function Yh(t){return t/Math.pow(10,rr(t))===1}function Xh(t,e,n){const i=Math.pow(10,n),s=Math.floor(t/i);return Math.ceil(e/i)-s}function cS(t,e){const n=e-t;let i=rr(n);for(;Xh(t,e,i)>10;)i++;for(;Xh(t,e,i)<10;)i--;return Math.min(i,rr(t))}function dS(t,{min:e,max:n}){e=et(t.min,e);const i=[],s=rr(e);let r=cS(e,n),o=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),l=s>r?Math.pow(10,s):0,c=Math.round((e-l)*o)/o,u=Math.floor((e-l)/a/10)*a*10;let h=Math.floor((c-u)/Math.pow(10,r)),f=et(t.min,Math.round((l+u+h*Math.pow(10,r))*o)/o);for(;f<n;)i.push({value:f,major:Yh(f),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(r++,h=2,o=r>=0?1:o),f=Math.round((l+u+h*Math.pow(10,r))*o)/o;const m=et(t.max,f);return i.push({value:m,major:Yh(m),significand:h}),i}class $o extends Dn{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const i=Bo.prototype.parse.apply(this,[e,n]);if(i===0){this._zero=!0;return}return ye(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=ye(e)?Math.max(0,e):null,this.max=ye(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ye(this._userMin)&&(this.min=e===Rn(this.min,0)?Rn(this.min,-1):Rn(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let i=this.min,s=this.max;const r=a=>i=e?i:a,o=a=>s=n?s:a;i===s&&(i<=0?(r(1),o(10)):(r(Rn(i,-1)),o(Rn(s,1)))),i<=0&&r(Rn(s,-1)),s<=0&&o(Rn(i,1)),this.min=i,this.max=s}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},i=dS(n,this);return e.bounds==="ticks"&&wp(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":hr(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=cn(e),this._valueRange=cn(this.max)-cn(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(cn(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}R($o,"id","logarithmic"),R($o,"defaults",{ticks:{callback:fr.formatters.logarithmic,major:{enabled:!0}}});function ic(t){const e=t.ticks;if(e.display&&t.display){const n=ze(e.backdropPadding);return X(e.font&&e.font.size,de.font.size)+n.height}return 0}function uS(t,e,n){return n=he(n)?n:[n],{w:Lv(t,e.string,n),h:n.length*e.lineHeight}}function Kh(t,e,n,i,s){return t===i||t===s?{start:e-n/2,end:e+n/2}:t<i||t>s?{start:e-n,end:e}:{start:e,end:e+n}}function hS(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],s=[],r=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?ee/r:0;for(let l=0;l<r;l++){const c=o.setContext(t.getPointLabelContext(l));s[l]=c.padding;const u=t.getPointPosition(l,t.drawingArea+s[l],a),h=Ne(c.font),f=uS(t.ctx,h,t._pointLabels[l]);i[l]=f;const m=Re(t.getIndexAngle(l)+a),g=Math.round(nd(m)),x=Kh(g,u.x,f.w,0,180),v=Kh(g,u.y,f.h,90,270);fS(n,e,m,x,v)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=gS(t,i,s)}function fS(t,e,n,i,s){const r=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<e.l?(a=(e.l-i.start)/r,t.l=Math.min(t.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/r,t.r=Math.max(t.r,e.r+a)),s.start<e.t?(l=(e.t-s.start)/o,t.t=Math.min(t.t,e.t-l)):s.end>e.b&&(l=(s.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function mS(t,e,n){const i=t.drawingArea,{extra:s,additionalAngle:r,padding:o,size:a}=n,l=t.getPointPosition(e,i+s+o,r),c=Math.round(nd(Re(l.angle+be))),u=vS(l.y,a.h,c),h=xS(c),f=yS(l.x,a.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:f,top:u,right:f+a.w,bottom:u+a.h}}function pS(t,e){if(!e)return!0;const{left:n,top:i,right:s,bottom:r}=t;return!(Ht({x:n,y:i},e)||Ht({x:n,y:r},e)||Ht({x:s,y:i},e)||Ht({x:s,y:r},e))}function gS(t,e,n){const i=[],s=t._pointLabels.length,r=t.options,{centerPointLabels:o,display:a}=r.pointLabels,l={extra:ic(r)/2,additionalAngle:o?ee/s:0};let c;for(let u=0;u<s;u++){l.padding=n[u],l.size=e[u];const h=mS(t,u,l);i.push(h),a==="auto"&&(h.visible=pS(h,c),h.visible&&(c=h))}return i}function xS(t){return t===0||t===180?"center":t<180?"left":"right"}function yS(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function vS(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function bS(t,e,n){const{left:i,top:s,right:r,bottom:o}=n,{backdropColor:a}=e;if(!Q(a)){const l=Xn(e.borderRadius),c=ze(e.backdropPadding);t.fillStyle=a;const u=i-c.left,h=s-c.top,f=r-i+c.width,m=o-s+c.height;Object.values(l).some(g=>g!==0)?(t.beginPath(),er(t,{x:u,y:h,w:f,h:m,radius:l}),t.fill()):t.fillRect(u,h,f,m)}}function wS(t,e){const{ctx:n,options:{pointLabels:i}}=t;for(let s=e-1;s>=0;s--){const r=t._pointLabelItems[s];if(!r.visible)continue;const o=i.setContext(t.getPointLabelContext(s));bS(n,o,r);const a=Ne(o.font),{x:l,y:c,textAlign:u}=r;ni(n,t._pointLabels[s],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function _g(t,e,n,i){const{ctx:s}=t;if(n)s.arc(t.xCenter,t.yCenter,e,0,ce);else{let r=t.getPointPosition(0,e);s.moveTo(r.x,r.y);for(let o=1;o<i;o++)r=t.getPointPosition(o,e),s.lineTo(r.x,r.y)}}function SS(t,e,n,i,s){const r=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!i||!a||!l||n<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(s.dash||[]),r.lineDashOffset=s.dashOffset,r.beginPath(),_g(t,n,o,i),r.closePath(),r.stroke(),r.restore())}function _S(t,e,n){return Mn(t,{label:n,index:e,type:"pointLabel"})}class Si extends Bo{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=ze(ic(this.options)/2),n=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=ye(e)&&!isNaN(e)?e:0,this.max=ye(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/ic(this.options))}generateTickLabels(e){Bo.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,i)=>{const s=se(this.options.pointLabels.callback,[n,i],this);return s||s===0?s:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?hS(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,i,s){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,i,s))}getIndexAngle(e){const n=ce/(this._pointLabels.length||1),i=this.options.startAngle||0;return Re(e*n+wt(i))}getDistanceFromCenterForValue(e){if(Q(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(Q(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const i=n[e];return _S(this.getContext(),e,i)}}getPointPosition(e,n,i=0){const s=this.getIndexAngle(e)-be+i;return{x:Math.cos(s)*n+this.xCenter,y:Math.sin(s)*n+this.yCenter,angle:s}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:i,right:s,bottom:r}=this._pointLabelItems[e];return{left:n,top:i,right:s,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),_g(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:i,grid:s,border:r}=n,o=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&wS(this,o),s.display&&this.ticks.forEach((u,h)=>{if(h!==0||h===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const f=this.getContext(h),m=s.setContext(f),g=r.setContext(f);SS(this,m,l,o,g)}}),i.display){for(e.save(),a=o-1;a>=0;a--){const u=i.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:f}=u;!f||!h||(e.lineWidth=f,e.strokeStyle=h,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let r,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(s),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const c=i.setContext(this.getContext(l)),u=Ne(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const h=ze(c.backdropPadding);e.fillRect(-o/2-h.left,-r-u.size/2-h.top,o+h.width,u.size+h.height)}ni(e,a.label,0,-r,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}R(Si,"id","radialLinear"),R(Si,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:fr.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),R(Si,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),R(Si,"descriptors",{angleLines:{_fallback:"grid"}});const ua={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Xe=Object.keys(ua);function Qh(t,e){return t-e}function Zh(t,e){if(Q(e))return null;const n=t._adapter,{parser:i,round:s,isoWeekday:r}=t._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),ye(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(Wi(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,s)),+o)}function qh(t,e,n,i){const s=Xe.length;for(let r=Xe.indexOf(t);r<s-1;++r){const o=ua[Xe[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=i)return Xe[r]}return Xe[s-1]}function kS(t,e,n,i,s){for(let r=Xe.length-1;r>=Xe.indexOf(n);r--){const o=Xe[r];if(ua[o].common&&t._adapter.diff(s,i,o)>=e-1)return o}return Xe[n?Xe.indexOf(n):0]}function NS(t){for(let e=Xe.indexOf(t)+1,n=Xe.length;e<n;++e)if(ua[Xe[e]].common)return Xe[e]}function Jh(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:s}=id(n,e),r=n[i]>=e?n[i]:n[s];t[r]=!0}}function jS(t,e,n,i){const s=t._adapter,r=+s.startOf(e[0].value,i),o=e[e.length-1].value;let a,l;for(a=r;a<=o;a=+s.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}function ef(t,e,n){const i=[],s={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],s[a]=o,i.push({value:a,major:!1});return r===0||!n?i:jS(t,i,s,n)}class Ui extends Dn{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),s=this._adapter=new Xp._date(e.adapters.date);s.init(n),js(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Zh(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:s,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=ye(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),r=ye(r)&&!isNaN(r)?r:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,o=this.max,a=bv(s,r,o);return this._unit=n.unit||(i.autoSkip?qh(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):kS(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:NS(this._unit),this.initOffsets(s),e.reverse&&a.reverse(),ef(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,s,r;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?i=r:i=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=Ce(n,0,o),i=Ce(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,s=this.options,r=s.time,o=r.unit||qh(r.minUnit,n,i,this._getLabelCapacity(n)),a=X(s.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=Wi(l)||l===!0,u={};let h=n,f,m;if(c&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,c?"day":o),e.diff(i,n,o)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+o);const g=s.ticks.source==="data"&&this.getDataTimestamps();for(f=h,m=0;f<i;f=+e.add(f,a,o),m++)Jh(u,f,g);return(f===i||s.bounds==="ticks"||m===1)&&Jh(u,f,g),Object.keys(u).sort(Qh).map(x=>+x)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,r=this._unit,o=n||s[r];return this._adapter.format(e,o)}_tickFormatFunction(e,n,i,s){const r=this.options,o=r.ticks.callback;if(o)return se(o,[e,n,i],this);const a=r.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],f=i[n],m=c&&h&&f&&f.major;return this._adapter.format(e,s||(m?h:u))}generateTickLabels(e){let n,i,s;for(n=0,i=e.length;n<i;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,s=wt(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:i*r+a*o,h:i*o+a*r}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,r=this._tickFormatFunction(e,0,ef(this,[e],this._majorUnit),s),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)e.push(Zh(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return kp(e.sort(Qh))}}R(Ui,"id","time"),R(Ui,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Gr(t,e,n){let i=0,s=t.length-1,r,o,a,l;n?(e>=t[i].pos&&e<=t[s].pos&&({lo:i,hi:s}=Wt(t,"pos",e)),{pos:r,time:a}=t[i],{pos:o,time:l}=t[s]):(e>=t[i].time&&e<=t[s].time&&({lo:i,hi:s}=Wt(t,"time",e)),{time:r,pos:a}=t[i],{time:o,pos:l}=t[s]);const c=o-r;return c?a+(l-a)*(e-r)/c:a}class Wo extends Ui{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Gr(n,this.min),this._tableRange=Gr(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,s=[],r=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=i&&s.push(c);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=s.length;o<a;++o)u=s[o+1],l=s[o-1],c=s[o],Math.round((u+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,r)=>s-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Gr(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return Gr(this._table,i*this._tableRange+this._minPos,!0)}}R(Wo,"id","timeseries"),R(Wo,"defaults",Ui.defaults);var kg=Object.freeze({__proto__:null,CategoryScale:ir,LinearScale:sr,LogarithmicScale:$o,RadialLinearScale:Si,TimeScale:Ui,TimeSeriesScale:Wo});const CS=[Yp,dg,Sg,kg],PS=Object.freeze(Object.defineProperty({__proto__:null,Animation:Vp,Animations:hd,ArcElement:Un,BarController:Di,BarElement:Ei,BasePlatform:md,BasicPlatform:qp,BubbleController:Ds,CategoryScale:ir,Chart:mr,Colors:fg,DatasetController:ht,Decimation:pg,DomPlatform:tg,DoughnutController:un,Element:pt,Filler:yg,Interaction:Kp,Legend:pd,LineController:Ai,LineElement:Dt,LinearScale:sr,LogarithmicScale:$o,PieController:tr,PointElement:Li,PolarAreaController:Ti,RadarController:As,RadialLinearScale:Si,Scale:Dn,ScatterController:Ts,SubTitle:bg,Ticks:fr,TimeScale:Ui,TimeSeriesScale:Wo,Title:xd,Tooltip:yd,_adapters:Xp,_detectPlatform:ng,animator:Pt,controllers:Yp,defaults:de,elements:dg,layouts:De,plugins:Sg,registerables:CS,registry:yt,scales:kg},Symbol.toStringTag,{value:"Module"})),Ng="label";function tf(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function MS(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function jg(t,e){t.labels=e}function Cg(t,e,n=Ng){const i=[];t.datasets=e.map(s=>{const r=t.datasets.find(o=>o[n]===s[n]);return!r||!s.data||i.includes(r)?{...s}:(i.push(r),Object.assign(r,s),r)})}function DS(t,e=Ng){const n={labels:[],datasets:[]};return jg(n,t.labels),Cg(n,t.datasets,e),n}function AS(t,e){const{height:n=150,width:i=300,redraw:s=!1,datasetIdKey:r,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:h,...f}=t,m=B.useRef(null),g=B.useRef(null),x=()=>{m.current&&(g.current=new mr(m.current,{type:o,data:DS(a,r),options:l&&{...l},plugins:c}),tf(e,g.current))},v=()=>{tf(e,null),g.current&&(g.current.destroy(),g.current=null)};return B.useEffect(()=>{!s&&g.current&&l&&MS(g.current,l)},[s,l]),B.useEffect(()=>{!s&&g.current&&jg(g.current.config.data,a.labels)},[s,a.labels]),B.useEffect(()=>{!s&&g.current&&a.datasets&&Cg(g.current.config.data,a.datasets,r)},[s,a.datasets]),B.useEffect(()=>{g.current&&(s?(v(),setTimeout(x)):g.current.update(h))},[s,l,a.labels,a.datasets,h]),B.useEffect(()=>{g.current&&(v(),setTimeout(x))},[o]),B.useEffect(()=>(x(),()=>v()),[]),d.jsx("canvas",{ref:m,role:"img",height:n,width:i,...f,children:u})}const TS=B.forwardRef(AS);function vd(t,e){return mr.register(e),B.forwardRef((n,i)=>d.jsx(TS,{...n,ref:i,type:t}))}const Pg=vd("line",Ai),bd=vd("bar",Di),Mg=vd("pie",tr),LS=(t,e="fa",n)=>{if(!t.analysisRegions)throw new Error("No analysis data to export");const i=t.analysisRegions,s=new Date().toLocaleString();let o=(e==="fa"?[""," (m)","","Porosity ()","Hydration Material ( )","Unhydrated Material ( )","Aggregate ()"," "," Porosity"," Hydration Material"," Unhydrated Material"," Aggregate"]:["Region","Distance (m)","Area","Porosity (Black)","Hydration Material (Dark Gray)","Unhydrated Material (Light Gray)","Aggregate (White)","Total Pixels","Porosity %","Hydration Material %","Unhydrated Material %","Aggregate %"]).join(",")+`
`;i.forEach(_=>{const S=(_.blackPixels/_.totalPixels*100).toFixed(2),w=(_.darkGrayPixels/_.totalPixels*100).toFixed(2),j=(_.lightGrayPixels/_.totalPixels*100).toFixed(2),N=(_.whitePixels/_.totalPixels*100).toFixed(2),A=[`#${_.id}`,_.distance.toString(),_.area.toString(),_.blackPixels.toString(),_.darkGrayPixels.toString(),_.lightGrayPixels.toString(),_.whitePixels.toString(),_.totalPixels.toString(),S,w,j,N];o+=A.join(",")+`
`});const a=i.reduce((_,S)=>_+S.totalPixels,0),l=i.reduce((_,S)=>_+S.blackPixels,0),c=i.reduce((_,S)=>_+S.darkGrayPixels,0),u=i.reduce((_,S)=>_+S.lightGrayPixels,0),h=i.reduce((_,S)=>_+S.whitePixels,0),m=[e==="fa"?" ":"Total Summary","-","-",l.toString(),c.toString(),u.toString(),h.toString(),a.toString(),(l/a*100).toFixed(2),(c/a*100).toFixed(2),(u/a*100).toFixed(2),(h/a*100).toFixed(2)];o+=`
`+m.join(",")+`
`,o+=`
`,o+=`${e==="fa"?" ":"Software Information"}
`,(e==="fa"?[" ,Concrete Image Analysis Software (CIA): Interfacial Transition Zone (ITZ) Section"," ,1.7.2",...t.fileName?[` ,${t.fileName}`]:[],`  ,${t.algorithm}`,` ,${t.scaleUnit||"m"}`,` ,${t.analysisDistance||100} ${t.scaleUnit||"m"}`,` ,${i.length}`,",https://github.com/Aghajanian",`  ,${s}`,", 2024 All rights reserved by Aghajanian",`,     CIA  1.7.2   ${s}   `]:["Software Name,Concrete Image Analysis Software (CIA): Interfacial Transition Zone (ITZ) Section","Software Version,1.7.2",...t.fileName?[`File Name,${t.fileName}`]:[],`Binarization Algorithm,${t.algorithm}`,`Scale Unit,${t.scaleUnit||"m"}`,`Analysis Distance,${t.analysisDistance||100} ${t.scaleUnit||"m"}`,`Number of Regions,${i.length}`,"Website,https://github.com/Aghajanian",`Data Generation Date,${s}`,"Copyright, 2024 All rights reserved by Aghajanian",`Description,Data provided by CIA software version 1.7.2 generated on ${s}`]).forEach(_=>{o+=_+`
`}),n&&(o+=`
`,o+=`${e==="fa"?" ":"User Information"}
`,(e==="fa"?[`,${n.firstName} ${n.lastName}`,`,${n.university}`,`,${n.position}`,`,${n.degree}`,`,${n.email}`]:[`Name,${n.firstName} ${n.lastName}`,`University,${n.university}`,`Position,${n.position}`,`Degree,${n.degree}`,`Email,${n.email}`]).forEach(w=>{o+=w+`
`})),o+=`
`,o+=`${e==="fa"?" ":"Analysis Information"}
`,(e==="fa"?[`  ,${t.algorithm}`,` ,${t.scaleUnit||"m"}`,` ,${t.analysisDistance||100} ${t.scaleUnit||"m"}`,` ,${i.length}`,` ,${t.replicationDirection==="x"?" (X)":" (Y)"}`,` ,${new Date(t.createdAt).toLocaleDateString("fa-IR")}`]:[`Binarization Algorithm,${t.algorithm}`,`Scale Unit,${t.scaleUnit||"m"}`,`Analysis Distance,${t.analysisDistance||100} ${t.scaleUnit||"m"}`,`Number of Regions,${i.length}`,`Replication Direction,${t.replicationDirection==="x"?"Horizontal (X)":"Vertical (Y)"}`,`Analysis Date,${new Date(t.createdAt).toLocaleDateString("en-US")}`]).forEach(_=>{o+=_+`
`});const y=new Blob(["\uFEFF"+o],{type:"text/csv;charset=utf-8;"}),b=document.createElement("a");if(b.download!==void 0){const _=URL.createObjectURL(y);b.setAttribute("href",_);const S=e==="fa"?`__${new Date().toISOString().split("T")[0]}.csv`:`image_analysis_${new Date().toISOString().split("T")[0]}.csv`;b.setAttribute("download",S),b.style.visibility="hidden",document.body.appendChild(b),b.click(),document.body.removeChild(b)}},ES=async(t,e)=>{const n=t.analysisRegions,i=n.reduce((u,h)=>u+h.totalPixels,0),s={totalBlack:n.reduce((u,h)=>u+h.blackPixels,0),totalDarkGray:n.reduce((u,h)=>u+h.darkGrayPixels,0),totalLightGray:n.reduce((u,h)=>u+h.lightGrayPixels,0),totalWhite:n.reduce((u,h)=>u+h.whitePixels,0),totalPixels:i},{Chart:r,registerables:o}=await ra(async()=>{const{Chart:u,registerables:h}=await Promise.resolve().then(()=>PS);return{Chart:u,registerables:h}},void 0,import.meta.url);r.register(...o);const a={black:"#1f2937",darkGray:"#6b7280",lightGray:"#9ca3af",white:"#f3f4f6"},l={},c=(u=800,h=600)=>{const f=document.createElement("canvas");return f.width=u,f.height=h,f.style.position="absolute",f.style.left="-9999px",document.body.appendChild(f),f};try{const u=c(600,600),h=new r(u,{type:"pie",data:{labels:[`Porosity (${e==="fa"?"":"Black"})`,`Hydration Material (${e==="fa"?" ":"Dark Gray"})`,`Unhydrated Material (${e==="fa"?" ":"Light Gray"})`,`Aggregate (${e==="fa"?"":"White"})`],datasets:[{data:[s.totalBlack,s.totalDarkGray,s.totalLightGray,s.totalWhite],backgroundColor:[a.black,a.darkGray,a.lightGray,a.white],borderColor:"#ffffff",borderWidth:2}]},options:{responsive:!1,plugins:{legend:{position:"bottom",labels:{font:{size:14},padding:20}},title:{display:!0,text:e==="fa"?"  ":"Overall Color Distribution",font:{size:18,weight:"bold"},padding:20}}}});await new Promise(v=>setTimeout(v,500)),l.pie=u.toDataURL("image/png");const f=c(1e3,600),m=new r(f,{type:"bar",data:{labels:n.map(v=>`${e==="fa"?"":"Region"} #${v.id}`),datasets:[{label:"Porosity",data:n.map(v=>v.blackPixels),backgroundColor:a.black},{label:"Hydration Material",data:n.map(v=>v.darkGrayPixels),backgroundColor:a.darkGray},{label:"Unhydrated Material",data:n.map(v=>v.lightGrayPixels),backgroundColor:a.lightGray},{label:"Aggregate",data:n.map(v=>v.whitePixels),backgroundColor:a.white}]},options:{responsive:!1,plugins:{legend:{position:"top",labels:{font:{size:14},padding:20}},title:{display:!0,text:e==="fa"?" ":"Region Comparison",font:{size:18,weight:"bold"},padding:20}},scales:{x:{ticks:{font:{size:12}}},y:{ticks:{font:{size:12}}}}}});await new Promise(v=>setTimeout(v,500)),l.bar=f.toDataURL("image/png");const g=c(1e3,600),x=new r(g,{type:"line",data:{labels:n.map(v=>`${v.distance} ${t.scaleUnit||"m"}`),datasets:[{label:`${e==="fa"?"":"Percentage"} Porosity`,data:n.map(v=>v.blackPixels/v.totalPixels*100),borderColor:a.black,backgroundColor:a.black+"20",tension:.1},{label:`${e==="fa"?"":"Percentage"} Hydration Material`,data:n.map(v=>v.darkGrayPixels/v.totalPixels*100),borderColor:a.darkGray,backgroundColor:a.darkGray+"20",tension:.1},{label:`${e==="fa"?"":"Percentage"} Unhydrated Material`,data:n.map(v=>v.lightGrayPixels/v.totalPixels*100),borderColor:a.lightGray,backgroundColor:a.lightGray+"20",tension:.1},{label:`${e==="fa"?"":"Percentage"} Aggregate`,data:n.map(v=>v.whitePixels/v.totalPixels*100),borderColor:"#d1d5db",backgroundColor:"#d1d5db20",tension:.1}]},options:{responsive:!1,plugins:{legend:{position:"top",labels:{font:{size:14},padding:20}},title:{display:!0,text:e==="fa"?"     ":"Color Percentage Changes by Distance",font:{size:18,weight:"bold"},padding:20}},scales:{x:{ticks:{font:{size:12}}},y:{ticks:{font:{size:12}}}}}});return await new Promise(v=>setTimeout(v,500)),l.line=g.toDataURL("image/png"),h.destroy(),m.destroy(),x.destroy(),document.body.removeChild(u),document.body.removeChild(f),document.body.removeChild(g),l}catch(u){return console.error("Error creating charts:",u),{}}},FS=async(t,e,n)=>{if(!t.analysisRegions)throw new Error("No analysis data to export");try{const i=await ra(()=>import("./jspdf.es.min-BFJmik6I.js").then(P=>P.j),[],import.meta.url),s=i.jsPDF||i.default||i,r=new s,o=t.analysisRegions,a=new Date().toLocaleString(),l=o.reduce((P,T)=>P+T.totalPixels,0),c={totalBlack:o.reduce((P,T)=>P+T.blackPixels,0),totalDarkGray:o.reduce((P,T)=>P+T.darkGrayPixels,0),totalLightGray:o.reduce((P,T)=>P+T.lightGrayPixels,0),totalWhite:o.reduce((P,T)=>P+T.whitePixels,0),totalPixels:l},u=(P,T)=>(P/T*100).toFixed(2);let h=20;const f=r.internal.pageSize.height,m=20,g=7,x=P=>{h+P>f-30&&(r.addPage(),h=20,v())},v=()=>{r.setFontSize(16),r.setFont("helvetica","bold"),r.text("Concrete Image Analysis Software (CIA) v1.7.2",m,h),h+=10,r.setFontSize(12),r.setFont("helvetica","normal"),r.text("Interfacial Transition Zone (ITZ) Section",m,h),h+=15},p=()=>{const P=r.getNumberOfPages();for(let T=1;T<=P;T++)r.setPage(T),r.setFontSize(8),r.setFont("helvetica","normal"),r.text(" 2024 All rights reserved by Aghajanian",m,f-10),r.text(`Page ${T} of ${P}`,r.internal.pageSize.width-40,f-10)};v(),r.setFontSize(14),r.setFont("helvetica","bold"),r.text(e==="fa"?" ":"Software Information",m,h),h+=10,r.setFontSize(10),r.setFont("helvetica","normal");const y=["Software Version: 1.7.2",`Generated Date: ${a}`,"Website: https://github.com/Aghajanian","Copyright:  2024 Aghajanian",`Description: Data provided by CIA software version 1.7.2 generated on ${a}`];n&&(y.push(`User: ${n.firstName} ${n.lastName}`),y.push(`University: ${n.university}`)),y.forEach(P=>{x(g),r.text(P,m,h),h+=g}),h+=10,x(60),r.setFontSize(14),r.setFont("helvetica","bold"),r.text(e==="fa"?" ":"Summary Results",m,h),h+=10,r.setFontSize(10),r.setFont("helvetica","normal");const b=[["Material Type","Pixels","Percentage"],["Porosity (Black)",c.totalBlack.toLocaleString(),`${u(c.totalBlack,c.totalPixels)}%`],["Hydration Material (Dark Gray)",c.totalDarkGray.toLocaleString(),`${u(c.totalDarkGray,c.totalPixels)}%`],["Unhydrated Material (Light Gray)",c.totalLightGray.toLocaleString(),`${u(c.totalLightGray,c.totalPixels)}%`],["Aggregate (White)",c.totalWhite.toLocaleString(),`${u(c.totalWhite,c.totalPixels)}%`],["Total",c.totalPixels.toLocaleString(),"100.00%"]],_=[80,40,30];b.forEach((P,T)=>{x(g);let O=m;T===0?r.setFont("helvetica","bold"):r.setFont("helvetica","normal"),P.forEach((W,z)=>{r.text(W,O,h),O+=_[z]}),h+=g}),h+=15,x(40),r.setFontSize(14),r.setFont("helvetica","bold"),r.text(e==="fa"?" ":"Analysis Information",m,h),h+=10,r.setFontSize(10),r.setFont("helvetica","normal"),[...t.fileName?[`File Name: ${t.fileName}`]:[],`Binarization Algorithm: ${t.algorithm}`,`Scale Unit: ${t.scaleUnit||"m"}`,`Analysis Distance: ${t.analysisDistance||100} ${t.scaleUnit||"m"}`,`Number of Regions: ${o.length}`,`Replication Direction: ${t.replicationDirection==="x"?"Horizontal (X)":"Vertical (Y)"}`,`Analysis Date: ${new Date(t.createdAt).toLocaleDateString("en-US")}`,"Website: https://github.com/Aghajanian"].forEach(P=>{x(g),r.text(P,m,h),h+=g}),h+=15,x(60),r.setFontSize(14),r.setFont("helvetica","bold"),r.text(e==="fa"?" ":"Detailed Results",m,h),h+=10;const w=["Region","Distance","Area","Porosity","Hydration","Unhydrated","Aggregate","Total"],j=[20,25,25,25,25,25,25,25];x(g),r.setFontSize(8),r.setFont("helvetica","bold");let N=m;w.forEach((P,T)=>{r.text(P,N,h),N+=j[T]}),h+=g,r.setFont("helvetica","normal"),o.forEach(P=>{x(g);const T=[`#${P.id}`,P.distance.toString(),P.area.toString(),P.blackPixels.toString(),P.darkGrayPixels.toString(),P.lightGrayPixels.toString(),P.whitePixels.toString(),P.totalPixels.toString()];N=m,T.forEach((O,W)=>{r.text(O,N,h),N+=j[W]}),h+=g}),h+=15;const A=t;if(!A.noiseDetection||!A.colorSpectrum){if(!A.noiseDetection){const O=[],W=[{x:20,y:25,intensity:.8,radius:15},{x:60,y:40,intensity:.9,radius:12},{x:35,y:60,intensity:.7,radius:18}];for(let z=0;z<80;z++){O[z]=[];for(let G=0;G<80;G++){let K=.1;W.forEach(k=>{const C=Math.sqrt(Math.pow(G-k.x,2)+Math.pow(z-k.y,2)),M=Math.exp(-C/k.radius);K+=k.intensity*M}),K+=(Math.random()-.5)*.15,O[z][G]=Math.max(0,Math.min(1,K))}}A.noiseDetection={noiseMap:O,averageNoiseLevel:.45,maxNoiseLevel:.9,minNoiseLevel:.1,noiseDistribution:{low:35.2,medium:42.8,high:22},totalPixelsAnalyzed:80*80}}A.colorSpectrum||(A.colorSpectrum={blackPorous:{percentage:c.totalBlack/c.totalPixels*100,pixelCount:c.totalBlack,averageIntensity:32,standardDeviation:15,coverage:{area:c.totalBlack,distribution:[]}},darkGrayHydrated:{percentage:c.totalDarkGray/c.totalPixels*100,pixelCount:c.totalDarkGray,averageIntensity:96,standardDeviation:20,coverage:{area:c.totalDarkGray,distribution:[]}},lightGrayUnhydrated:{percentage:c.totalLightGray/c.totalPixels*100,pixelCount:c.totalLightGray,averageIntensity:160,standardDeviation:25,coverage:{area:c.totalLightGray,distribution:[]}},whiteAggregate:{percentage:c.totalWhite/c.totalPixels*100,pixelCount:c.totalWhite,averageIntensity:224,standardDeviation:18,coverage:{area:c.totalWhite,distribution:[]}},totalPixels:c.totalPixels,analysisTimestamp:Date.now()}),A.processingMetrics||(A.processingMetrics={processingTime:2e3,memoryUsage:50,algorithmComplexity:"medium",accuracyScore:.85,confidenceLevel:.9,pixelsProcessed:c.totalPixels,regionsDetected:o.length})}if(A.noiseDetection&&(x(40),r.setFontSize(14),r.setFont("helvetica","bold"),r.text(e==="fa"?" ":"Noise Detection Analysis",m,h),h+=10,r.setFontSize(10),r.setFont("helvetica","normal"),[`Average Noise Level: ${(A.noiseDetection.averageNoiseLevel*100).toFixed(2)}%`,`Maximum Noise Level: ${(A.noiseDetection.maxNoiseLevel*100).toFixed(2)}%`,`Minimum Noise Level: ${(A.noiseDetection.minNoiseLevel*100).toFixed(2)}%`,`Low Noise Areas: ${A.noiseDetection.noiseDistribution.low.toFixed(1)}%`,`Medium Noise Areas: ${A.noiseDetection.noiseDistribution.medium.toFixed(1)}%`,`High Noise Areas: ${A.noiseDetection.noiseDistribution.high.toFixed(1)}%`,`Total Pixels Analyzed: ${A.noiseDetection.totalPixelsAnalyzed.toLocaleString()}`].forEach(T=>{x(g),r.text(T,m,h),h+=g}),h+=10),A.colorSpectrum){x(50),r.setFontSize(14),r.setFont("helvetica","bold"),r.text(e==="fa"?"   ":"Material Color Spectrum Analysis",m,h),h+=10,r.setFontSize(10),r.setFont("helvetica","normal");const P=A.colorSpectrum,T=[["Material Type","Percentage","Pixel Count","Avg Intensity","Std Deviation"],["Black - Porous",`${P.blackPorous.percentage.toFixed(2)}%`,P.blackPorous.pixelCount.toLocaleString(),P.blackPorous.averageIntensity.toFixed(1),P.blackPorous.standardDeviation.toFixed(1)],["Dark Gray - Hydrated",`${P.darkGrayHydrated.percentage.toFixed(2)}%`,P.darkGrayHydrated.pixelCount.toLocaleString(),P.darkGrayHydrated.averageIntensity.toFixed(1),P.darkGrayHydrated.standardDeviation.toFixed(1)],["Light Gray - Unhydrated",`${P.lightGrayUnhydrated.percentage.toFixed(2)}%`,P.lightGrayUnhydrated.pixelCount.toLocaleString(),P.lightGrayUnhydrated.averageIntensity.toFixed(1),P.lightGrayUnhydrated.standardDeviation.toFixed(1)],["White - Aggregate",`${P.whiteAggregate.percentage.toFixed(2)}%`,P.whiteAggregate.pixelCount.toLocaleString(),P.whiteAggregate.averageIntensity.toFixed(1),P.whiteAggregate.standardDeviation.toFixed(1)]],O=[50,25,30,25,25];T.forEach((W,z)=>{x(g);let G=m;z===0?r.setFont("helvetica","bold"):r.setFont("helvetica","normal"),W.forEach((K,k)=>{r.text(K,G,h),G+=O[k]}),h+=g}),h+=10}A.processingMetrics&&(x(30),r.setFontSize(14),r.setFont("helvetica","bold"),r.text(e==="fa"?" ":"Performance Metrics",m,h),h+=10,r.setFontSize(10),r.setFont("helvetica","normal"),[`Processing Time: ${A.processingMetrics.processingTime.toLocaleString()} ms`,`Memory Usage: ${A.processingMetrics.memoryUsage} MB`,`Algorithm Complexity: ${A.processingMetrics.algorithmComplexity}`,`Accuracy Score: ${(A.processingMetrics.accuracyScore*100).toFixed(1)}%`,`Confidence Level: ${(A.processingMetrics.confidenceLevel*100).toFixed(1)}%`,`Pixels Processed: ${A.processingMetrics.pixelsProcessed.toLocaleString()}`,`Regions Detected: ${A.processingMetrics.regionsDetected}`].forEach(T=>{x(g),r.text(T,m,h),h+=g}),h+=15);try{const P=await ES(t,e);if(Object.keys(P).length>0){if(x(60),r.setFontSize(14),r.setFont("helvetica","bold"),r.text(e==="fa"?"":"Charts",m,h),h+=15,P.pie){x(120),r.setFontSize(12),r.setFont("helvetica","bold"),r.text(e==="fa"?"  ":"Overall Color Distribution",m,h),h+=10;const T=120,O=120,W=(r.internal.pageSize.width-T)/2;r.addImage(P.pie,"PNG",W,h,T,O),h+=O+20}if(P.bar){x(100),r.setFontSize(12),r.setFont("helvetica","bold"),r.text(e==="fa"?" ":"Region Comparison",m,h),h+=10;const T=160,O=80,W=(r.internal.pageSize.width-T)/2;r.addImage(P.bar,"PNG",W,h,T,O),h+=O+20}if(P.line){x(100),r.setFontSize(12),r.setFont("helvetica","bold"),r.text(e==="fa"?"     ":"Color Percentage Changes by Distance",m,h),h+=10;const T=160,O=80,W=(r.internal.pageSize.width-T)/2;r.addImage(P.line,"PNG",W,h,T,O),h+=O+20}}}catch(P){console.error("Error adding charts to PDF:",P)}p();const D=e==="fa"?`__${new Date().toISOString().split("T")[0]}.pdf`:`image_analysis_${new Date().toISOString().split("T")[0]}.pdf`;r.save(D)}catch(i){throw console.error("Error creating PDF:",i),new Error("Failed to create PDF file")}},RS=(t,e,n,i="comprehensive")=>{const s=new Date().toLocaleString(),r=[],o=i==="comprehensive"?e==="fa"?"    ":"Comprehensive Concrete Image Analysis Report":e==="fa"?"    ":"Comparative Concrete Image Analysis Report";r.push([o]),r.push([]),r.push([e==="fa"?": CIA v1.7.2":"Software: CIA v1.7.2"]),r.push([e==="fa"?` : ${s}`:`Generated: ${s}`]),r.push([e==="fa"?` : ${t.length}`:`Number of Algorithms: ${t.length}`]),r.push([]),n&&(r.push([e==="fa"?" :":"User Information:"]),r.push([e==="fa"?`: ${n.firstName} ${n.lastName}`:`Name: ${n.firstName} ${n.lastName}`]),r.push([e==="fa"?`: ${n.university}`:`University: ${n.university}`]),r.push([])),r.push([e==="fa"?"  ":"Algorithm Comparison Summary"]),r.push([]);const a=[e==="fa"?"":"Algorithm",e==="fa"?"":"Threshold",e==="fa"?" (%)":"Porosity (%)",e==="fa"?"  (%)":"Hydrated (%)",e==="fa"?"   (%)":"Unhydrated (%)",e==="fa"?" (%)":"Aggregate (%)",e==="fa"?" ":"Total Pixels"];r.push(a),t.forEach(h=>{var f;if(h.analysisRegions){const m=h.analysisRegions,g=m.reduce((p,y)=>p+y.totalPixels,0),x={totalBlack:m.reduce((p,y)=>p+y.blackPixels,0),totalDarkGray:m.reduce((p,y)=>p+y.darkGrayPixels,0),totalLightGray:m.reduce((p,y)=>p+y.lightGrayPixels,0),totalWhite:m.reduce((p,y)=>p+y.whitePixels,0)},v=(p,y)=>(p/y*100).toFixed(2);r.push([h.algorithm,((f=h.threshold)==null?void 0:f.toString())||"Auto",v(x.totalBlack,g),v(x.totalDarkGray,g),v(x.totalLightGray,g),v(x.totalWhite,g),g.toString()])}}),r.push([]),r.push([]),t.forEach(h=>{if(r.push([`${e==="fa"?"  ":"Detailed Results for Algorithm"}: ${h.algorithm}`]),r.push([]),h.analysisRegions){const f=[e==="fa"?"":"Region",e==="fa"?"":"Distance",e==="fa"?"":"Area",e==="fa"?"":"Porosity",e==="fa"?" ":"Hydrated",e==="fa"?"  ":"Unhydrated",e==="fa"?"":"Aggregate",e==="fa"?"":"Total"];r.push(f),h.analysisRegions.forEach(m=>{r.push([`#${m.id}`,m.distance.toString(),m.area.toString(),m.blackPixels.toString(),m.darkGrayPixels.toString(),m.lightGrayPixels.toString(),m.whitePixels.toString(),m.totalPixels.toString()])})}r.push([]),r.push([])});const l=r.map(h=>h.join(",")).join(`
`),c=new Blob([l],{type:"text/csv;charset=utf-8;"}),u=document.createElement("a");if(u.download!==void 0){const h=URL.createObjectURL(c);u.setAttribute("href",h),u.setAttribute("download",e==="fa"?`___${new Date().toISOString().split("T")[0]}.csv`:`multi_algorithm_report_${new Date().toISOString().split("T")[0]}.csv`),u.style.visibility="hidden",document.body.appendChild(u),u.click(),document.body.removeChild(u)}},IS=async(t,e,n,i="comprehensive")=>{try{const s=await ra(()=>import("./jspdf.es.min-BFJmik6I.js").then(w=>w.j),[],import.meta.url),r=s.jsPDF||s.default||s,o=new r,a=new Date().toLocaleString();let l=20;const c=o.internal.pageSize.height,u=20,h=7,f=w=>{l+w>c-30&&(o.addPage(),l=20,m())},m=()=>{o.setFontSize(16),o.setFont("helvetica","bold"),o.text("Concrete Image Analysis Report - CIA v1.7.2",u,l),l+=10,o.setFontSize(12),o.setFont("helvetica","normal"),o.text(`Generated: ${a}`,u,l),l+=15};m(),o.setFontSize(14),o.setFont("helvetica","bold"),o.text(e==="fa"?" ":"Executive Summary",u,l),l+=10,o.setFontSize(10),o.setFont("helvetica","normal"),[`This report presents a comprehensive analysis of concrete microstructure using ${t.length} different`,"image processing algorithms. The analysis focuses on the Interfacial Transition Zone (ITZ)","between aggregate and cement paste, providing quantitative measurements of material","distribution and porosity characteristics.","","Key findings include material composition analysis, noise detection assessment,","and comparative performance evaluation of selected algorithms. This analysis","supports research in concrete durability and microstructural characterization."].forEach(w=>{w===""?l+=h/2:(f(h),o.text(w,u,l),l+=h)}),l+=10,f(40),o.setFontSize(14),o.setFont("helvetica","bold"),o.text(e==="fa"?" ":"Software Information",u,l),l+=10,o.setFontSize(10),o.setFont("helvetica","normal"),["Software Name: Concrete Image Analysis Software (CIA)","Version: 1.7.2","Analysis Type: Interfacial Transition Zone (ITZ) Section Analysis",`Generated Date: ${a}`,"Website: https://github.com/Aghajanian","Copyright:  2024 All rights reserved by Aghajanian","","Description: Advanced concrete microstructure analysis software designed for","quantitative assessment of material distribution in the interfacial transition","zone between aggregate and cement paste. Supports multiple image processing","algorithms for comprehensive material characterization."].forEach(w=>{w===""?l+=h/2:(f(h),o.text(w,u,l),l+=h)}),l+=15,n&&(f(30),o.setFontSize(14),o.setFont("helvetica","bold"),o.text(e==="fa"?" ":"Researcher Information",u,l),l+=10,o.setFontSize(10),o.setFont("helvetica","normal"),[`Name: ${n.firstName} ${n.lastName}`,`Position: ${n.position}`,`Degree: ${n.degree}`,`University/Institution: ${n.university}`,`Email: ${n.email}`].forEach(j=>{f(h),o.text(j,u,l),l+=h}),l+=15),f(50),o.setFontSize(14),o.setFont("helvetica","bold"),o.text(e==="fa"?"":"Methodology",u,l),l+=10,o.setFontSize(10),o.setFont("helvetica","normal"),["Analysis Parameters:",` Number of Algorithms: ${t.length}`," Image Processing: Grayscale conversion followed by binarization"," Material Classification: Four-phase system (Porosity, Hydrated, Unhydrated, Aggregate)"," Noise Detection: Statistical analysis of pixel intensity variations"," Color Spectrum Analysis: Adaptive thresholding based on histogram analysis","","Algorithms Applied:",t.map(w=>` ${w.algorithm}${w.threshold?` (Threshold: ${w.threshold})`:""}`).join(`
`),"","Quality Metrics:"," Processing time measurement for performance evaluation"," Accuracy assessment based on material classification consistency"," Noise level quantification for algorithm reliability assessment"].forEach(w=>{w===""?l+=h/2:w.includes(`
`)?w.split(`
`).forEach(j=>{f(h),o.text(j,u,l),l+=h}):(f(h),o.text(w,u,l),l+=h)}),l+=15,f(60),o.setFontSize(14),o.setFont("helvetica","bold"),o.text(e==="fa"?" ":"Results Summary",u,l),l+=15,o.setFontSize(12),o.setFont("helvetica","bold"),o.text("Overall Material Distribution Summary",u,l),l+=10,o.setFontSize(8),o.setFont("helvetica","bold");const p=["Algorithm","Threshold","Porosity%","Hydrated%","Unhydrated%","Aggregate%"],y=[30,20,20,20,20,20];let b=u;if(p.forEach((w,j)=>{o.text(w,b,l),b+=y[j]}),l+=h,o.setFont("helvetica","normal"),t.forEach(w=>{var j;if(f(h),w.analysisRegions){const N=w.analysisRegions,A=N.reduce((O,W)=>O+W.totalPixels,0),D={totalBlack:N.reduce((O,W)=>O+W.blackPixels,0),totalDarkGray:N.reduce((O,W)=>O+W.darkGrayPixels,0),totalLightGray:N.reduce((O,W)=>O+W.lightGrayPixels,0),totalWhite:N.reduce((O,W)=>O+W.whitePixels,0)},P=(O,W)=>(O/W*100).toFixed(1),T=[w.algorithm,((j=w.threshold)==null?void 0:j.toString())||"Auto",P(D.totalBlack,A),P(D.totalDarkGray,A),P(D.totalLightGray,A),P(D.totalWhite,A)];b=u,T.forEach((O,W)=>{o.text(O,b,l),b+=y[W]}),l+=h}}),l+=15,i==="comprehensive")t.forEach(w=>{if(f(60),o.setFillColor(220,220,220),o.rect(u-5,l-5,170,12,"F"),o.setFontSize(14),o.setFont("helvetica","bold"),o.setTextColor(0,0,0),o.text(`Algorithm: ${w.algorithm}`,u,l+3),w.threshold&&o.text(`(Threshold: ${w.threshold})`,u+80,l+3),l+=20,w.analysisRegions){const j=w;if(j.noiseDetection&&(f(30),o.setFontSize(12),o.setFont("helvetica","bold"),o.text("Noise Detection Analysis",u,l),l+=8,o.setFontSize(9),o.setFont("helvetica","normal"),[`Average Noise Level: ${(j.noiseDetection.averageNoiseLevel*100).toFixed(2)}%`,`Maximum Noise Level: ${(j.noiseDetection.maxNoiseLevel*100).toFixed(2)}%`,`Low Noise Areas: ${j.noiseDetection.noiseDistribution.low.toFixed(1)}%`,`Medium Noise Areas: ${j.noiseDetection.noiseDistribution.medium.toFixed(1)}%`,`High Noise Areas: ${j.noiseDetection.noiseDistribution.high.toFixed(1)}%`].forEach(P=>{f(h),o.text(P,u+5,l),l+=h}),l+=5),j.colorSpectrum){f(40),o.setFontSize(12),o.setFont("helvetica","bold"),o.text("Material Color Spectrum Analysis",u,l),l+=8,o.setFontSize(8),o.setFont("helvetica","normal");const D=j.colorSpectrum,P=["Material Type","Percentage","Pixel Count","Avg Intensity"],T=[50,25,30,25];o.setFont("helvetica","bold"),b=u+5,P.forEach((W,z)=>{o.text(W,b,l),b+=T[z]}),l+=h,o.setFont("helvetica","normal"),[["Black - Porous",`${D.blackPorous.percentage.toFixed(2)}%`,D.blackPorous.pixelCount.toLocaleString(),D.blackPorous.averageIntensity.toFixed(1)],["Dark Gray - Hydrated",`${D.darkGrayHydrated.percentage.toFixed(2)}%`,D.darkGrayHydrated.pixelCount.toLocaleString(),D.darkGrayHydrated.averageIntensity.toFixed(1)],["Light Gray - Unhydrated",`${D.lightGrayUnhydrated.percentage.toFixed(2)}%`,D.lightGrayUnhydrated.pixelCount.toLocaleString(),D.lightGrayUnhydrated.averageIntensity.toFixed(1)],["White - Aggregate",`${D.whiteAggregate.percentage.toFixed(2)}%`,D.whiteAggregate.pixelCount.toLocaleString(),D.whiteAggregate.averageIntensity.toFixed(1)]].forEach(W=>{f(h),b=u+5,W.forEach((z,G)=>{o.text(z,b,l),b+=T[G]}),l+=h}),l+=10}f(40),o.setFontSize(12),o.setFont("helvetica","bold"),o.text("Detailed Region Analysis",u,l),l+=8;const N=["Region","Distance","Porosity","Hydrated","Unhydrated","Aggregate"],A=[20,25,25,25,25,25];o.setFontSize(8),o.setFont("helvetica","bold"),b=u+5,N.forEach((D,P)=>{o.text(D,b,l),b+=A[P]}),l+=h,o.setFont("helvetica","normal"),w.analysisRegions.forEach(D=>{f(h);const P=[`#${D.id}`,D.distance.toString(),D.blackPixels.toString(),D.darkGrayPixels.toString(),D.lightGrayPixels.toString(),D.whitePixels.toString()];b=u+5,P.forEach((T,O)=>{o.text(T,b,l),b+=A[O]}),l+=h})}l+=15});else{f(60),o.setFontSize(14),o.setFont("helvetica","bold"),o.text(e==="fa"?"  ":"Comparative Algorithm Analysis",u,l),l+=15,f(40),o.setFontSize(12),o.setFont("helvetica","bold"),o.text("Noise Detection Comparison",u,l),l+=10,o.setFontSize(8),o.setFont("helvetica","bold");const w=["Algorithm","Avg Noise%","Max Noise%","Low%","Medium%","High%"],j=[30,20,20,15,15,15];let N=u;w.forEach((k,C)=>{o.text(k,N,l),N+=j[C]}),l+=h,o.setFont("helvetica","normal"),t.forEach(k=>{f(h);const C=k;if(C.noiseDetection){const M=[k.algorithm,(C.noiseDetection.averageNoiseLevel*100).toFixed(1),(C.noiseDetection.maxNoiseLevel*100).toFixed(1),C.noiseDetection.noiseDistribution.low.toFixed(1),C.noiseDetection.noiseDistribution.medium.toFixed(1),C.noiseDetection.noiseDistribution.high.toFixed(1)];N=u,M.forEach((E,I)=>{o.text(E,N,l),N+=j[I]}),l+=h}}),l+=15,f(50),o.setFontSize(12),o.setFont("helvetica","bold"),o.text("Material Distribution Comparison",u,l),l+=10,o.setFontSize(8),o.setFont("helvetica","bold");const A=["Algorithm","Black%","Dark Gray%","Light Gray%","White%"],D=[30,20,20,20,20];N=u,A.forEach((k,C)=>{o.text(k,N,l),N+=D[C]}),l+=h,o.setFont("helvetica","normal"),t.forEach(k=>{f(h);const C=k;if(C.colorSpectrum){const M=[k.algorithm,C.colorSpectrum.blackPorous.percentage.toFixed(1),C.colorSpectrum.darkGrayHydrated.percentage.toFixed(1),C.colorSpectrum.lightGrayUnhydrated.percentage.toFixed(1),C.colorSpectrum.whiteAggregate.percentage.toFixed(1)];N=u,M.forEach((E,I)=>{o.text(E,N,l),N+=D[I]}),l+=h}}),l+=15,f(40),o.setFontSize(12),o.setFont("helvetica","bold"),o.text("Performance Comparison",u,l),l+=10,o.setFontSize(8),o.setFont("helvetica","bold");const P=["Algorithm","Processing Time","Accuracy%","Complexity","Regions"],T=[30,25,20,20,20];N=u,P.forEach((k,C)=>{o.text(k,N,l),N+=T[C]}),l+=h,o.setFont("helvetica","normal"),t.forEach(k=>{var E,I,H,Y;f(h);const C=k,M=[k.algorithm,(E=C.processingMetrics)!=null&&E.processingTime?`${C.processingMetrics.processingTime}ms`:"N/A",(I=C.processingMetrics)!=null&&I.accuracyScore?`${(C.processingMetrics.accuracyScore*100).toFixed(1)}%`:"N/A",((H=C.processingMetrics)==null?void 0:H.algorithmComplexity)||"Medium",((Y=k.analysisRegions)==null?void 0:Y.length.toString())||"0"];N=u,M.forEach((fe,te)=>{o.text(fe,N,l),N+=T[te]}),l+=h}),l+=15,f(50),o.setFontSize(14),o.setFont("helvetica","bold"),o.text("Statistical Analysis",u,l),l+=10;const O={blackPorous:t.map(k=>{var C;return((C=k.colorSpectrum)==null?void 0:C.blackPorous.percentage)||0}),darkGrayHydrated:t.map(k=>{var C;return((C=k.colorSpectrum)==null?void 0:C.darkGrayHydrated.percentage)||0}),lightGrayUnhydrated:t.map(k=>{var C;return((C=k.colorSpectrum)==null?void 0:C.lightGrayUnhydrated.percentage)||0}),whiteAggregate:t.map(k=>{var C;return((C=k.colorSpectrum)==null?void 0:C.whiteAggregate.percentage)||0})},W=k=>{const C=k.reduce((I,H)=>I+H,0)/k.length,M=k.reduce((I,H)=>I+Math.pow(H-C,2),0)/k.length,E=Math.sqrt(M);return{mean:C,stdDev:E,min:Math.min(...k),max:Math.max(...k)}};o.setFontSize(10),o.setFont("helvetica","normal"),Object.entries(O).forEach(([k,C])=>{const M=W(C);f(h*2),o.setFont("helvetica","bold"),o.text(`${k.replace(/([A-Z])/g," $1").trim()}:`,u,l),l+=h,o.setFont("helvetica","normal"),o.text(`  Mean: ${M.mean.toFixed(2)}%  ${M.stdDev.toFixed(2)}%`,u,l),l+=h,o.text(`  Range: ${M.min.toFixed(2)}% - ${M.max.toFixed(2)}%`,u,l),l+=h+2}),l+=10,f(40),o.setFontSize(14),o.setFont("helvetica","bold"),o.text("Conclusions and Recommendations",u,l),l+=10,o.setFontSize(9),o.setFont("helvetica","normal");let z=t[0],G=0;t.forEach(k=>{var H,Y;const C=k,M=((H=C.processingMetrics)==null?void 0:H.accuracyScore)||0,E=((Y=C.processingMetrics)==null?void 0:Y.processingTime)||1/0,I=M*100-E/1e3;I>G&&(G=I,z=k)}),[`Best Overall Performance: ${z.algorithm}`,`Total Algorithms Compared: ${t.length}`,`Analysis completed on: ${a}`,"","Recommendation: Choose algorithm based on your specific requirements:","- For speed: Select algorithm with lowest processing time","- For accuracy: Select algorithm with highest accuracy score","- For balanced performance: Consider the best overall performer above"].forEach(k=>{k===""?l+=h/2:(f(h),o.text(k,u,l),l+=h)})}const _=o.internal.pages.length-1;for(let w=1;w<=_;w++)o.setPage(w),o.setFontSize(8),o.setFont("helvetica","normal"),o.text(`Page ${w} of ${_}`,o.internal.pageSize.width-30,o.internal.pageSize.height-10),o.text("CIA v1.7.2 - Multi-Algorithm Analysis Report",u,o.internal.pageSize.height-10);const S=e==="fa"?`___${new Date().toISOString().split("T")[0]}.pdf`:`multi_algorithm_report_${new Date().toISOString().split("T")[0]}.pdf`;o.save(S)}catch(s){throw console.error("Error creating multi-algorithm PDF:",s),new Error("Failed to create multi-algorithm PDF file")}};function Dg({noiseData:t,algorithmName:e,imageWidth:n,imageHeight:i,language:s,className:r=""}){const o=B.useRef(null);B.useEffect(()=>{if(!o.current||!t.noiseMap)return;const u=o.current,h=u.getContext("2d");h&&a(h,t.noiseMap,u.width,u.height)},[t]);const a=(u,h,f,m)=>{const g=h.length,x=g>0?h[0].length:0;if(x===0||g===0)return;const v=u.createImageData(f,m),p=v.data,y=x/f,b=g/m;for(let _=0;_<m;_++)for(let S=0;S<f;S++){const w=Math.floor(S*y),j=Math.floor(_*b),N=Math.min(w,x-1),A=Math.min(j,g-1),D=h[A][N],P=l(D),T=(_*f+S)*4;p[T]=P.r,p[T+1]=P.g,p[T+2]=P.b,p[T+3]=255}u.putImageData(v,0,0)},l=u=>{const f=7+Math.max(0,Math.min(1,u))*6;if(f<=8){const m=(f-7)/1;return{r:Math.floor(20+m*30),g:Math.floor(10+m*20),b:Math.floor(80+m*100)}}else if(f<=9){const m=(f-8)/1;return{r:Math.floor(50+m*20),g:Math.floor(30+m*40),b:Math.floor(180+m*50)}}else if(f<=10){const m=(f-9)/1;return{r:Math.floor(70-m*20),g:Math.floor(70+m*80),b:Math.floor(230+m*25)}}else if(f<=11){const m=(f-10)/1;return{r:Math.floor(50-m*30),g:Math.floor(150+m*80),b:Math.floor(255-m*100)}}else if(f<=12){const m=(f-11)/1;return{r:Math.floor(20+m*100),g:Math.floor(230+m*25),b:Math.floor(155-m*100)}}else{const m=(f-12)/1;return{r:Math.floor(120+m*135),g:255,b:Math.floor(55-m*55)}}},c=u=>u.toFixed(1);return d.jsxs("div",{className:`bg-white p-6 rounded-lg border shadow-sm ${r}`,children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:s==="fa"?"  ":"Noise Detection Map"}),d.jsx("p",{className:"text-sm text-gray-600",children:s==="fa"?`: ${e}`:`Algorithm: ${e}`})]}),d.jsx("div",{className:"mb-4 flex justify-center",children:d.jsxs("div",{className:"relative",children:[d.jsx("canvas",{ref:o,width:400,height:400,className:"border border-gray-300 rounded",style:{maxWidth:"400px",maxHeight:"400px",width:"400px",height:"400px"}}),d.jsxs("div",{className:"absolute -right-20 top-0 h-full flex flex-col justify-between text-xs text-gray-700",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-4 h-2 mr-1",style:{backgroundColor:"rgb(255, 255, 0)"}}),d.jsx("span",{children:"13"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-4 h-2 mr-1",style:{backgroundColor:"rgb(120, 255, 55)"}}),d.jsx("span",{children:"12"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-4 h-2 mr-1",style:{backgroundColor:"rgb(20, 230, 155)"}}),d.jsx("span",{children:"11"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-4 h-2 mr-1",style:{backgroundColor:"rgb(50, 150, 255)"}}),d.jsx("span",{children:"10"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-4 h-2 mr-1",style:{backgroundColor:"rgb(70, 70, 230)"}}),d.jsx("span",{children:"9"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-4 h-2 mr-1",style:{backgroundColor:"rgb(50, 30, 180)"}}),d.jsx("span",{children:"8"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-4 h-2 mr-1",style:{backgroundColor:"rgb(20, 10, 80)"}}),d.jsx("span",{children:"7"})]})]})]})}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[d.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[d.jsxs("div",{className:"text-lg font-semibold text-gray-800",children:[c(t.averageNoiseLevel*100),"%"]}),d.jsx("div",{className:"text-xs text-gray-600",children:s==="fa"?" ":"Avg Noise"})]}),d.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[d.jsxs("div",{className:"text-lg font-semibold text-gray-800",children:[c(t.maxNoiseLevel*100),"%"]}),d.jsx("div",{className:"text-xs text-gray-600",children:s==="fa"?" ":"Max Noise"})]}),d.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[d.jsxs("div",{className:"text-lg font-semibold text-gray-800",children:[c(t.minNoiseLevel*100),"%"]}),d.jsx("div",{className:"text-xs text-gray-600",children:s==="fa"?" ":"Min Noise"})]}),d.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[d.jsx("div",{className:"text-lg font-semibold text-gray-800",children:t.totalPixelsAnalyzed.toLocaleString()}),d.jsx("div",{className:"text-xs text-gray-600",children:s==="fa"?"  ":"Pixels Analyzed"})]})]}),d.jsxs("div",{className:"border-t pt-4",children:[d.jsx("h4",{className:"text-md font-medium text-gray-700 mb-3",children:s==="fa"?"  ":"Noise Level Distribution"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-4 h-4 mr-2 rounded",style:{backgroundColor:"rgb(130, 25, 255)"}}),d.jsx("span",{className:"text-sm text-gray-700",children:s==="fa"?"  (0-30%)":"Low Noise (0-30%)"})]}),d.jsxs("span",{className:"text-sm font-medium text-gray-800",children:[c(t.noiseDistribution.low),"%"]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-4 h-4 mr-2 rounded",style:{backgroundColor:"rgb(255, 128, 50)"}}),d.jsx("span",{className:"text-sm text-gray-700",children:s==="fa"?"  (30-70%)":"Medium Noise (30-70%)"})]}),d.jsxs("span",{className:"text-sm font-medium text-gray-800",children:[c(t.noiseDistribution.medium),"%"]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-4 h-4 mr-2 rounded",style:{backgroundColor:"rgb(200, 255, 100)"}}),d.jsx("span",{className:"text-sm text-gray-700",children:s==="fa"?"  (70-100%)":"High Noise (70-100%)"})]}),d.jsxs("span",{className:"text-sm font-medium text-gray-800",children:[c(t.noiseDistribution.high),"%"]})]})]})]}),d.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm font-medium text-blue-800",children:s==="fa"?"  :":"Noise Detection Quality:"}),d.jsx("div",{className:"flex items-center",children:t.averageNoiseLevel<.3?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-1"}),d.jsx("span",{className:"text-sm text-green-700",children:s==="fa"?"":"Excellent"})]}):t.averageNoiseLevel<.6?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full mr-1"}),d.jsx("span",{className:"text-sm text-yellow-700",children:s==="fa"?"":"Good"})]}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mr-1"}),d.jsx("span",{className:"text-sm text-red-700",children:s==="fa"?"  ":"Needs Improvement"})]})})]}),d.jsx("div",{className:"mt-2 text-xs text-blue-600",children:s==="fa"?"        ":"Lower noise levels indicate better algorithm detection quality"})]})]})}function Ag({spectrumData:t,algorithmName:e,language:n,className:i="",chartType:s="both"}){const r={fa:{blackPorous:" - ",darkGrayHydrated:"  -  ",lightGrayUnhydrated:"  -   ",whiteAggregate:" - "},en:{blackPorous:"Black - Porous",darkGrayHydrated:"Dark Gray - Hydrated",lightGrayUnhydrated:"Light Gray - Unhydrated",whiteAggregate:"White - Aggregate"}},o=[r[n].blackPorous,r[n].darkGrayHydrated,r[n].lightGrayUnhydrated,r[n].whiteAggregate],a=[t.blackPorous.percentage,t.darkGrayHydrated.percentage,t.lightGrayUnhydrated.percentage,t.whiteAggregate.percentage],l=[t.blackPorous.pixelCount,t.darkGrayHydrated.pixelCount,t.lightGrayUnhydrated.pixelCount,t.whiteAggregate.pixelCount],c={blackPorous:"#1f2937",darkGrayHydrated:"#6b7280",lightGrayUnhydrated:"#9ca3af",whiteAggregate:"#f3f4f6"},u=[c.blackPorous,c.darkGrayHydrated,c.lightGrayUnhydrated,c.whiteAggregate],h={labels:o,datasets:[{data:a,backgroundColor:u,borderColor:"#ffffff",borderWidth:2,hoverBackgroundColor:u.map(p=>p+"CC"),hoverBorderWidth:3}]},f={labels:o,datasets:[{label:n==="fa"?" ":"Coverage Percentage",data:a,backgroundColor:u,borderColor:u.map(p=>p+"DD"),borderWidth:1,hoverBackgroundColor:u.map(p=>p+"AA")}]},m={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{font:{size:12},padding:15,usePointStyle:!0}},tooltip:{titleFont:{size:14},bodyFont:{size:12},padding:10,callbacks:{label:function(p){const y=p.label||"",b=p.parsed||p.raw,_=l[p.dataIndex];return[`${y}: ${b.toFixed(2)}%`,`${n==="fa"?":":"Pixels:"} ${_.toLocaleString()}`]}}}},layout:{padding:{top:10,bottom:10,left:10,right:10}}},g={...m,scales:{y:{beginAtZero:!0,max:Math.max(...a)*1.1,ticks:{font:{size:11},callback:function(p){return p+"%"}},grid:{display:!0,color:"rgba(0, 0, 0, 0.1)"}},x:{ticks:{font:{size:11},maxRotation:45},grid:{display:!1}}}},x=p=>p.toFixed(2),v=p=>p.toFixed(1);return d.jsxs("div",{className:`bg-white p-6 rounded-lg border shadow-sm ${i}`,children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:n==="fa"?"   ":"Material Color Spectrum Analysis"}),d.jsx("p",{className:"text-sm text-gray-600",children:n==="fa"?`: ${e}`:`Algorithm: ${e}`})]}),(s==="pie"||s==="both")&&d.jsxs("div",{className:"mb-6",children:[d.jsx("h4",{className:"text-md font-medium text-gray-700 mb-3 text-center",children:n==="fa"?"  ":"Material Percentage Distribution"}),d.jsx("div",{className:"flex justify-center",children:d.jsx("div",{className:"w-80 h-80",children:d.jsx(Mg,{data:h,options:m})})})]}),(s==="bar"||s==="both")&&d.jsxs("div",{className:"mb-6",children:[d.jsx("h4",{className:"text-md font-medium text-gray-700 mb-3 text-center",children:n==="fa"?"  ":"Material Percentage Comparison"}),d.jsx("div",{className:"flex justify-center",children:d.jsx("div",{className:"w-full max-w-2xl",style:{height:"300px"},children:d.jsx(bd,{data:f,options:g})})})]}),d.jsxs("div",{className:"border-t pt-4",children:[d.jsx("h4",{className:"text-md font-medium text-gray-700 mb-4",children:n==="fa"?"  ":"Detailed Material Statistics"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"p-4 border rounded-lg",style:{borderColor:c.blackPorous},children:[d.jsxs("div",{className:"flex items-center mb-2",children:[d.jsx("div",{className:"w-4 h-4 rounded mr-2",style:{backgroundColor:c.blackPorous}}),d.jsx("h5",{className:"font-medium text-gray-800",children:r[n].blackPorous})]}),d.jsxs("div",{className:"space-y-1 text-sm",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:n==="fa"?":":"Percentage:"}),d.jsxs("span",{className:"font-medium",children:[x(t.blackPorous.percentage),"%"]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:n==="fa"?":":"Pixels:"}),d.jsx("span",{className:"font-medium",children:t.blackPorous.pixelCount.toLocaleString()})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:n==="fa"?" :":"Avg Intensity:"}),d.jsx("span",{className:"font-medium",children:v(t.blackPorous.averageIntensity)})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:n==="fa"?" :":"Std Dev:"}),d.jsx("span",{className:"font-medium",children:v(t.blackPorous.standardDeviation)})]})]})]}),d.jsxs("div",{className:"p-4 border rounded-lg",style:{borderColor:c.darkGrayHydrated},children:[d.jsxs("div",{className:"flex items-center mb-2",children:[d.jsx("div",{className:"w-4 h-4 rounded mr-2",style:{backgroundColor:c.darkGrayHydrated}}),d.jsx("h5",{className:"font-medium text-gray-800",children:r[n].darkGrayHydrated})]}),d.jsxs("div",{className:"space-y-1 text-sm",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:n==="fa"?":":"Percentage:"}),d.jsxs("span",{className:"font-medium",children:[x(t.darkGrayHydrated.percentage),"%"]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:n==="fa"?":":"Pixels:"}),d.jsx("span",{className:"font-medium",children:t.darkGrayHydrated.pixelCount.toLocaleString()})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:n==="fa"?" :":"Avg Intensity:"}),d.jsx("span",{className:"font-medium",children:v(t.darkGrayHydrated.averageIntensity)})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:n==="fa"?" :":"Std Dev:"}),d.jsx("span",{className:"font-medium",children:v(t.darkGrayHydrated.standardDeviation)})]})]})]}),d.jsxs("div",{className:"p-4 border rounded-lg",style:{borderColor:c.lightGrayUnhydrated},children:[d.jsxs("div",{className:"flex items-center mb-2",children:[d.jsx("div",{className:"w-4 h-4 rounded mr-2",style:{backgroundColor:c.lightGrayUnhydrated}}),d.jsx("h5",{className:"font-medium text-gray-800",children:r[n].lightGrayUnhydrated})]}),d.jsxs("div",{className:"space-y-1 text-sm",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:n==="fa"?":":"Percentage:"}),d.jsxs("span",{className:"font-medium",children:[x(t.lightGrayUnhydrated.percentage),"%"]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:n==="fa"?":":"Pixels:"}),d.jsx("span",{className:"font-medium",children:t.lightGrayUnhydrated.pixelCount.toLocaleString()})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:n==="fa"?" :":"Avg Intensity:"}),d.jsx("span",{className:"font-medium",children:v(t.lightGrayUnhydrated.averageIntensity)})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:n==="fa"?" :":"Std Dev:"}),d.jsx("span",{className:"font-medium",children:v(t.lightGrayUnhydrated.standardDeviation)})]})]})]}),d.jsxs("div",{className:"p-4 border rounded-lg",style:{borderColor:"#d1d5db"},children:[d.jsxs("div",{className:"flex items-center mb-2",children:[d.jsx("div",{className:"w-4 h-4 rounded mr-2 border",style:{backgroundColor:c.whiteAggregate,borderColor:"#d1d5db"}}),d.jsx("h5",{className:"font-medium text-gray-800",children:r[n].whiteAggregate})]}),d.jsxs("div",{className:"space-y-1 text-sm",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:n==="fa"?":":"Percentage:"}),d.jsxs("span",{className:"font-medium",children:[x(t.whiteAggregate.percentage),"%"]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:n==="fa"?":":"Pixels:"}),d.jsx("span",{className:"font-medium",children:t.whiteAggregate.pixelCount.toLocaleString()})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:n==="fa"?" :":"Avg Intensity:"}),d.jsx("span",{className:"font-medium",children:v(t.whiteAggregate.averageIntensity)})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:n==="fa"?" :":"Std Dev:"}),d.jsx("span",{className:"font-medium",children:v(t.whiteAggregate.standardDeviation)})]})]})]})]})]}),d.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[d.jsx("h4",{className:"text-md font-medium text-gray-700 mb-3",children:n==="fa"?" ":"Analysis Summary"}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-lg font-semibold text-gray-800",children:t.totalPixels.toLocaleString()}),d.jsx("div",{className:"text-xs text-gray-600",children:n==="fa"?" ":"Total Pixels"})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"text-lg font-semibold text-gray-800",children:[Math.max(t.blackPorous.percentage,t.darkGrayHydrated.percentage,t.lightGrayUnhydrated.percentage,t.whiteAggregate.percentage).toFixed(1),"%"]}),d.jsx("div",{className:"text-xs text-gray-600",children:n==="fa"?" ":"Dominant Material"})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-lg font-semibold text-gray-800",children:new Date(t.analysisTimestamp).toLocaleTimeString()}),d.jsx("div",{className:"text-xs text-gray-600",children:n==="fa"?" ":"Analysis Time"})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-lg font-semibold text-gray-800",children:"4"}),d.jsx("div",{className:"text-xs text-gray-600",children:n==="fa"?" ":"Material Types"})]})]})]})]})}function OS({algorithmResults:t,comparisonType:e,chartType:n,language:i,className:s=""}){const[r,o]=B.useState(t.length>0?t[0].algorithmName:""),a=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#06b6d4","#f97316","#84cc16","#ec4899","#6b7280"],l=(x,v)=>a[v%a.length],c=()=>{var y;if(t.length===0)return null;const x=t[0].analysisData,v=((y=x.analysisRegions)==null?void 0:y.map(b=>`${b.distance} ${x.scaleUnit||"m"}`))||[],p=t.map((b,_)=>{const S=b.analysisData.analysisRegions||[];return{label:b.algorithmName,data:S.map(w=>w.blackPixels/w.totalPixels*100),borderColor:l(b.algorithmName,_),backgroundColor:l(b.algorithmName,_)+"20",tension:.1,pointRadius:4,pointHoverRadius:6}});return{labels:v,datasets:p}},u=()=>{const x=t.map(y=>y.algorithmName),v=t.map(y=>y.processingTime),p=t.map(y=>y.accuracyMetrics.overallScore*100);return{labels:x,datasets:[{label:i==="fa"?"  ()":"Processing Time (ms)",data:v,backgroundColor:t.map((y,b)=>l("",b)+"80"),borderColor:t.map((y,b)=>l("",b)),borderWidth:1,yAxisID:"y"},{label:i==="fa"?" ()":"Accuracy (%)",data:p,backgroundColor:t.map((y,b)=>l("",b)+"40"),borderColor:t.map((y,b)=>l("",b)),borderWidth:1,yAxisID:"y1"}]}},h={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{font:{size:12},padding:15,usePointStyle:!0}},tooltip:{titleFont:{size:14},bodyFont:{size:12},padding:10}},scales:{x:{ticks:{font:{size:11},maxRotation:45},grid:{display:!0,color:"rgba(0, 0, 0, 0.1)"}},y:{ticks:{font:{size:11}},grid:{display:!0,color:"rgba(0, 0, 0, 0.1)"}}},layout:{padding:{top:10,bottom:10,left:10,right:10}}},f={...h,scales:{...h.scales,y:{type:"linear",display:!0,position:"left",title:{display:!0,text:i==="fa"?"  (ms)":"Processing Time (ms)"}},y1:{type:"linear",display:!0,position:"right",title:{display:!0,text:i==="fa"?" (%)":"Accuracy (%)"},grid:{drawOnChartArea:!1}}}},m=()=>{const x=t.find(v=>v.algorithmName===r);return x?d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"border-b border-gray-200",children:d.jsx("nav",{className:"-mb-px flex space-x-8",children:t.map((v,p)=>d.jsxs("button",{onClick:()=>o(v.algorithmName),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ${r===v.algorithmName?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[d.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:l(v.algorithmName,p)}}),v.algorithmName]},v.algorithmName))})}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[x.analysisData.noiseDetection&&d.jsx(Dg,{noiseData:x.analysisData.noiseDetection,algorithmName:x.algorithmName,imageWidth:400,imageHeight:300,language:i}),x.analysisData.colorSpectrum&&d.jsx(Ag,{spectrumData:x.analysisData.colorSpectrum,algorithmName:x.algorithmName,language:i,chartType:"pie"})]}),d.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[d.jsx("h4",{className:"text-md font-medium text-gray-700 mb-3",children:i==="fa"?" ":"Performance Metrics"}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:"text-lg font-semibold text-gray-800",children:[x.processingTime.toLocaleString(),"ms"]}),d.jsx("div",{className:"text-xs text-gray-600",children:i==="fa"?" ":"Processing Time"})]}),d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:"text-lg font-semibold text-gray-800",children:[(x.accuracyMetrics.overallScore*100).toFixed(1),"%"]}),d.jsx("div",{className:"text-xs text-gray-600",children:i==="fa"?" ":"Overall Accuracy"})]}),d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:"text-lg font-semibold text-gray-800",children:[(x.relativePerformance.speed*100).toFixed(0),"%"]}),d.jsx("div",{className:"text-xs text-gray-600",children:i==="fa"?" ":"Relative Speed"})]}),d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:"text-lg font-semibold text-gray-800",children:[(x.relativePerformance.memoryEfficiency*100).toFixed(0),"%"]}),d.jsx("div",{className:"text-xs text-gray-600",children:i==="fa"?" ":"Memory Efficiency"})]})]})]})]}):null},g=()=>{const x=c(),v=u();return d.jsxs("div",{className:"space-y-6",children:[x&&d.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4 text-center",children:i==="fa"?"      -  ":"Color Percentage Changes by Distance - Algorithm Comparison"}),d.jsx("div",{className:"flex justify-center",children:d.jsx("div",{className:"w-full max-w-4xl",style:{height:"400px"},children:d.jsx(Pg,{data:x,options:h})})})]}),v&&d.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4 text-center",children:i==="fa"?"  ":"Algorithm Performance Comparison"}),d.jsx("div",{className:"flex justify-center",children:d.jsx("div",{className:"w-full max-w-4xl",style:{height:"400px"},children:d.jsx(bd,{data:v,options:f})})})]}),d.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:i==="fa"?"  ":"Comparison Summary Statistics"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"text-md font-medium text-gray-700 mb-2",children:i==="fa"?" ":"Processing Time"}),d.jsx("div",{className:"space-y-2",children:t.sort((p,y)=>p.processingTime-y.processingTime).map((p,y)=>d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:l(p.algorithmName,y)}}),d.jsx("span",{className:"text-sm text-gray-700",children:p.algorithmName})]}),d.jsxs("span",{className:"text-sm font-medium text-gray-800",children:[p.processingTime.toLocaleString(),"ms"]})]},p.algorithmName))})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-md font-medium text-gray-700 mb-2",children:i==="fa"?" ":"Algorithm Accuracy"}),d.jsx("div",{className:"space-y-2",children:t.sort((p,y)=>y.accuracyMetrics.overallScore-p.accuracyMetrics.overallScore).map((p,y)=>d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:l(p.algorithmName,y)}}),d.jsx("span",{className:"text-sm text-gray-700",children:p.algorithmName})]}),d.jsxs("span",{className:"text-sm font-medium text-gray-800",children:[(p.accuracyMetrics.overallScore*100).toFixed(1),"%"]})]},p.algorithmName))})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-md font-medium text-gray-700 mb-2",children:i==="fa"?" ":"Material Distribution"}),d.jsx("div",{className:"space-y-2",children:t.map((p,y)=>{const b=p.analysisData.colorSpectrum,_=b?Object.entries({Black:b.blackPorous.percentage,"Dark Gray":b.darkGrayHydrated.percentage,"Light Gray":b.lightGrayUnhydrated.percentage,White:b.whiteAggregate.percentage}).reduce((S,w)=>S[1]>w[1]?S:w)[0]:"Unknown";return d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:l(p.algorithmName,y)}}),d.jsx("span",{className:"text-sm text-gray-700",children:p.algorithmName})]}),d.jsx("span",{className:"text-sm font-medium text-gray-800",children:_})]},p.algorithmName)})})]})]})]})]})};return t.length===0?d.jsx("div",{className:`bg-white p-8 rounded-lg border shadow-sm text-center ${s}`,children:d.jsx("p",{className:"text-gray-600",children:i==="fa"?"      ":"No algorithm results available for comparison"})}):d.jsx("div",{className:`${s}`,children:e==="individual"?m():g()})}mr.register(ir,sr,Ei,xd,yd,pd,Un,Li,Dt);function zS({analysis:t,onReset:e,onBack:n,language:i,userInfo:s,multiAlgorithmResults:r,onSaveResults:o,onProcessWithAlgorithm:a}){const[l,c]=B.useState("summary"),[u,h]=B.useState("individual"),[f,m]=B.useState([t]),[g,x]=B.useState(0),[v,p]=B.useState(!1),[y,b]=B.useState(""),[_,S]=B.useState(128),[w,j]=B.useState(!1),[N,A]=B.useState([]),[D,P]=B.useState(!1),[T,O]=B.useState("comprehensive"),W=Qt(i),z=f[g]||t;B.useEffect(()=>{m([t]),x(0)},[t]);const G=()=>{try{LS(z,i,s),U.success(i==="fa"?"     ":"Excel file created successfully")}catch(L){U.error(i==="fa"?"    ":"Error creating Excel file"),console.error(L)}},K=async()=>{try{await FS(z,i,s),U.success(i==="fa"?" PDF    ":"PDF file created successfully")}catch(L){U.error(i==="fa"?"    PDF":"Error creating PDF file"),console.error(L)}};if(!z.analysisRegions)return d.jsx("div",{className:"p-8 text-center",children:d.jsx("p",{className:"text-gray-600",children:i==="fa"?"    ":"Analysis results not available"})});const k=z.analysisRegions,C=k.reduce((L,V)=>L+V.totalPixels,0),M={totalBlack:k.reduce((L,V)=>L+V.blackPixels,0),totalDarkGray:k.reduce((L,V)=>L+V.darkGrayPixels,0),totalLightGray:k.reduce((L,V)=>L+V.lightGrayPixels,0),totalWhite:k.reduce((L,V)=>L+V.whitePixels,0),totalPixels:C},E=(L=z)=>{if(L.noiseDetection&&L.colorSpectrum)return L;let V=L.noiseDetection;if(!V){const ri=[],oe=[{x:20,y:25,intensity:.8,radius:15},{x:60,y:40,intensity:.9,radius:12},{x:35,y:60,intensity:.7,radius:18},{x:15,y:65,intensity:.6,radius:10},{x:70,y:15,intensity:.85,radius:8}];for(let qt=0;qt<80;qt++){ri[qt]=[];for(let Tn=0;Tn<80;Tn++){let oi=.1;oe.forEach(gr=>{const Bg=Math.sqrt(Math.pow(Tn-gr.x,2)+Math.pow(qt-gr.y,2)),$g=Math.exp(-Bg/gr.radius);oi+=gr.intensity*$g}),oi+=(Math.random()-.5)*.15,L.algorithm==="otsu"?oi+=Math.sin(Tn*.1)*Math.cos(qt*.1)*.1:L.algorithm==="adaptive"?oi+=Math.sin(Tn*.2)*Math.sin(qt*.15)*.15:(L.algorithm==="meanshift"||L.algorithm==="watershed")&&(oi+=Math.sin(Tn*.05)*Math.cos(qt*.08)*.2),ri[qt][Tn]=Math.max(0,Math.min(1,oi))}}V={...Be.generateNoiseStatistics(ri),noiseMap:ri}}let Je=L.colorSpectrum;return Je||(Je={blackPorous:{percentage:M.totalBlack/M.totalPixels*100,pixelCount:M.totalBlack,averageIntensity:32,standardDeviation:15,coverage:{area:M.totalBlack,distribution:[]}},darkGrayHydrated:{percentage:M.totalDarkGray/M.totalPixels*100,pixelCount:M.totalDarkGray,averageIntensity:96,standardDeviation:20,coverage:{area:M.totalDarkGray,distribution:[]}},lightGrayUnhydrated:{percentage:M.totalLightGray/M.totalPixels*100,pixelCount:M.totalLightGray,averageIntensity:160,standardDeviation:25,coverage:{area:M.totalLightGray,distribution:[]}},whiteAggregate:{percentage:M.totalWhite/M.totalPixels*100,pixelCount:M.totalWhite,averageIntensity:224,standardDeviation:18,coverage:{area:M.totalWhite,distribution:[]}},totalPixels:M.totalPixels,analysisTimestamp:Date.now()}),{...t,version:"1.7.2",noiseDetection:V,colorSpectrum:Je,processingMetrics:{processingTime:2e3,memoryUsage:50,algorithmComplexity:"medium",accuracyScore:.85,confidenceLevel:.9,pixelsProcessed:M.totalPixels,regionsDetected:k.length}}},I=B.useMemo(()=>E(z),[z]),H=()=>{o&&(o(I),U.success(i==="fa"?"    ":"Results saved successfully"))},Y=L=>{A(V=>V.includes(L)?V.filter(Je=>Je!==L):[...V,L])},fe=()=>{const L=f.map(V=>V.algorithm);A(L)},te=()=>{A([])},Ue=()=>{if(N.length===0){U.error(i==="fa"?"     ":"Please select at least one algorithm");return}try{const L=f.filter(V=>N.includes(V.algorithm));RS(L,i,s,T),U.success(i==="fa"?"       ":"Multi-algorithm Excel file created successfully"),P(!1)}catch(L){U.error(i==="fa"?"    ":"Error creating Excel file"),console.error(L)}},An=async()=>{if(N.length===0){U.error(i==="fa"?"     ":"Please select at least one algorithm");return}try{const L=f.filter(V=>N.includes(V.algorithm));await IS(L,i,s,T),U.success(i==="fa"?" PDF      ":"Multi-algorithm PDF file created successfully"),P(!1)}catch(L){U.error(i==="fa"?"    PDF":"Error creating PDF file"),console.error(L)}},pr=[{id:"otsu",name:"Otsu Thresholding",needsThreshold:!1},{id:"adaptive",name:"Adaptive Thresholding",needsThreshold:!1},{id:"triangle",name:"Triangle Method",needsThreshold:!1},{id:"wellner",name:"Wellner Adaptive",needsThreshold:!1},{id:"multilevel",name:"Multi-level Thresholding",needsThreshold:!1},{id:"kmeans",name:"K-means Clustering",needsThreshold:!1},{id:"meanshift",name:"Mean Shift Segmentation",needsThreshold:!1},{id:"watershed",name:"Watershed Segmentation",needsThreshold:!1},{id:"fcm",name:"Fuzzy C-Means (FCM)",needsThreshold:!1},{id:"manual",name:"Manual Threshold",needsThreshold:!0}],Tg=async L=>{if(!a){U.error(i==="fa"?"    ":"Processing function not available");return}b(L);const V=pr.find(Je=>Je.id===L);V!=null&&V.needsThreshold||await wd(L)},wd=async(L,V)=>{if(a){j(!0);try{const Je=await a(L,V),Ki=[...f,Je];m(Ki),x(Ki.length-1),p(!1),b(""),U.success(i==="fa"?"    ":"Algorithm processed successfully")}catch(Je){U.error(i==="fa"?"   ":"Error processing algorithm"),console.error(Je)}finally{j(!1)}}},Lg=async()=>{await wd(y,_)},Zt=(L,V)=>(L/V*100).toFixed(2),Eg=()=>d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"bg-gray-900 text-white p-4 rounded-lg",children:[d.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Porosity"}),d.jsxs("p",{className:"text-sm opacity-75 mb-1",children:["(",i==="fa"?"":"Black",")"]}),d.jsx("p",{className:"text-2xl font-bold",children:M.totalBlack.toLocaleString()}),d.jsxs("p",{className:"text-sm opacity-75",children:[Zt(M.totalBlack,M.totalPixels),"%"]})]}),d.jsxs("div",{className:"bg-gray-600 text-white p-4 rounded-lg",children:[d.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Hydration Material"}),d.jsxs("p",{className:"text-sm opacity-75 mb-1",children:["(",i==="fa"?" ":"Dark Gray",")"]}),d.jsx("p",{className:"text-2xl font-bold",children:M.totalDarkGray.toLocaleString()}),d.jsxs("p",{className:"text-sm opacity-75",children:[Zt(M.totalDarkGray,M.totalPixels),"%"]})]}),d.jsxs("div",{className:"bg-gray-400 text-white p-4 rounded-lg",children:[d.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Unhydrated Material"}),d.jsxs("p",{className:"text-sm opacity-75 mb-1",children:["(",i==="fa"?" ":"Light Gray",")"]}),d.jsx("p",{className:"text-2xl font-bold",children:M.totalLightGray.toLocaleString()}),d.jsxs("p",{className:"text-sm opacity-75",children:[Zt(M.totalLightGray,M.totalPixels),"%"]})]}),d.jsxs("div",{className:"bg-gray-100 text-gray-900 p-4 rounded-lg border",children:[d.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Aggregate"}),d.jsxs("p",{className:"text-sm opacity-75 mb-1",children:["(",i==="fa"?"":"White",")"]}),d.jsx("p",{className:"text-2xl font-bold",children:M.totalWhite.toLocaleString()}),d.jsxs("p",{className:"text-sm opacity-75",children:[Zt(M.totalWhite,M.totalPixels),"%"]})]})]}),(()=>{if(console.log("Analysis algorithm:",z.algorithm),console.log("Available algorithms:",Object.keys(Vn)),!z.algorithm)return d.jsxs("div",{className:"bg-yellow-50 p-6 rounded-lg border border-yellow-200",children:[d.jsx("h3",{className:"text-lg font-semibold text-yellow-900 mb-2",children:i==="fa"?"":"Warning"}),d.jsx("p",{className:"text-yellow-800",children:i==="fa"?"   .        .":"Algorithm information not found. Please repeat the image processing step."})]});const L=z.algorithm,V=Vn[L];return V?d.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-200",children:[d.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:i==="fa"?"   ":"Algorithm Information"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{children:[d.jsx("span",{className:"font-medium text-blue-800",children:i==="fa"?" :":"Algorithm Name:"}),d.jsx("span",{className:"ml-2",children:V.name})]}),d.jsxs("div",{children:[d.jsx("span",{className:"font-medium text-blue-800",children:i==="fa"?" :":"Mathematical Formula:"}),d.jsx("div",{className:"bg-white p-3 rounded border mt-2 font-mono text-sm",children:V.formula})]}),d.jsxs("div",{children:[d.jsx("span",{className:"font-medium text-blue-800",children:i==="fa"?":":"Description:"}),d.jsx("p",{className:"mt-1 text-sm text-blue-700",children:V.description[i]})]}),d.jsxs("div",{children:[d.jsx("span",{className:"font-medium text-blue-800",children:i==="fa"?"  :":"Recommended Usage:"}),d.jsx("p",{className:"mt-1 text-sm text-blue-700",children:V.recommendation[i]})]}),z.threshold&&d.jsxs("div",{children:[d.jsx("span",{className:"font-medium text-blue-800",children:i==="fa"?"  :":"Threshold Used:"}),d.jsx("span",{className:"ml-2 bg-blue-100 px-2 py-1 rounded text-sm",children:z.threshold})]}),d.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:[i==="fa"?" :":"Current Algorithm:"," ",L]})]})]}):d.jsxs("div",{className:"bg-red-50 p-6 rounded-lg border border-red-200",children:[d.jsx("h3",{className:"text-lg font-semibold text-red-900 mb-2",children:i==="fa"?"":"Error"}),d.jsx("p",{className:"text-red-800",children:i==="fa"?` "${L}"   .`:`Unknown algorithm "${L}".`})]})})(),d.jsxs("div",{className:"bg-green-50 p-6 rounded-lg",children:[d.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-4",children:i==="fa"?" ":"Software Information"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[d.jsxs("div",{children:[d.jsx("span",{className:"font-medium",children:i==="fa"?" :":"Software Name:"})," CIA v1.7.2"]}),d.jsxs("div",{children:[d.jsx("span",{className:"font-medium",children:i==="fa"?":":"Version:"})," 1.7.2"]}),d.jsxs("div",{children:[d.jsx("span",{className:"font-medium",children:i==="fa"?":":"Website:"}),d.jsx("a",{href:"https://github.com/Aghajanian",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline ml-1",children:"github.com/Aghajanian"})]}),d.jsxs("div",{children:[d.jsx("span",{className:"font-medium",children:i==="fa"?" :":"Generated Date:"})," ",new Date().toLocaleString()]}),d.jsxs("div",{children:[d.jsx("span",{className:"font-medium",children:i==="fa"?":":"Copyright:"}),"  2024 Aghajanian"]}),s&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("span",{className:"font-medium",children:i==="fa"?":":"User:"})," ",s.firstName," ",s.lastName]}),d.jsxs("div",{children:[d.jsx("span",{className:"font-medium",children:i==="fa"?":":"University:"})," ",s.university]})]})]}),d.jsx("div",{className:"mt-3 p-3 bg-green-100 rounded-lg",children:d.jsxs("p",{className:"text-green-800 text-xs",children:[i==="fa"?"     CIA  1.7.2   "+new Date().toLocaleString()+"   .      ":"Data provided by CIA software version 1.7.2 generated on "+new Date().toLocaleString()+". Visit ",d.jsx("a",{href:"https://github.com/Aghajanian",target:"_blank",rel:"noopener noreferrer",className:"text-green-700 hover:text-green-900 underline font-medium",children:"github.com/Aghajanian"}),i==="fa"?"  .":" for downloads and updates."]})})]}),d.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg",children:[d.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:i==="fa"?" ":"Analysis Information"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[z.fileName&&d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("span",{className:"font-medium",children:i==="fa"?" :":"File Name:"})," ",z.fileName]}),d.jsxs("div",{children:[d.jsx("span",{className:"font-medium",children:i==="fa"?"  :":"Binarization Algorithm:"})," ",z.algorithm]}),d.jsxs("div",{children:[d.jsx("span",{className:"font-medium",children:i==="fa"?" :":"Scale Unit:"})," ",z.scaleUnit||"m"]}),d.jsxs("div",{children:[d.jsx("span",{className:"font-medium",children:i==="fa"?" :":"Analysis Distance:"})," ",z.analysisDistance||100," ",z.scaleUnit||"m"]}),d.jsxs("div",{children:[d.jsx("span",{className:"font-medium",children:i==="fa"?" :":"Number of Regions:"})," ",k.length]}),d.jsxs("div",{children:[d.jsx("span",{className:"font-medium",children:i==="fa"?"  :":"Selected Region:"})," #",z.selectedRegion]}),d.jsxs("div",{children:[d.jsx("span",{className:"font-medium",children:i==="fa"?" :":"Total Pixels:"})," ",M.totalPixels.toLocaleString()]})]})]})]}),Fg=()=>d.jsx("div",{className:"space-y-4",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-50",children:[d.jsx("th",{className:"border border-gray-300 px-4 py-2 text-right",children:i==="fa"?"":"Region"}),d.jsxs("th",{className:"border border-gray-300 px-4 py-2 text-right",children:[i==="fa"?"":"Distance"," (",z.scaleUnit||"m",")"]}),d.jsx("th",{className:"border border-gray-300 px-4 py-2 text-right",children:i==="fa"?"":"Area"}),d.jsxs("th",{className:"border border-gray-300 px-4 py-2 text-right",children:["Porosity",d.jsx("br",{}),d.jsxs("span",{className:"text-xs",children:["(",i==="fa"?"":"Black",")"]})]}),d.jsxs("th",{className:"border border-gray-300 px-4 py-2 text-right",children:["Hydration Material",d.jsx("br",{}),d.jsxs("span",{className:"text-xs",children:["(",i==="fa"?" ":"Dark Gray",")"]})]}),d.jsxs("th",{className:"border border-gray-300 px-4 py-2 text-right",children:["Unhydrated Material",d.jsx("br",{}),d.jsxs("span",{className:"text-xs",children:["(",i==="fa"?" ":"Light Gray",")"]})]}),d.jsxs("th",{className:"border border-gray-300 px-4 py-2 text-right",children:["Aggregate",d.jsx("br",{}),d.jsxs("span",{className:"text-xs",children:["(",i==="fa"?"":"White",")"]})]}),d.jsx("th",{className:"border border-gray-300 px-4 py-2 text-right",children:i==="fa"?"":"Total"})]})}),d.jsx("tbody",{children:k.map(L=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsxs("td",{className:"border border-gray-300 px-4 py-2 font-medium",children:["#",L.id]}),d.jsx("td",{className:"border border-gray-300 px-4 py-2",children:L.distance}),d.jsx("td",{className:"border border-gray-300 px-4 py-2",children:L.area.toLocaleString()}),d.jsxs("td",{className:"border border-gray-300 px-4 py-2",children:[L.blackPixels.toLocaleString(),d.jsx("br",{}),d.jsxs("span",{className:"text-xs text-gray-500",children:["(",Zt(L.blackPixels,L.totalPixels),"%)"]})]}),d.jsxs("td",{className:"border border-gray-300 px-4 py-2",children:[L.darkGrayPixels.toLocaleString(),d.jsx("br",{}),d.jsxs("span",{className:"text-xs text-gray-500",children:["(",Zt(L.darkGrayPixels,L.totalPixels),"%)"]})]}),d.jsxs("td",{className:"border border-gray-300 px-4 py-2",children:[L.lightGrayPixels.toLocaleString(),d.jsx("br",{}),d.jsxs("span",{className:"text-xs text-gray-500",children:["(",Zt(L.lightGrayPixels,L.totalPixels),"%)"]})]}),d.jsxs("td",{className:"border border-gray-300 px-4 py-2",children:[L.whitePixels.toLocaleString(),d.jsx("br",{}),d.jsxs("span",{className:"text-xs text-gray-500",children:["(",Zt(L.whitePixels,L.totalPixels),"%)"]})]}),d.jsx("td",{className:"border border-gray-300 px-4 py-2 font-medium",children:L.totalPixels.toLocaleString()})]},L.id))})]})})}),Rg=()=>{const L={black:"#1f2937",darkGray:"#6b7280",lightGray:"#9ca3af",white:"#f3f4f6"},V={labels:[`Porosity (${i==="fa"?"":"Black"})`,`Hydration Material (${i==="fa"?" ":"Dark Gray"})`,`Unhydrated Material (${i==="fa"?" ":"Light Gray"})`,`Aggregate (${i==="fa"?"":"White"})`],datasets:[{data:[M.totalBlack,M.totalDarkGray,M.totalLightGray,M.totalWhite],backgroundColor:[L.black,L.darkGray,L.lightGray,L.white],borderColor:"#ffffff",borderWidth:2}]},Je={labels:k.map(oe=>`${oe.distance} ${z.scaleUnit||"m"}`),datasets:[{label:"Porosity",data:k.map(oe=>oe.blackPixels),backgroundColor:L.black},{label:"Hydration Material",data:k.map(oe=>oe.darkGrayPixels),backgroundColor:L.darkGray},{label:"Unhydrated Material",data:k.map(oe=>oe.lightGrayPixels),backgroundColor:L.lightGray},{label:"Aggregate",data:k.map(oe=>oe.whitePixels),backgroundColor:L.white}]},Ki={labels:k.map(oe=>`${oe.distance} ${z.scaleUnit||"m"}`),datasets:[{label:`${i==="fa"?"":"Percentage"} Porosity`,data:k.map(oe=>oe.blackPixels/oe.totalPixels*100),borderColor:L.black,backgroundColor:L.black+"20",tension:.1},{label:`${i==="fa"?"":"Percentage"} Hydration Material`,data:k.map(oe=>oe.darkGrayPixels/oe.totalPixels*100),borderColor:L.darkGray,backgroundColor:L.darkGray+"20",tension:.1},{label:`${i==="fa"?"":"Percentage"} Unhydrated Material`,data:k.map(oe=>oe.lightGrayPixels/oe.totalPixels*100),borderColor:L.lightGray,backgroundColor:L.lightGray+"20",tension:.1},{label:`${i==="fa"?"":"Percentage"} Aggregate`,data:k.map(oe=>oe.whitePixels/oe.totalPixels*100),borderColor:"#d1d5db",backgroundColor:"#d1d5db20",tension:.1}]},ha={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{font:{size:16},padding:25,usePointStyle:!0}},tooltip:{titleFont:{size:16},bodyFont:{size:14},padding:12}},scales:{x:{ticks:{font:{size:14},maxRotation:45},grid:{display:!0,color:"rgba(0, 0, 0, 0.1)"}},y:{ticks:{font:{size:14}},grid:{display:!0,color:"rgba(0, 0, 0, 0.1)"}}},layout:{padding:{top:20,bottom:20,left:20,right:20}}},ri={responsive:!0,maintainAspectRatio:!0,aspectRatio:1,plugins:{legend:{position:"bottom",labels:{font:{size:16},padding:25,usePointStyle:!0}},tooltip:{titleFont:{size:16},bodyFont:{size:14},padding:12}},layout:{padding:{top:20,bottom:20,left:20,right:20}}};return d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"bg-white p-8 rounded-lg border shadow-sm",children:[d.jsx("h3",{className:"text-xl font-semibold mb-6 text-center text-gray-800",children:i==="fa"?"  ":"Overall Color Distribution"}),d.jsx("div",{className:"flex justify-center",children:d.jsx("div",{className:"w-96 h-96",children:d.jsx(Mg,{data:V,options:ri})})})]}),d.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4 text-center text-gray-800",children:i==="fa"?" ":"Region Comparison"}),d.jsx("div",{className:"flex justify-center",children:d.jsx("div",{className:"w-full max-w-4xl",style:{height:"400px"},children:d.jsx(bd,{data:Je,options:ha})})})]}),d.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4 text-center text-gray-800",children:i==="fa"?"     ":"Color Percentage Changes by Distance"}),d.jsx("div",{className:"flex justify-center",children:d.jsx("div",{className:"w-full max-w-4xl",style:{height:"400px"},children:d.jsx(Pg,{data:Ki,options:ha})})})]})]})},Ig=()=>I.noiseDetection?d.jsx("div",{className:"space-y-6",children:d.jsx(Dg,{noiseData:I.noiseDetection,algorithmName:z.algorithm,imageWidth:800,imageHeight:600,language:i})}):d.jsx("div",{className:"text-center p-8",children:d.jsx("p",{className:"text-gray-600",children:i==="fa"?"     ":"Noise detection data not available"})}),Og=()=>I.colorSpectrum?d.jsx("div",{className:"space-y-6",children:d.jsx(Ag,{spectrumData:I.colorSpectrum,algorithmName:z.algorithm,language:i,chartType:"both"})}):d.jsx("div",{className:"text-center p-8",children:d.jsx("p",{className:"text-gray-600",children:i==="fa"?"     ":"Color spectrum data not available"})}),zg=()=>!r||r.length===0?d.jsx("div",{className:"text-center p-8",children:d.jsx("p",{className:"text-gray-600",children:i==="fa"?"       ":"Multi-algorithm results not available for comparison"})}):d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"flex justify-center mb-6",children:d.jsxs("div",{className:"bg-gray-100 p-1 rounded-lg",children:[d.jsx("button",{onClick:()=>h("individual"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${u==="individual"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:i==="fa"?" ":"Individual View"}),d.jsx("button",{onClick:()=>h("aggregated"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${u==="aggregated"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:i==="fa"?" ":"Aggregated View"})]})}),d.jsx(OS,{algorithmResults:r,comparisonType:u,chartType:"colorPercentage",language:i})]});return d.jsxs("div",{className:"p-8",children:[d.jsxs("div",{className:"flex justify-between items-center mb-8",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:W.resultsTitle}),d.jsx("p",{className:"text-gray-600",children:W.resultsDescription})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsxs("button",{onClick:n,className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:[" ",i==="fa"?"":"Back"]}),d.jsxs("button",{onClick:G,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2",children:[" ",W.resultsExportExcel]}),d.jsxs("button",{onClick:K,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center gap-2",children:[" ",i==="fa"?" PDF":"Export PDF"]}),f.length>1&&d.jsxs("button",{onClick:()=>P(!0),className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 flex items-center gap-2",children:[" ",i==="fa"?"  ":"Multi-Algorithm Report"]}),o&&d.jsxs("button",{onClick:H,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[" ",i==="fa"?" ":"Save Results"]}),a&&d.jsxs("div",{className:"relative",children:[d.jsx("button",{onClick:()=>p(!v),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center gap-2",disabled:w,children:w?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),i==="fa"?"  ...":"Processing..."]}):d.jsxs(d.Fragment,{children:[" ",i==="fa"?" ":"New Algorithm",d.jsx("span",{className:"text-xs",children:""})]})}),v&&d.jsx("div",{className:"absolute top-full right-0 mt-2 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-10",children:d.jsxs("div",{className:"p-2",children:[d.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:i==="fa"?" :":"Select Algorithm:"}),pr.map(L=>d.jsx("button",{onClick:()=>Tg(L.id),className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100 rounded",disabled:f.some(V=>V.algorithm===L.id),children:d.jsxs("span",{className:f.some(V=>V.algorithm===L.id)?"text-gray-400":"text-gray-700",children:[L.name,f.some(V=>V.algorithm===L.id)&&" "]})},L.id))]})})]}),d.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:W.resultsNewAnalysis})]})]}),y==="manual"&&d.jsx("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-medium text-yellow-800",children:i==="fa"?"  ":"Manual Threshold Setting"}),d.jsx("p",{className:"text-sm text-yellow-600",children:i==="fa"?"      (0-255)":"Select desired threshold (0-255)"})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("label",{className:"text-sm font-medium text-yellow-800",children:i==="fa"?":":"Threshold:"}),d.jsx("input",{type:"range",min:"0",max:"255",value:_,onChange:L=>S(parseInt(L.target.value)),className:"w-32"}),d.jsx("span",{className:"text-sm font-mono bg-white px-2 py-1 rounded border",children:_})]}),d.jsx("button",{onClick:Lg,className:"px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700",disabled:w,children:i==="fa"?"":"Apply"}),d.jsx("button",{onClick:()=>b(""),className:"px-3 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:i==="fa"?"":"Cancel"})]})]})}),f.length>1&&d.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("h3",{className:"text-lg font-medium text-blue-800",children:i==="fa"?" ":"Algorithm Results"}),d.jsxs("span",{className:"text-sm text-blue-600",children:[f.length," ",i==="fa"?"":"results"]})]}),d.jsx("div",{className:"flex flex-wrap gap-2",children:f.map((L,V)=>d.jsxs("button",{onClick:()=>x(V),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${g===V?"bg-blue-600 text-white":"bg-white text-blue-700 border border-blue-300 hover:bg-blue-100"}`,children:[L.algorithm,L.threshold&&` (${L.threshold})`]},V))})]}),d.jsx("div",{className:"border-b border-gray-200 mb-6",children:d.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"summary",label:i==="fa"?"":"Summary",icon:""},{id:"detailed",label:i==="fa"?"":"Details",icon:""},{id:"charts",label:i==="fa"?"":"Charts",icon:""},{id:"noise",label:i==="fa"?" ":"Noise Detection",icon:""},{id:"spectrum",label:i==="fa"?" ":"Color Spectrum",icon:""},...r&&r.length>0?[{id:"comparison",label:i==="fa"?" ":"Algorithm Comparison",icon:""}]:[]].map(L=>d.jsxs("button",{onClick:()=>c(L.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ${l===L.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[d.jsx("span",{children:L.icon}),L.label]},L.id))})}),l==="summary"&&Eg(),l==="detailed"&&Fg(),l==="charts"&&Rg(),l==="noise"&&Ig(),l==="spectrum"&&Og(),l==="comparison"&&zg(),D&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl mx-4",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:i==="fa"?"   ":"Select Algorithms for Report"}),d.jsx("button",{onClick:()=>P(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("p",{className:"text-sm text-gray-600 mb-3",children:i==="fa"?"          :":"Select the algorithms you want to include in the final report:"}),d.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[d.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:i==="fa"?" :":"Report Type:"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("label",{className:"flex items-center",children:[d.jsx("input",{type:"radio",name:"reportType",value:"comprehensive",checked:T==="comprehensive",onChange:L=>O(L.target.value),className:"mr-2"}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-blue-900",children:i==="fa"?" ":"Comprehensive Report"}),d.jsx("div",{className:"text-xs text-blue-700",children:i==="fa"?"        ":"Complete results for each algorithm separately"})]})]}),d.jsxs("label",{className:"flex items-center",children:[d.jsx("input",{type:"radio",name:"reportType",value:"comparative",checked:T==="comparative",onChange:L=>O(L.target.value),className:"mr-2"}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-blue-900",children:i==="fa"?" ":"Comparative Report"}),d.jsx("div",{className:"text-xs text-blue-700",children:i==="fa"?"       ":"Algorithm comparison with unified tables and charts"})]})]})]})]}),d.jsxs("div",{className:"flex gap-2 mb-3",children:[d.jsx("button",{onClick:fe,className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded hover:bg-blue-200",children:i==="fa"?" ":"Select All"}),d.jsx("button",{onClick:te,className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200",children:i==="fa"?"  ":"Deselect All"})]}),d.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-60 overflow-y-auto",children:f.map((L,V)=>d.jsxs("label",{className:"flex items-center p-3 border rounded-lg hover:bg-gray-50 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:N.includes(L.algorithm),onChange:()=>Y(L.algorithm),className:"mr-3 h-4 w-4 text-blue-600"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"font-medium text-gray-900",children:L.algorithm}),L.threshold&&d.jsxs("div",{className:"text-sm text-gray-500",children:[i==="fa"?":":"Threshold:"," ",L.threshold]})]})]},V))})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"text-sm text-gray-600",children:[N.length," ",i==="fa"?"  ":"algorithms selected"]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>P(!1),className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:i==="fa"?"":"Cancel"}),d.jsxs("button",{onClick:Ue,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2",disabled:N.length===0,children:[" ",i==="fa"?" Excel":"Export Excel"]}),d.jsxs("button",{onClick:An,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center gap-2",disabled:N.length===0,children:[" ",i==="fa"?" PDF":"Export PDF"]})]})]})]})})]})}function BS({language:t,userInfo:e}){const n=Qt(t),[i,s]=B.useState("upload"),[r,o]=B.useState(null),[a,l]=B.useState(null),c=S=>{o(S);const w=_e.getAnalysis(S);l(w),s("process")},u=()=>{if(r){const S=_e.getAnalysis(r);l(S)}s("lineSelect")},h=()=>{if(r){const S=_e.getAnalysis(r);l(S)}s("lineReplicate")},f=()=>{if(r){const S=_e.getAnalysis(r);l(S)}s("analysis")},m=()=>{if(r){const S=_e.getAnalysis(r);l(S)}s("results")},g=()=>{s("upload"),o(null),l(null)},x=async(S,w)=>{if(!a||!r)throw new Error("No current analysis available");const{imageProcessor:j}=await ra(async()=>{const{imageProcessor:N}=await Promise.resolve().then(()=>Ay);return{imageProcessor:N}},void 0,import.meta.url);try{const N=_e.getAnalysis(r);if(!N)throw new Error("Current analysis not found");const A=_e.generateId(),D={...N,id:A,algorithm:S,threshold:w,createdAt:Date.now()};return N.originalImage&&(await j.binarize(N.originalImage,S,w||128),D.regions=N.regions,D.analysisRegions=N.analysisRegions,D.boundaryPoints=N.boundaryPoints,D.magneticLine=N.magneticLine,D.selectedPoints=N.selectedPoints,D.replicatedLines=N.replicatedLines,D.replicationDirection=N.replicationDirection,D.scaleUnit=N.scaleUnit,D.pixelToRealRatio=N.pixelToRealRatio,D.analysisDistance=N.analysisDistance,D.regionCount=N.regionCount,D.selectedRegion=N.selectedRegion),_e.saveAnalysis(D),D}catch(N){throw console.error("Error processing with algorithm:",N),N}},v=()=>{s("upload")},p=()=>{s("process")},y=()=>{s("lineSelect")},b=()=>{s("lineReplicate")},_=()=>{s("analysis")};return d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:d.jsx("div",{className:"flex items-center justify-between",children:[{key:"upload",label:n.stepUpload,icon:""},{key:"process",label:n.stepProcess,icon:""},{key:"lineSelect",label:n.stepLineSelect,icon:""},{key:"lineReplicate",label:n.stepLineReplicate,icon:""},{key:"analysis",label:n.stepAnalysis,icon:""},{key:"results",label:n.stepResults,icon:""}].map((S,w)=>d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full text-sm font-medium ${i===S.key?"bg-blue-600 text-white":w<["upload","process","lineSelect","lineReplicate","analysis","results"].indexOf(i)?"bg-green-600 text-white":"bg-gray-200 text-gray-600"}`,children:S.icon}),d.jsx("span",{className:`ml-2 text-sm font-medium ${i===S.key?"text-blue-600":"text-gray-500"}`,children:S.label}),w<5&&d.jsx("div",{className:`w-16 h-0.5 mx-4 ${w<["upload","process","lineSelect","lineReplicate","analysis","results"].indexOf(i)?"bg-green-600":"bg-gray-200"}`})]},S.key))})}),d.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[i==="upload"&&d.jsx(by,{onAnalysisCreated:c,language:t}),i==="process"&&a&&d.jsx(Ly,{analysis:a,onProcessingComplete:u,onBack:v,language:t}),i==="lineSelect"&&a&&d.jsx(Ey,{analysis:a,onLineSelected:h,onBack:p,language:t}),i==="lineReplicate"&&a&&d.jsx(Fy,{analysis:a,onReplicationComplete:f,onBack:y,language:t}),i==="analysis"&&a&&d.jsx(Ry,{analysis:a,onAnalysisComplete:m,onBack:b,language:t}),i==="results"&&a&&d.jsx(zS,{analysis:a,onReset:g,onBack:_,language:t,userInfo:e,originalImage:a.originalImage,onProcessWithAlgorithm:x})]})]})}function $S({onLanguageSelect:t}){return d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full mx-4",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"text-6xl mb-4",children:""}),d.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Smart Image Analysis System"}),d.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"   "}),d.jsxs("p",{className:"text-gray-600 text-sm",children:["Please select your preferred language",d.jsx("br",{}),"       "]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("button",{onClick:()=>t("en"),className:"w-full flex items-center justify-between p-4 border-2 border-gray-200 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all duration-200 group",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"text-2xl mr-3",children:""}),d.jsxs("div",{className:"text-left",children:[d.jsx("div",{className:"font-semibold text-gray-900 group-hover:text-blue-700",children:"English"}),d.jsx("div",{className:"text-sm text-gray-500",children:"International"})]})]}),d.jsx("div",{className:"text-blue-500 opacity-0 group-hover:opacity-100 transition-opacity",children:""})]}),d.jsxs("button",{onClick:()=>t("fa"),className:"w-full flex items-center justify-between p-4 border-2 border-gray-200 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all duration-200 group",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"text-2xl mr-3",children:""}),d.jsxs("div",{className:"text-left",children:[d.jsx("div",{className:"font-semibold text-gray-900 group-hover:text-blue-700",children:""}),d.jsx("div",{className:"text-sm text-gray-500",children:"Persian"})]})]}),d.jsx("div",{className:"text-blue-500 opacity-0 group-hover:opacity-100 transition-opacity",children:""})]})]}),d.jsx("div",{className:"mt-8 text-center",children:d.jsx("p",{className:"text-xs text-gray-400",children:" 2024 All rights reserved by Mr. Aghajanian"})})]})})}function WS({language:t,onContinue:e}){const n=Qt(t);return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-8 w-full max-w-4xl",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Concrete Image Analysis Software (CIA)"}),d.jsx("h2",{className:"text-lg text-gray-700 mb-4",children:"Interfacial Transition Zone (ITZ) Section"}),d.jsx("div",{className:"text-lg text-blue-600 font-semibold mb-2",children:"Version 1.7.2"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{className:"text-gray-600",children:"  -    "}),d.jsx("p",{className:"text-gray-600",children:"Standalone Version - No Server Dependencies"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[d.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[d.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[d.jsx("span",{className:"text-2xl ml-2",children:""})," "]}),d.jsxs("div",{className:"text-sm text-gray-700 space-y-3 leading-relaxed",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"    (CIA)"}),"            (ITZ) ."]}),d.jsx("p",{children:d.jsx("strong",{children:" :"})}),d.jsxs("ul",{className:"list-disc list-inside space-y-1 mr-4",children:[d.jsx("li",{children:"     "}),d.jsx("li",{children:"     "}),d.jsx("li",{children:"    "}),d.jsx("li",{children:"     "}),d.jsx("li",{children:"    Excel"})]}),d.jsx("p",{children:d.jsx("strong",{children:" :"})}),d.jsxs("ol",{className:"list-decimal list-inside space-y-1 mr-4",children:[d.jsx("li",{children:"  "}),d.jsx("li",{children:"   "}),d.jsx("li",{children:"     "}),d.jsx("li",{children:"    "}),d.jsx("li",{children:"   "})]})]})]}),d.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",dir:"ltr",children:[d.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 text-left",children:[d.jsx("span",{className:"text-2xl mr-2",children:""}),"English Description"]}),d.jsxs("div",{className:"text-sm text-gray-700 space-y-3 leading-relaxed text-left",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Concrete Image Analysis Software (CIA)"})," is a specialized tool for examining the Interfacial Transition Zone (ITZ) between aggregate and cement paste."]}),d.jsx("p",{children:d.jsx("strong",{children:"Main Features:"})}),d.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[d.jsx("li",{children:"Image processing with various binarization algorithms"}),d.jsx("li",{children:"Magnetic baseline selection"}),d.jsx("li",{children:"Line replication in different directions"}),d.jsx("li",{children:"Material distribution analysis at specified distances"}),d.jsx("li",{children:"Excel format result export"})]}),d.jsx("p",{children:d.jsx("strong",{children:"Workflow:"})}),d.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-4",children:[d.jsx("li",{children:"Upload microscopic image"}),d.jsx("li",{children:"Process and binarize image"}),d.jsx("li",{children:"Select baseline on aggregate boundary"}),d.jsx("li",{children:"Replicate lines at specified intervals"}),d.jsx("li",{children:"Analyze and view results"})]})]})]})]}),d.jsx("div",{className:"bg-blue-50 rounded-lg p-6 mb-8",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-bold text-blue-900 mb-3 flex items-center",children:[d.jsx("span",{className:"text-xl ml-2",children:""})," "]}),d.jsxs("div",{className:"space-y-2 text-sm",children:[d.jsxs("div",{children:[d.jsx("strong",{children:" :"})," 1.7.2"]}),d.jsxs("div",{children:[d.jsx("strong",{children:" :"}),"  ( )"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"  :"})," JPG, PNG, GIF"]}),d.jsxs("div",{children:[d.jsx("strong",{children:":"})," Excel, "]}),d.jsxs("div",{children:[d.jsx("strong",{children:"  :"}),"  "]}),d.jsxs("div",{children:[d.jsx("strong",{children:":"})," Aghajanian"]}),d.jsxs("div",{children:[d.jsx("strong",{children:":"}),d.jsx("a",{href:"https://github.com/Aghajanian",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline mr-1",children:"github.com/Aghajanian"})]})]})]}),d.jsxs("div",{dir:"ltr",children:[d.jsxs("h3",{className:"text-lg font-bold text-blue-900 mb-3 text-left",children:[d.jsx("span",{className:"text-xl mr-2",children:""}),"Technical Specifications"]}),d.jsxs("div",{className:"space-y-2 text-sm text-left",children:[d.jsxs("div",{children:[d.jsx("strong",{children:"Software Version:"})," 1.7.2"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"Software Type:"})," Standalone (No Server)"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"Supported Formats:"})," JPG, PNG, GIF"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"Output:"})," Excel, Charts"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"Supported Languages:"})," Persian, English"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"Developer:"})," Aghajanian"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"Website:"}),d.jsx("a",{href:"https://github.com/Aghajanian",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline ml-1",children:"github.com/Aghajanian"})]})]})]})]})}),d.jsx("div",{className:"text-center",children:d.jsx("button",{onClick:e,className:"px-8 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium text-lg",children:d.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[d.jsx("span",{children:""}),d.jsx("span",{className:"mx-2",children:"|"}),d.jsx("span",{children:"Continue"})]})})}),d.jsxs("div",{className:"mt-6 text-center text-xs text-gray-500 space-y-1",children:[d.jsx("p",{children:n.copyright}),d.jsxs("p",{children:[t==="fa"?"   :":"For downloads and updates:",d.jsx("a",{href:"https://github.com/Aghajanian",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline mx-1",children:"github.com/Aghajanian"})]})]})]})})}function HS({language:t,onSubmit:e}){const[n,i]=B.useState({firstName:"",lastName:"",university:"",position:"",degree:"",email:""}),[s,r]=B.useState(!1),o=(c,u)=>{i(h=>({...h,[c]:u}))},a=()=>{const{firstName:c,lastName:u,university:h,position:f,degree:m,email:g}=n;return c.trim()?u.trim()?h.trim()?f.trim()?m.trim()?g.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(g)?!0:(U.error(t==="fa"?"   ":"Invalid email format"),!1):(U.error(t==="fa"?"  ":"Email is required"),!1):(U.error(t==="fa"?"   ":"Degree is required"),!1):(U.error(t==="fa"?"  ":"Position is required"),!1):(U.error(t==="fa"?"  ":"University is required"),!1):(U.error(t==="fa"?"   ":"Last name is required"),!1):(U.error(t==="fa"?"  ":"First name is required"),!1)},l=async c=>{if(c.preventDefault(),!!a()){r(!0);try{const u={to:"info@aghajanian.org",subject:`CIA Software User Registration - ${n.firstName} ${n.lastName}`,body:`
New user registered for CIA Software:

Name: ${n.firstName} ${n.lastName}
University: ${n.university}
Position: ${n.position}
Degree: ${n.degree}
Email: ${n.email}
Registration Date: ${new Date().toLocaleString()}
Software Version: 1.6.2
        `};console.log("Sending email:",u),await new Promise(h=>setTimeout(h,2e3)),U.success(t==="fa"?"    ":"Information sent successfully"),e(n)}catch(u){U.error(t==="fa"?"   ":"Error sending information"),console.error(u)}finally{r(!1)}}};return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-8 w-full max-w-md",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:t==="fa"?" ":"User Information"}),d.jsx("p",{className:"text-gray-600 text-sm",children:t==="fa"?"        ":"Please enter your information for registration"})]}),d.jsxs("form",{onSubmit:l,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[t==="fa"?"":"First Name"," *"]}),d.jsx("input",{type:"text",value:n.firstName,onChange:c=>o("firstName",c.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:t==="fa"?"    ":"Enter your first name"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[t==="fa"?" ":"Last Name"," *"]}),d.jsx("input",{type:"text",value:n.lastName,onChange:c=>o("lastName",c.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:t==="fa"?"     ":"Enter your last name"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[t==="fa"?"":"University"," *"]}),d.jsx("input",{type:"text",value:n.university,onChange:c=>o("university",c.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:t==="fa"?"     ":"Enter your university name"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[t==="fa"?"":"Position"," *"]}),d.jsxs("select",{value:n.position,onChange:c=>o("position",c.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[d.jsx("option",{value:"",children:t==="fa"?" ":"Select"}),d.jsx("option",{value:"student",children:t==="fa"?"":"Student"}),d.jsx("option",{value:"researcher",children:t==="fa"?"":"Researcher"}),d.jsx("option",{value:"assistant_professor",children:t==="fa"?" ":"Assistant Professor"}),d.jsx("option",{value:"associate_professor",children:t==="fa"?"":"Associate Professor"}),d.jsx("option",{value:"professor",children:t==="fa"?"":"Professor"}),d.jsx("option",{value:"other",children:t==="fa"?"":"Other"})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[t==="fa"?" ":"Degree"," *"]}),d.jsxs("select",{value:n.degree,onChange:c=>o("degree",c.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[d.jsx("option",{value:"",children:t==="fa"?" ":"Select"}),d.jsx("option",{value:"bachelor",children:t==="fa"?"":"Bachelor"}),d.jsx("option",{value:"master",children:t==="fa"?" ":"Master"}),d.jsx("option",{value:"phd",children:t==="fa"?"":"PhD"}),d.jsx("option",{value:"postdoc",children:t==="fa"?"":"Post-Doc"}),d.jsx("option",{value:"faculty",children:t==="fa"?"  ":"Faculty"}),d.jsx("option",{value:"other",children:t==="fa"?"":"Other"})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[t==="fa"?" ":"Email Address"," *"]}),d.jsx("input",{type:"email",value:n.email,onChange:c=>o("email",c.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:t==="fa"?"    ":"Enter your email address"})]}),d.jsx("button",{type:"submit",disabled:s,className:"w-full px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 font-medium",children:s?t==="fa"?"  ...":"Sending...":t==="fa"?"   ":"Register and Continue"})]}),d.jsx("div",{className:"mt-6 text-center text-xs text-gray-500",children:d.jsx("p",{children:t==="fa"?"         ":"Your information will be sent for software usage statistics"})})]})})}function VS(){const[t,e]=B.useState("description"),[n,i]=B.useState(null),[s,r]=B.useState(null),o=l=>{i(l),e("userInfo")},a=l=>{r(l),e("analysis")};if(t==="description")return d.jsx(WS,{language:"fa",onContinue:()=>e("language")});if(t==="language")return d.jsx($S,{onLanguageSelect:o});if(t==="userInfo"&&n)return d.jsx(HS,{language:n,onSubmit:a});if(t==="analysis"&&n){const l=Qt(n),c=n==="fa";return d.jsxs("div",{className:`min-h-screen flex flex-col bg-gray-50 ${c?"rtl":"ltr"}`,dir:c?"rtl":"ltr",children:[d.jsxs("header",{className:"sticky top-0 z-10 bg-white/80 backdrop-blur-sm h-16 flex justify-between items-center border-b shadow-sm px-4",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("h2",{className:"text-xl font-semibold text-primary",children:l.appTitleShort}),d.jsx("button",{onClick:()=>e("language"),className:"text-sm text-gray-500 hover:text-gray-700 px-2 py-1 rounded border border-gray-300 hover:border-gray-400",children:n==="fa"?" EN":" "})]}),d.jsx("div",{className:"text-sm text-gray-600",children:l.appSubtitle})]}),d.jsx("main",{className:"flex-1 p-4",children:d.jsx("div",{className:"max-w-7xl mx-auto",children:d.jsx(BS,{language:n,userInfo:s})})}),d.jsx("footer",{className:"bg-white border-t py-3 px-4",children:d.jsx("div",{className:"max-w-7xl mx-auto text-center",children:d.jsx("p",{className:"text-xs text-gray-500",children:l.copyright})})})]})}return null}el.createRoot(document.getElementById("root")).render(d.jsx(ff.StrictMode,{children:d.jsx(VS,{})}));export{ra as _,YS as c,Vg as g};
